"use strict";var yU=Object.defineProperty,_U=Object.defineProperties,vU=Object.getOwnPropertyDescriptors,aP=Object.getOwnPropertySymbols,bU=Object.prototype.hasOwnProperty,wU=Object.prototype.propertyIsEnumerable,uP=(Qe,be,k)=>be in Qe?yU(Qe,be,{enumerable:!0,configurable:!0,writable:!0,value:k}):Qe[be]=k,cP=(Qe,be)=>{for(var k in be||(be={}))bU.call(be,k)&&uP(Qe,k,be[k]);if(aP)for(var k of aP(be))wU.call(be,k)&&uP(Qe,k,be[k]);return Qe},lP=(Qe,be)=>_U(Qe,vU(be));(self.webpackChunkVMS=self.webpackChunkVMS||[]).push([[179],{2011:(Qe,be,k)=>{k.d(be,{Dh:()=>oe,GT:()=>ge,cc:()=>Ae,hO:()=>qe,on:()=>H,pX:()=>ne,xv:()=>he});var c=k(5e3),X=k(127),R=k(5813);Qe=k.hmd(Qe);const ce=["ngOnDestroy"],ne=(Ce,Ge,We,Ie={})=>new Proxy(Ce,{get:(_e,we)=>We.runOutsideAngular(()=>{var Be;if(Ce[we])return(null===(Be=null==Ie?void 0:Ie.spy)||void 0===Be?void 0:Be.get)&&Ie.spy.get(we,Ce[we]),Ce[we];if(ce.indexOf(we)>-1)return()=>{};const Ve=Ge.toPromise().then(j=>{const ve=j&&j[we];return"function"==typeof ve?ve.bind(j):ve&&ve.then?ve.then(W=>We.run(()=>W)):We.run(()=>ve)});return new Proxy(()=>{},{get:(j,ve)=>Ve[ve],apply:(j,ve,W)=>Ve.then(re=>{var ee;const me=re&&re(...W);return(null===(ee=null==Ie?void 0:Ie.spy)||void 0===ee?void 0:ee.apply)&&Ie.spy.apply(we,W,me),me})})})}),ge=(Ce,Ge)=>{Ge.forEach(We=>{Object.getOwnPropertyNames(We.prototype||We).forEach(Ie=>{Object.defineProperty(Ce.prototype,Ie,Object.getOwnPropertyDescriptor(We.prototype||We,Ie))})})};class ue{constructor(Ge){return Ge}}const oe=new c.OlP("angularfire2.app.options"),he=new c.OlP("angularfire2.app.name");function H(Ce,Ge,We){const _e="object"==typeof We&&We||{};_e.name=_e.name||"string"==typeof We&&We||"[DEFAULT]";const Be=X.Z.apps.filter(Ve=>Ve&&Ve.name===_e.name)[0]||Ge.runOutsideAngular(()=>X.Z.initializeApp(Ce,_e));try{JSON.stringify(Ce)!==JSON.stringify(Be.options)&&B("error",`${Be.name} Firebase App already initialized with different options${Qe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ve){}return new ue(Be)}const B=(Ce,...Ge)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ce](...Ge)},te={provide:ue,useFactory:H,deps:[oe,c.R0b,[new c.FiY,he]]};let qe=(()=>{class Ce{constructor(We){X.Z.registerVersion("angularfire",R.q4.full,"core"),X.Z.registerVersion("angularfire",R.q4.full,"app-compat"),X.Z.registerVersion("angular",c.q4F.full,We.toString())}static initializeApp(We,Ie){return{ngModule:Ce,providers:[{provide:oe,useValue:We},{provide:he,useValue:Ie}]}}}return Ce.\u0275fac=function(We){return new(We||Ce)(c.LFG(c.Lbi))},Ce.\u0275mod=c.oAB({type:Ce}),Ce.\u0275inj=c.cJS({providers:[te]}),Ce})();function Ae(Ce,Ge,We,Ie,_e){const[,we,Be]=globalThis.\u0275AngularfireInstanceCache.find(Ve=>Ve[0]===Ce)||[];if(we)return function Pe(Ce,Ge){try{return Ce.toString()===Ge.toString()}catch(We){return Ce===Ge}}(_e,Be)||(pe("error",`${Ge} was already initialized on the ${We} Firebase App with different settings.${Ue?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:_e,was:Be})),we;{const Ve=Ie();return globalThis.\u0275AngularfireInstanceCache.push([Ce,Ve,_e]),Ve}}const Ue=!!Qe.hot,pe=(Ce,...Ge)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ce](...Ge)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Qe,be,k)=>{k.d(be,{q4:()=>Fs,iC:()=>Bc,fc:()=>Ki,HU:()=>Jh,vb:()=>pg,JM:()=>Oa});var c=k(5e3),X=k(5867),R=k(5861),ce=k(9681),ne=k(2090),ge=k(4859),ue=k(1877),oe=k(8766);const he="@firebase/installations",H="0.5.9",te=`w:${H}`,qe="FIS_v2",Ge=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function We(I){return I instanceof ne.ZR&&I.code.includes("request-failed")}function Ie({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function _e(I){return{token:I.token,requestStatus:2,expiresIn:re(I.expiresIn),creationTime:Date.now()}}function we(I,D){return Be.apply(this,arguments)}function Be(){return(Be=(0,R.Z)(function*(I,D){const F=(yield D.json()).error;return Ge.create("request-failed",{requestName:I,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function Ve({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function j(I,{refreshToken:D}){const O=Ve(I);return O.append("Authorization",function ee(I){return`${qe} ${I}`}(D)),O}function ve(I){return W.apply(this,arguments)}function W(){return(W=(0,R.Z)(function*(I){const D=yield I();return D.status>=500&&D.status<600?I():D})).apply(this,arguments)}function re(I){return Number(I.replace("s","000"))}function me(I,D){return ae.apply(this,arguments)}function ae(){return(ae=(0,R.Z)(function*({appConfig:I,heartbeatServiceProvider:D},{fid:O}){const F=Ie(I),Y=Ve(I),ie=D.getImmediate({optional:!0});if(ie){const bt=yield ie.getHeartbeatsHeader();bt&&Y.append("x-firebase-client",bt)}const Xe={method:"POST",headers:Y,body:JSON.stringify({fid:O,authVersion:qe,appId:I.appId,sdkVersion:te})},et=yield ve(()=>fetch(F,Xe));if(et.ok){const bt=yield et.json();return{fid:bt.fid||O,registrationStatus:2,refreshToken:bt.refreshToken,authToken:_e(bt.authToken)}}throw yield we("Create Installation",et)})).apply(this,arguments)}function ke(I){return new Promise(D=>{setTimeout(D,I)})}const Ht=/^[cdef][\w-]{21}$/;function ze(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const O=function Jt(I){return function at(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Ht.test(O)?O:""}catch(I){return""}}function Cn(I){return`${I.appName}!${I.appId}`}const tn=new Map;function Wt(I,D){const O=Cn(I);Rt(O,D),function rs(I,D){const O=function ar(){return!Qr&&"BroadcastChannel"in self&&(Qr=new BroadcastChannel("[Firebase] FID Change"),Qr.onmessage=I=>{Rt(I.data.key,I.data.fid)}),Qr}();O&&O.postMessage({key:I,fid:D}),function wr(){0===tn.size&&Qr&&(Qr.close(),Qr=null)}()}(O,D)}function Rt(I,D){const O=tn.get(I);if(O)for(const F of O)F(D)}let Qr=null;const Xr="firebase-installations-store";let Ei=null;function pt(){return Ei||(Ei=(0,oe.X3)("firebase-installations-database",1,{upgrade:(I,D)=>{0===D&&I.createObjectStore(Xr)}})),Ei}function ei(I,D){return mn.apply(this,arguments)}function mn(){return(mn=(0,R.Z)(function*(I,D){const O=Cn(I),Y=(yield pt()).transaction(Xr,"readwrite"),ie=Y.objectStore(Xr),Oe=yield ie.get(O);return yield ie.put(D,O),yield Y.done,(!Oe||Oe.fid!==D.fid)&&Wt(I,D.fid),D})).apply(this,arguments)}function En(I){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,R.Z)(function*(I){const D=Cn(I),F=(yield pt()).transaction(Xr,"readwrite");yield F.objectStore(Xr).delete(D),yield F.done})).apply(this,arguments)}function ti(I,D){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,R.Z)(function*(I,D){const O=Cn(I),Y=(yield pt()).transaction(Xr,"readwrite"),ie=Y.objectStore(Xr),Oe=yield ie.get(O),Xe=D(Oe);return void 0===Xe?yield ie.delete(O):yield ie.put(Xe,O),yield Y.done,Xe&&(!Oe||Oe.fid!==Xe.fid)&&Wt(I,Xe.fid),Xe})).apply(this,arguments)}function Pn(I){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,R.Z)(function*(I){let D;const O=yield ti(I.appConfig,F=>{const Y=So(F),ie=$t(I,Y);return D=ie.registrationPromise,ie.installationEntry});return""===O.fid?{installationEntry:yield D}:{installationEntry:O,registrationPromise:D}})).apply(this,arguments)}function So(I){return Ys(I||{fid:ze(),registrationStatus:0})}function $t(I,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Ge.create("app-offline"))};const O={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},F=function it(I,D){return vt.apply(this,arguments)}(I,O);return{installationEntry:O,registrationPromise:F}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:ur(I)}:{installationEntry:D}}function vt(){return(vt=(0,R.Z)(function*(I,D){try{const O=yield me(I,D);return ei(I.appConfig,O)}catch(O){throw We(O)&&409===O.customData.serverCode?yield En(I.appConfig):yield ei(I.appConfig,{fid:D.fid,registrationStatus:0}),O}})).apply(this,arguments)}function ur(I){return ni.apply(this,arguments)}function ni(){return(ni=(0,R.Z)(function*(I){let D=yield Lt(I.appConfig);for(;1===D.registrationStatus;)yield ke(100),D=yield Lt(I.appConfig);if(0===D.registrationStatus){const{installationEntry:O,registrationPromise:F}=yield Pn(I);return F||O}return D})).apply(this,arguments)}function Lt(I){return ti(I,D=>{if(!D)throw Ge.create("installation-not-found");return Ys(D)})}function Ys(I){return function cr(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function lr(I,D){return L.apply(this,arguments)}function L(){return(L=(0,R.Z)(function*({appConfig:I,heartbeatServiceProvider:D},O){const F=G(I,O),Y=j(I,O),ie=D.getImmediate({optional:!0});if(ie){const bt=yield ie.getHeartbeatsHeader();bt&&Y.append("x-firebase-client",bt)}const Xe={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:te,appId:I.appId}})},et=yield ve(()=>fetch(F,Xe));if(et.ok)return _e(yield et.json());throw yield we("Generate Auth Token",et)})).apply(this,arguments)}function G(I,{fid:D}){return`${Ie(I)}/${D}/authTokens:generate`}function Z(I){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,R.Z)(function*(I,D=!1){let O;const F=yield ti(I.appConfig,ie=>{if(!Ct(ie))throw Ge.create("not-registered");const Oe=ie.authToken;if(!D&&cn(Oe))return ie;if(1===Oe.requestStatus)return O=$(I,D),ie;{if(!navigator.onLine)throw Ge.create("app-offline");const Xe=Un(ie);return O=Ye(I,Xe),Xe}});return O?yield O:F.authToken})).apply(this,arguments)}function $(I,D){return Q.apply(this,arguments)}function Q(){return(Q=(0,R.Z)(function*(I,D){let O=yield xe(I.appConfig);for(;1===O.authToken.requestStatus;)yield ke(100),O=yield xe(I.appConfig);const F=O.authToken;return 0===F.requestStatus?Z(I,D):F})).apply(this,arguments)}function xe(I){return ti(I,D=>{if(!Ct(D))throw Ge.create("not-registered");return function Cr(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Ye(I,D){return dt.apply(this,arguments)}function dt(){return(dt=(0,R.Z)(function*(I,D){try{const O=yield lr(I,D),F=Object.assign(Object.assign({},D),{authToken:O});return yield ei(I.appConfig,F),O}catch(O){if(!We(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const F=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield ei(I.appConfig,F)}else yield En(I.appConfig);throw O}})).apply(this,arguments)}function Ct(I){return void 0!==I&&2===I.registrationStatus}function cn(I){return 2===I.requestStatus&&!function wt(I){const D=Date.now();return D<I.creationTime||I.creationTime+I.expiresIn<D+36e5}(I)}function Un(I){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:D})}function da(){return(da=(0,R.Z)(function*(I){const D=I,{installationEntry:O,registrationPromise:F}=yield Pn(D);return F?F.catch(console.error):Z(D).catch(console.error),O.fid})).apply(this,arguments)}function ha(){return(ha=(0,R.Z)(function*(I,D=!1){const O=I;return yield Vn(O),(yield Z(O,D)).token})).apply(this,arguments)}function Vn(I){return Er.apply(this,arguments)}function Er(){return(Er=(0,R.Z)(function*(I){const{registrationPromise:D}=yield Pn(I);D&&(yield D)})).apply(this,arguments)}function xo(I){return Ge.create("missing-app-config-values",{valueName:I})}const Lr="installations",ot=I=>{const D=I.getProvider("app").getImmediate(),O=function Xn(I){if(!I||!I.options)throw xo("App Configuration");if(!I.name)throw xo("App Name");const D=["projectId","apiKey","appId"];for(const O of D)if(!I.options[O])throw xo(O);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(D);return{app:D,appConfig:O,heartbeatServiceProvider:(0,ce._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Xt=I=>{const D=I.getProvider("app").getImmediate(),O=(0,ce._getProvider)(D,Lr).getImmediate();return{getId:()=>function au(I){return da.apply(this,arguments)}(O),getToken:Y=>function uu(I){return ha.apply(this,arguments)}(O,Y)}};(function Ur(){(0,ce._registerComponent)(new ge.wA(Lr,ot,"PUBLIC")),(0,ce._registerComponent)(new ge.wA("installations-internal",Xt,"PRIVATE"))})(),(0,ce.registerVersion)(he,H),(0,ce.registerVersion)(he,H,"esm2017");const Fi="@firebase/remote-config",In=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Bh{constructor(D,O,F,Y){this.client=D,this.storage=O,this.storageCache=F,this.logger=Y}isCachedDataFresh(D,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-O,Y=F<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Y}.`),Y}fetch(D){var O=this;return(0,R.Z)(function*(){const[F,Y]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(Y&&O.isCachedDataFresh(D.cacheMaxAgeMillis,F))return Y;D.eTag=Y&&Y.eTag;const ie=yield O.client.fetch(D),Oe=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&Oe.push(O.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(Oe),ie})()}}function Hl(I=navigator){return I.languages&&I.languages[0]||I.language}class dr{constructor(D,O,F,Y,ie,Oe){this.firebaseInstallations=D,this.sdkVersion=O,this.namespace=F,this.projectId=Y,this.apiKey=ie,this.appId=Oe}fetch(D){var O=this;return(0,R.Z)(function*(){const[F,Y]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Oe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,Xe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},et={sdk_version:O.sdkVersion,app_instance_id:F,app_instance_id_token:Y,app_id:O.appId,language_code:Hl()},bt={method:"POST",headers:Xe,body:JSON.stringify(et)},Vt=fetch(Oe,bt),Et=new Promise((Jn,qr)=>{D.signal.addEventListener(()=>{const Wo=new Error("The operation was aborted.");Wo.name="AbortError",qr(Wo)})});let An;try{yield Promise.race([Vt,Et]),An=yield Vt}catch(Jn){let qr="fetch-client-network";throw"AbortError"===Jn.name&&(qr="fetch-timeout"),In.create(qr,{originalErrorMessage:Jn.message})}let nr=An.status;const Vs=An.headers.get("ETag")||void 0;let Ji,$r;if(200===An.status){let Jn;try{Jn=yield An.json()}catch(qr){throw In.create("fetch-client-parse",{originalErrorMessage:qr.message})}Ji=Jn.entries,$r=Jn.state}if("INSTANCE_STATE_UNSPECIFIED"===$r?nr=500:"NO_CHANGE"===$r?nr=304:("NO_TEMPLATE"===$r||"EMPTY_CONFIG"===$r)&&(Ji={}),304!==nr&&200!==nr)throw In.create("fetch-status",{httpStatus:nr});return{status:nr,eTag:Vs,config:Ji}})()}}class tg{constructor(D,O){this.client=D,this.storage=O}fetch(D){var O=this;return(0,R.Z)(function*(){const F=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(D,F)})()}attemptFetch(D,{throttleEndTimeMillis:O,backoffCount:F}){var Y=this;return(0,R.Z)(function*(){yield function Ms(I,D){return new Promise((O,F)=>{const Y=Math.max(D-Date.now(),0),ie=setTimeout(O,Y);I.addEventListener(()=>{clearTimeout(ie),F(In.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,O);try{const ie=yield Y.client.fetch(D);return yield Y.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function $l(I){if(!(I instanceof ne.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ie))throw ie;const Oe={throttleEndTimeMillis:Date.now()+(0,ne.$s)(F),backoffCount:F+1};return yield Y.storage.setThrottleMetadata(Oe),Y.attemptFetch(D,Oe)}})()}}class ql{constructor(D,O,F,Y,ie){this.app=D,this._client=O,this._storageCache=F,this._storage=Y,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pc(I,D){const O=I.target.error||void 0;return In.create(D,{originalErrorMessage:O&&O.message})}const Os="app_namespace_store";class sg{constructor(D,O,F,Y=function ig(){return new Promise((I,D)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=F=>{D(pc(F,"storage-open"))},O.onsuccess=F=>{I(F.target.result)},O.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(Os,{keyPath:"compositeKey"})}}catch(O){D(In.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=D,this.appName=O,this.namespace=F,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var O=this;return(0,R.Z)(function*(){const F=yield O.openDbPromise;return new Promise((Y,ie)=>{const Xe=F.transaction([Os],"readonly").objectStore(Os),et=O.createCompositeKey(D);try{const bt=Xe.get(et);bt.onerror=Vt=>{ie(pc(Vt,"storage-get"))},bt.onsuccess=Vt=>{const Et=Vt.target.result;Y(Et?Et.value:void 0)}}catch(bt){ie(In.create("storage-get",{originalErrorMessage:bt&&bt.message}))}})})()}set(D,O){var F=this;return(0,R.Z)(function*(){const Y=yield F.openDbPromise;return new Promise((ie,Oe)=>{const et=Y.transaction([Os],"readwrite").objectStore(Os),bt=F.createCompositeKey(D);try{const Vt=et.put({compositeKey:bt,value:O});Vt.onerror=Et=>{Oe(pc(Et,"storage-set"))},Vt.onsuccess=()=>{ie()}}catch(Vt){Oe(In.create("storage-set",{originalErrorMessage:Vt&&Vt.message}))}})})()}delete(D){var O=this;return(0,R.Z)(function*(){const F=yield O.openDbPromise;return new Promise((Y,ie)=>{const Xe=F.transaction([Os],"readwrite").objectStore(Os),et=O.createCompositeKey(D);try{const bt=Xe.delete(et);bt.onerror=Vt=>{ie(pc(Vt,"storage-delete"))},bt.onsuccess=()=>{Y()}}catch(bt){ie(In.create("storage-delete",{originalErrorMessage:bt&&bt.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Zl{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,R.Z)(function*(){const O=D.storage.getLastFetchStatus(),F=D.storage.getLastSuccessfulFetchTimestampMillis(),Y=D.storage.getActiveConfig(),ie=yield O;ie&&(D.lastFetchStatus=ie);const Oe=yield F;Oe&&(D.lastSuccessfulFetchTimestampMillis=Oe);const Xe=yield Y;Xe&&(D.activeConfig=Xe)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function hu(){return zl.apply(this,arguments)}function zl(){return(zl=(0,R.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(I){return!1}})).apply(this,arguments)}!function Oo(){(0,ce._registerComponent)(new ge.wA("remote-config",function I(D,{instanceIdentifier:O}){const F=D.getProvider("app").getImmediate(),Y=D.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw In.create("registration-window");if(!(0,ne.hl)())throw In.create("indexed-db-unavailable");const{projectId:ie,apiKey:Oe,appId:Xe}=F.options;if(!ie)throw In.create("registration-project-id");if(!Oe)throw In.create("registration-api-key");if(!Xe)throw In.create("registration-app-id");const et=new sg(Xe,F.name,O=O||"firebase"),bt=new Zl(et),Vt=new ue.Yd(Fi);Vt.logLevel=ue.in.ERROR;const Et=new dr(Y,ce.SDK_VERSION,O,ie,Oe,Xe),An=new tg(Et,et),nr=new Bh(An,et,bt,Vt),Vs=new ql(F,nr,bt,et,Vt);return function nn(I){const D=(0,ne.m9)(I);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Vs),Vs},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Fi,"0.3.8"),(0,ce.registerVersion)(Fi,"0.3.8","esm2017")}();const Wl="/firebase-messaging-sw.js",hr="/firebase-cloud-messaging-push-scope",Xs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Po="google.c.a.c_id",Kl="google.c.a.c_l",Hh="google.c.a.ts",fu="google.c.a.e";var ko=(()=>{return(I=ko||(ko={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",ko;var I})();function Ir(I){const D=new Uint8Array(I);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Yl(I){const O=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(O),Y=new Uint8Array(F.length);for(let ie=0;ie<F.length;++ie)Y[ie]=F.charCodeAt(ie);return Y}const Dr="fcm_token_details_db",ri="fcm_token_object_Store";function gc(I){return Jl.apply(this,arguments)}function Jl(){return Jl=(0,R.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(Dr))return null;let D=null;return(yield(0,oe.X3)(Dr,5,{upgrade:(F=(0,R.Z)(function*(Y,ie,Oe,Xe){var et;if(ie<2||!Y.objectStoreNames.contains(ri))return;const bt=Xe.objectStore(ri),Vt=yield bt.index("fcmSenderId").get(I);if(yield bt.clear(),Vt)if(2===ie){const Et=Vt;if(!Et.auth||!Et.p256dh||!Et.endpoint)return;D={token:Et.fcmToken,createTime:null!==(et=Et.createTime)&&void 0!==et?et:Date.now(),subscriptionOptions:{auth:Et.auth,p256dh:Et.p256dh,endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:"string"==typeof Et.vapidKey?Et.vapidKey:Ir(Et.vapidKey)}}}else if(3===ie){const Et=Vt;D={token:Et.fcmToken,createTime:Et.createTime,subscriptionOptions:{auth:Ir(Et.auth),p256dh:Ir(Et.p256dh),endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:Ir(Et.vapidKey)}}}else if(4===ie){const Et=Vt;D={token:Et.fcmToken,createTime:Et.createTime,subscriptionOptions:{auth:Ir(Et.auth),p256dh:Ir(Et.p256dh),endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:Ir(Et.vapidKey)}}}}),function(ie,Oe,Xe,et){return F.apply(this,arguments)})})).close(),yield(0,oe.Lj)(Dr),yield(0,oe.Lj)("fcm_vapid_details_db"),yield(0,oe.Lj)("undefined"),mc(D)?D:null;var F}),Jl.apply(this,arguments)}function mc(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:D}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Hi="firebase-messaging-store";let $h=null;function en(){return $h||($h=(0,oe.X3)("firebase-messaging-database",1,{upgrade:(I,D)=>{0===D&&I.createObjectStore(Hi)}})),$h}function ya(I){return to.apply(this,arguments)}function to(){return(to=(0,R.Z)(function*(I){const D=er(I),F=yield(yield en()).transaction(Hi).objectStore(Hi).get(D);if(F)return F;{const Y=yield gc(I.appConfig.senderId);if(Y)return yield Kt(I,Y),Y}})).apply(this,arguments)}function Kt(I,D){return _a.apply(this,arguments)}function _a(){return(_a=(0,R.Z)(function*(I,D){const O=er(I),Y=(yield en()).transaction(Hi,"readwrite");return yield Y.objectStore(Hi).put(D,O),yield Y.done,D})).apply(this,arguments)}function pu(I){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,R.Z)(function*(I){const D=er(I),F=(yield en()).transaction(Hi,"readwrite");yield F.objectStore(Hi).delete(D),yield F.done})).apply(this,arguments)}function er({appConfig:I}){return I.appId}const gn=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $i(I,D){return tr.apply(this,arguments)}function tr(){return(tr=(0,R.Z)(function*(I,D){const O=yield Fo(I),F=ks(D),Y={method:"POST",headers:O,body:JSON.stringify(F)};let ie;try{ie=yield(yield fetch(qi(I.appConfig),Y)).json()}catch(Oe){throw gn.create("token-subscribe-failed",{errorInfo:Oe})}if(ie.error)throw gn.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw gn.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function no(I,D){return as.apply(this,arguments)}function as(){return(as=(0,R.Z)(function*(I,D){const O=yield Fo(I),F=ks(D.subscriptionOptions),Y={method:"PATCH",headers:O,body:JSON.stringify(F)};let ie;try{ie=yield(yield fetch(`${qi(I.appConfig)}/${D.token}`,Y)).json()}catch(Oe){throw gn.create("token-update-failed",{errorInfo:Oe})}if(ie.error)throw gn.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw gn.create("token-update-no-token");return ie.token})).apply(this,arguments)}function va(I,D){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,R.Z)(function*(I,D){const F={method:"DELETE",headers:yield Fo(I)};try{const ie=yield(yield fetch(`${qi(I.appConfig)}/${D}`,F)).json();if(ie.error)throw gn.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(Y){throw gn.create("token-unsubscribe-failed",{errorInfo:Y})}})).apply(this,arguments)}function qi({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Fo(I){return gt.apply(this,arguments)}function gt(){return(gt=(0,R.Z)(function*({appConfig:I,installations:D}){const O=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function ks({p256dh:I,auth:D,endpoint:O,vapidKey:F}){const Y={web:{endpoint:O,auth:D,p256dh:I}};return F!==Xs&&(Y.web.applicationPubKey=F),Y}const vc=6048e5;function ba(I){return bc.apply(this,arguments)}function bc(){return(bc=(0,R.Z)(function*(I){const D=yield Uo(I.swRegistration,I.vapidKey),O={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:D.endpoint,auth:Ir(D.getKey("auth")),p256dh:Ir(D.getKey("p256dh"))},F=yield ya(I.firebaseDependencies);if(F){if(yu(F.subscriptionOptions,O))return Date.now()>=F.createTime+vc?wc(I,{token:F.token,createTime:Date.now(),subscriptionOptions:O}):F.token;try{yield va(I.firebaseDependencies,F.token)}catch(Y){console.warn(Y)}return De(I.firebaseDependencies,O)}return De(I.firebaseDependencies,O)})).apply(this,arguments)}function gu(I){return mu.apply(this,arguments)}function mu(){return(mu=(0,R.Z)(function*(I){const D=yield ya(I.firebaseDependencies);D&&(yield va(I.firebaseDependencies,D.token),yield pu(I.firebaseDependencies));const O=yield I.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function wc(I,D){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,R.Z)(function*(I,D){try{const O=yield no(I.firebaseDependencies,D),F=Object.assign(Object.assign({},D),{token:O,createTime:Date.now()});return yield Kt(I.firebaseDependencies,F),O}catch(O){throw yield gu(I),O}})).apply(this,arguments)}function De(I,D){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,R.Z)(function*(I,D){const F={token:yield $i(I,D),createTime:Date.now(),subscriptionOptions:D};return yield Kt(I,F),F.token})).apply(this,arguments)}function Uo(I,D){return dn.apply(this,arguments)}function dn(){return(dn=(0,R.Z)(function*(I,D){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Yl(D)})})).apply(this,arguments)}function yu(I,D){return D.vapidKey===I.vapidKey&&D.endpoint===I.endpoint&&D.auth===I.auth&&D.p256dh===I.p256dh}function ro(I){const D={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function ii(I,D){if(!D.notification)return;I.notification={};const O=D.notification.title;O&&(I.notification.title=O);const F=D.notification.body;F&&(I.notification.body=F);const Y=D.notification.image;Y&&(I.notification.image=Y)}(D,I),function Cc(I,D){!D.data||(I.data=D.data)}(D,I),function Ec(I,D){if(!D.fcmOptions)return;I.fcmOptions={};const O=D.fcmOptions.link;O&&(I.fcmOptions.link=O);const F=D.fcmOptions.analytics_label;F&&(I.fcmOptions.analyticsLabel=F)}(D,I),D}function Ic(I){return"object"==typeof I&&!!I&&Po in I}function Ql(I,D){const O=[];for(let F=0;F<I.length;F++)O.push(I.charAt(F)),F<D.length&&O.push(D.charAt(F));return O.join("")}function us(I){return gn.create("missing-app-config-values",{valueName:I})}Ql("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ql("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fr{constructor(D,O,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function og(I){if(!I||!I.options)throw us("App Configuration Object");if(!I.name)throw us("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:O}=I;for(const F of D)if(!O[F])throw us(F);return{appName:I.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Y,installations:O,analyticsProvider:F}}_delete(){return Promise.resolve()}}function si(I){return _u.apply(this,arguments)}function _u(){return(_u=(0,R.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Wl,{scope:hr}),I.swRegistration.update().catch(()=>{})}catch(D){throw gn.create("failed-service-worker-registration",{browserErrorMessage:D.message})}})).apply(this,arguments)}function Rs(I,D){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,R.Z)(function*(I,D){if(!D&&!I.swRegistration&&(yield si(I)),D||!I.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw gn.create("invalid-sw-registration");I.swRegistration=D}})).apply(this,arguments)}function Dc(I,D){return vu.apply(this,arguments)}function vu(){return(vu=(0,R.Z)(function*(I,D){D?I.vapidKey=D:I.vapidKey||(I.vapidKey=Xs)})).apply(this,arguments)}function Tc(){return(Tc=(0,R.Z)(function*(I,D){if(!navigator)throw gn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw gn.create("permission-blocked");return yield Dc(I,null==D?void 0:D.vapidKey),yield Rs(I,null==D?void 0:D.serviceWorkerRegistration),ba(I)})).apply(this,arguments)}function wa(I,D,O){return wu.apply(this,arguments)}function wu(){return(wu=(0,R.Z)(function*(I,D,O){const F=Cu(D);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:O[Po],message_name:O[Kl],message_time:O[Hh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Cu(I){switch(I){case ko.NOTIFICATION_CLICKED:return"notification_open";case ko.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ed(){return(ed=(0,R.Z)(function*(I,D){const O=D.data;if(!O.isFirebaseMessaging)return;I.onMessageHandler&&O.messageType===ko.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(ro(O)):I.onMessageHandler.next(ro(O)));const F=O.data;Ic(F)&&"1"===F[fu]&&(yield wa(I,O.messageType,F))})).apply(this,arguments)}const Eu="@firebase/messaging",td=I=>{const D=new fr(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function Xl(I,D){return ed.apply(this,arguments)}(D,O)),D},Vo=I=>{const D=I.getProvider("messaging").getImmediate();return{getToken:F=>function bu(I,D){return Tc.apply(this,arguments)}(D,F)}};function Iu(){return Br.apply(this,arguments)}function Br(){return(Br=(0,R.Z)(function*(){try{yield(0,ne.eu)()}catch(I){return!1}return"undefined"!=typeof window&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function nd(){(0,ce._registerComponent)(new ge.wA("messaging",td,"PUBLIC")),(0,ce._registerComponent)(new ge.wA("messaging-internal",Vo,"PRIVATE")),(0,ce.registerVersion)(Eu,"0.9.13"),(0,ce.registerVersion)(Eu,"0.9.13","esm2017")}();const id="analytics",ug="firebase_id",cs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",oo="https://www.googletagmanager.com/gtag/js",jn=new ue.Yd("@firebase/analytics");function sd(I){return Promise.all(I.map(D=>D.catch(O=>O)))}function cg(I,D){const O=document.createElement("script");O.src=`${oo}?l=${I}&id=${D}`,O.async=!0,document.head.appendChild(O)}function Bo(I,D,O,F,Y,ie){return Du.apply(this,arguments)}function Du(){return(Du=(0,R.Z)(function*(I,D,O,F,Y,ie){const Oe=F[Y];try{if(Oe)yield D[Oe];else{const et=(yield sd(O)).find(bt=>bt.measurementId===Y);et&&(yield D[et.appId])}}catch(Xe){jn.error(Xe)}I("config",Y,ie)})).apply(this,arguments)}function od(I,D,O,F,Y){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,R.Z)(function*(I,D,O,F,Y){try{let ie=[];if(Y&&Y.send_to){let Oe=Y.send_to;Array.isArray(Oe)||(Oe=[Oe]);const Xe=yield sd(O);for(const et of Oe){const bt=Xe.find(Et=>Et.measurementId===et),Vt=bt&&D[bt.appId];if(!Vt){ie=[];break}ie.push(Vt)}}0===ie.length&&(ie=Object.values(D)),yield Promise.all(ie),I("event",F,Y||{})}catch(ie){jn.error(ie)}})).apply(this,arguments)}function rn(){const I=window.document.getElementsByTagName("script");for(const D of Object.values(I))if(D.src&&D.src.includes(oo))return D;return null}const Si=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),jo=new class zi{constructor(D={},O=1e3){this.throttleMetadata=D,this.intervalMillis=O}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,O){this.throttleMetadata[D]=O}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function ad(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function ls(I){return jr.apply(this,arguments)}function jr(){return(jr=(0,R.Z)(function*(I){var D;const{appId:O,apiKey:F}=I,Y={method:"GET",headers:ad(F)},ie=cs.replace("{app-id}",O),Oe=yield fetch(ie,Y);if(200!==Oe.status&&304!==Oe.status){let Xe="";try{const et=yield Oe.json();(null===(D=et.error)||void 0===D?void 0:D.message)&&(Xe=et.error.message)}catch(et){}throw Si.create("config-fetch-failed",{httpStatus:Oe.status,responseMessage:Xe})}return Oe.json()})).apply(this,arguments)}function Ut(I){return mt.apply(this,arguments)}function mt(){return(mt=(0,R.Z)(function*(I,D=jo,O){const{appId:F,apiKey:Y,measurementId:ie}=I.options;if(!F)throw Si.create("no-app-id");if(!Y){if(ie)return{measurementId:ie,appId:F};throw Si.create("no-api-key")}const Oe=D.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xe=new ud;return setTimeout((0,R.Z)(function*(){Xe.abort()}),void 0!==O?O:6e4),Ho({appId:F,apiKey:Y,measurementId:ie},Oe,Xe,D)})).apply(this,arguments)}function Ho(I,D,O){return $o.apply(this,arguments)}function $o(){return($o=(0,R.Z)(function*(I,{throttleEndTimeMillis:D,backoffCount:O},F,Y=jo){const{appId:ie,measurementId:Oe}=I;try{yield Sc(F,D)}catch(Xe){if(Oe)return jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${Xe.message}]`),{appId:ie,measurementId:Oe};throw Xe}try{const Xe=yield ls(I);return Y.deleteThrottleMetadata(ie),Xe}catch(Xe){if(!xc(Xe)){if(Y.deleteThrottleMetadata(ie),Oe)return jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${Xe.message}]`),{appId:ie,measurementId:Oe};throw Xe}const et=503===Number(Xe.customData.httpStatus)?(0,ne.$s)(O,Y.intervalMillis,30):(0,ne.$s)(O,Y.intervalMillis),bt={throttleEndTimeMillis:Date.now()+et,backoffCount:O+1};return Y.setThrottleMetadata(ie,bt),jn.debug(`Calling attemptFetch again in ${et} millis`),Ho(I,bt,F,Y)}})).apply(this,arguments)}function Sc(I,D){return new Promise((O,F)=>{const Y=Math.max(D-Date.now(),0),ie=setTimeout(O,Y);I.addEventListener(()=>{clearTimeout(ie),F(Si.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function xc(I){if(!(I instanceof ne.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}class ud{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}function Mc(){return ds.apply(this,arguments)}function ds(){return(ds=(0,R.Z)(function*(){if(!(0,ne.hl)())return jn.warn(Si.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(I){return jn.warn(Si.create("indexeddb-unavailable",{errorInfo:I}).message),!1}return!0})).apply(this,arguments)}function qo(){return(qo=(0,R.Z)(function*(I,D,O,F,Y,ie,Oe){var Xe;const et=Ut(I);et.then(nr=>{O[nr.measurementId]=nr.appId,I.options.measurementId&&nr.measurementId!==I.options.measurementId&&jn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${nr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(nr=>jn.error(nr)),D.push(et);const bt=Mc().then(nr=>{if(nr)return F.getId()}),[Vt,Et]=yield Promise.all([et,bt]);rn()||cg(ie,Vt.measurementId),Y("js",new Date);const An=null!==(Xe=null==Oe?void 0:Oe.config)&&void 0!==Xe?Xe:{};return An.origin="firebase",An.update=!0,null!=Et&&(An[ug]=Et),Y("config",Vt.measurementId,An),Vt.measurementId})).apply(this,arguments)}class Ns{constructor(D){this.app=D}_delete(){return delete pr[this.app.options.appId],Promise.resolve()}}let pr={},Ia=[];const Tu={};let Au,hn,Tr="dataLayer",xi=!1;function Da(I,D,O){!function Pt(){const I=[];if((0,ne.ru)()&&I.push("This is a browser extension environment."),(0,ne.zI)()||I.push("Cookies are not available."),I.length>0){const D=I.map((F,Y)=>`(${Y+1}) ${F}`).join(" "),O=Si.create("invalid-analytics-context",{errorInfo:D});jn.warn(O.message)}}();const F=I.options.appId;if(!F)throw Si.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Si.create("no-api-key");jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=pr[F])throw Si.create("already-exists",{id:F});if(!xi){!function ao(I){let D=[];Array.isArray(window[I])?D=window[I]:window[I]=D}(Tr);const{wrappedGtag:ie,gtagCore:Oe}=function lg(I,D,O,F,Y){let ie=function(...Oe){window[F].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(ie=window[Y]),window[Y]=function Ea(I,D,O,F){function ie(){return(ie=(0,R.Z)(function*(Oe,Xe,et){try{"event"===Oe?yield od(I,D,O,Xe,et):"config"===Oe?yield Bo(I,D,O,F,Xe,et):I("set",Xe)}catch(bt){jn.error(bt)}})).apply(this,arguments)}return function Y(Oe,Xe,et){return ie.apply(this,arguments)}}(ie,I,D,O),{gtagCore:ie,wrappedGtag:window[Y]}}(pr,Ia,Tu,Tr,"gtag");hn=ie,Au=Oe,xi=!0}return pr[F]=function Yn(I,D,O,F,Y,ie,Oe){return qo.apply(this,arguments)}(I,Ia,Tu,D,Au,Tr,O),new Ns(I)}function Ta(){return(Ta=(0,R.Z)(function*(I,D,O,F,Y){if(Y&&Y.global)I("event",O,F);else{const ie=yield D;I("event",O,Object.assign(Object.assign({},F),{send_to:ie}))}})).apply(this,arguments)}function Zo(){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,R.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(I){return!1}})).apply(this,arguments)}const cd="@firebase/analytics";!function ld(){(0,ce._registerComponent)(new ge.wA(id,(D,{options:O})=>Da(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ce._registerComponent)(new ge.wA("analytics-internal",function I(D){try{const O=D.getProvider(id).getImmediate();return{logEvent:(F,Y,ie)=>function Wh(I,D,O,F){I=(0,ne.m9)(I),function co(I,D,O,F,Y){return Ta.apply(this,arguments)}(hn,pr[I.app.options.appId],D,O,F).catch(Y=>jn.error(Y))}(O,F,Y,ie)}}catch(O){throw Si.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ce.registerVersion)(cd,"0.7.9"),(0,ce.registerVersion)(cd,"0.7.9","esm2017")}();var Nc=k(4408),Fc=k(7565);const ui=new class Tn extends Fc.v{}(class zo extends Nc.o{constructor(D,O){super(D,O),this.scheduler=D,this.work=O}schedule(D,O=0){return O>0?super.schedule(D,O):(this.delay=O,this.state=D,this.scheduler.flush(this),this)}execute(D,O){return O>0||this.closed?super.execute(D,O):this._execute(D,O)}requestAsyncId(D,O,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(D,O,F):D.flush(this)}});var Lc=k(4986),hg=k(8505),Ar=k(5363),Nn=k(9468);const Fs=new c.GfV("7.4.1"),Ls="__angularfire_symbol__analyticsIsSupportedValue",ci="__angularfire_symbol__analyticsIsSupported",Us="__angularfire_symbol__remoteConfigIsSupportedValue",Mi="__angularfire_symbol__remoteConfigIsSupported",Ma="__angularfire_symbol__messagingIsSupportedValue",Kh="__angularfire_symbol__messagingIsSupported";function Oa(I,D,O){if(D){if(1===D.length)return D[0];const ie=D.filter(Oe=>Oe.app===O);if(1===ie.length)return ie[0]}return O.container.getProvider(I).getImmediate({optional:!0})}globalThis[ci]||(globalThis[ci]=Zo().then(I=>globalThis[Ls]=I).catch(()=>globalThis[Ls]=!1)),globalThis[Kh]||(globalThis[Kh]=Iu().then(I=>globalThis[Ma]=I).catch(()=>globalThis[Ma]=!1)),globalThis[Mi]||(globalThis[Mi]=hu().then(I=>globalThis[Us]=I).catch(()=>globalThis[Us]=!1));const pg=(I,D)=>{const O=D?[D]:(0,X.C6)(),F=[];return O.forEach(Y=>{Y.container.getProvider(I).instances.forEach(Oe=>{F.includes(Oe)||F.push(Oe)})}),F};function Wi(){}class hd{constructor(D,O=ui){this.zone=D,this.delegate=O}now(){return this.delegate.now()}schedule(D,O,F){const Y=this.zone;return this.delegate.schedule(function(Oe){Y.runGuarded(()=>{D.apply(this,[Oe])})},O,F)}}class Uc{constructor(D){this.zone=D,this.task=null}call(D,O){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wi,{},Wi,Wi)),O.pipe((0,hg.b)({next:F,complete:F,error:F})).subscribe(D).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Jh=(()=>{class I{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new hd(Zone.current)),this.insideAngular=O.run(()=>new hd(Zone.current,Lc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(O){return new(O||I)(c.LFG(c.R0b))},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function li(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Ki(I){return I.pipe((0,Ar.Q)(li().outsideAngular))}function Bc(I){return li(),function Yi(I){return function(O){return(O=O.lift(new Uc(I.ngZone))).pipe((0,Nn.R)(I.outsideAngular),(0,Ar.Q)(I.insideAngular))}}(li())(I)}},2090:(Qe,be,k)=>{k.d(be,{$s:()=>Lt,BH:()=>qe,G6:()=>Ve,L:()=>oe,LL:()=>ae,Mn:()=>we,Sg:()=>Ae,UG:()=>pe,US:()=>ge,ZB:()=>B,ZR:()=>me,b$:()=>We,d:()=>Ie,eu:()=>ve,hl:()=>j,jU:()=>Ce,m9:()=>lr,ne:()=>Ei,pd:()=>Ts,r3:()=>br,ru:()=>Ge,tV:()=>he,uI:()=>Ue,vZ:()=>Qr,w1:()=>_e,xO:()=>wr,xb:()=>Rt,z$:()=>Pe,zI:()=>W,zd:()=>Ni});const ce=function(L){const G=[];let Z=0;for(let Ee=0;Ee<L.length;Ee++){let $=L.charCodeAt(Ee);$<128?G[Z++]=$:$<2048?(G[Z++]=$>>6|192,G[Z++]=63&$|128):55296==(64512&$)&&Ee+1<L.length&&56320==(64512&L.charCodeAt(Ee+1))?($=65536+((1023&$)<<10)+(1023&L.charCodeAt(++Ee)),G[Z++]=$>>18|240,G[Z++]=$>>12&63|128,G[Z++]=$>>6&63|128,G[Z++]=63&$|128):(G[Z++]=$>>12|224,G[Z++]=$>>6&63|128,G[Z++]=63&$|128)}return G},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(L,G){if(!Array.isArray(L))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let $=0;$<L.length;$+=3){const Q=L[$],xe=$+1<L.length,Ye=xe?L[$+1]:0,dt=$+2<L.length,Ct=dt?L[$+2]:0;let Un=(15&Ye)<<2|Ct>>6,Cr=63&Ct;dt||(Cr=64,xe||(Un=64)),Ee.push(Z[Q>>2],Z[(3&Q)<<4|Ye>>4],Z[Un],Z[Cr])}return Ee.join("")},encodeString(L,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(L):this.encodeByteArray(ce(L),G)},decodeString(L,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(L):function(L){const G=[];let Z=0,Ee=0;for(;Z<L.length;){const $=L[Z++];if($<128)G[Ee++]=String.fromCharCode($);else if($>191&&$<224){const Q=L[Z++];G[Ee++]=String.fromCharCode((31&$)<<6|63&Q)}else if($>239&&$<365){const dt=((7&$)<<18|(63&L[Z++])<<12|(63&L[Z++])<<6|63&L[Z++])-65536;G[Ee++]=String.fromCharCode(55296+(dt>>10)),G[Ee++]=String.fromCharCode(56320+(1023&dt))}else{const Q=L[Z++],xe=L[Z++];G[Ee++]=String.fromCharCode((15&$)<<12|(63&Q)<<6|63&xe)}}return G.join("")}(this.decodeStringToByteArray(L,G))},decodeStringToByteArray(L,G){this.init_();const Z=G?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let $=0;$<L.length;){const Q=Z[L.charAt($++)],Ye=$<L.length?Z[L.charAt($)]:0;++$;const Ct=$<L.length?Z[L.charAt($)]:64;++$;const wt=$<L.length?Z[L.charAt($)]:64;if(++$,null==Q||null==Ye||null==Ct||null==wt)throw Error();Ee.push(Q<<2|Ye>>4),64!==Ct&&(Ee.push(Ye<<4&240|Ct>>2),64!==wt&&Ee.push(Ct<<6&192|wt))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let L=0;L<this.ENCODED_VALS.length;L++)this.byteToCharMap_[L]=this.ENCODED_VALS.charAt(L),this.charToByteMap_[this.byteToCharMap_[L]]=L,this.byteToCharMapWebSafe_[L]=this.ENCODED_VALS_WEBSAFE.charAt(L),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[L]]=L,L>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(L)]=L,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(L)]=L)}}},oe=function(L){return function(L){const G=ce(L);return ge.encodeByteArray(G,!0)}(L).replace(/\./g,"")},he=function(L){try{return ge.decodeString(L,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function B(L,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===L&&(L={});break;case Array:L=[];break;default:return G}for(const Z in G)!G.hasOwnProperty(Z)||!te(Z)||(L[Z]=B(L[Z],G[Z]));return L}function te(L){return"__proto__"!==L}class qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,Z)=>{this.resolve=G,this.reject=Z})}wrapCallback(G){return(Z,Ee)=>{Z?this.reject(Z):this.resolve(Ee),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(Z):G(Z,Ee))}}}function Ae(L,G){if(L.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=G||"demo-project",$=L.iat||0,Q=L.sub||L.user_id;if(!Q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const xe=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:$,exp:$+3600,auth_time:$,sub:Q,user_id:Q,firebase:{sign_in_provider:"custom",identities:{}}},L);return[oe(JSON.stringify({alg:"none",type:"JWT"})),oe(JSON.stringify(xe)),""].join(".")}function Pe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function pe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(L){return!1}}function Ce(){return"object"==typeof self&&self.self===self}function Ge(){const L="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof L&&void 0!==L.id}function We(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ie(){return Pe().indexOf("Electron/")>=0}function _e(){const L=Pe();return L.indexOf("MSIE ")>=0||L.indexOf("Trident/")>=0}function we(){return Pe().indexOf("MSAppHost/")>=0}function Ve(){return!pe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j(){return"object"==typeof indexedDB}function ve(){return new Promise((L,G)=>{try{let Z=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(Ee);$.onsuccess=()=>{$.result.close(),Z||self.indexedDB.deleteDatabase(Ee),L(!0)},$.onupgradeneeded=()=>{Z=!1},$.onerror=()=>{var Q;G((null===(Q=$.error)||void 0===Q?void 0:Q.message)||"")}}catch(Z){G(Z)}})}function W(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class me extends Error{constructor(G,Z,Ee){super(Z),this.code=G,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ae.prototype.create)}}class ae{constructor(G,Z,Ee){this.service=G,this.serviceName=Z,this.errors=Ee}create(G,...Z){const Ee=Z[0]||{},$=`${this.service}/${G}`,Q=this.errors[G],xe=Q?function ke(L,G){return L.replace(at,(Z,Ee)=>{const $=G[Ee];return null!=$?String($):`<${Ee}?>`})}(Q,Ee):"Error";return new me($,`${this.serviceName}: ${xe} (${$}).`,Ee)}}const at=/\{\$([^}]+)}/g;function br(L,G){return Object.prototype.hasOwnProperty.call(L,G)}function Rt(L){for(const G in L)if(Object.prototype.hasOwnProperty.call(L,G))return!1;return!0}function Qr(L,G){if(L===G)return!0;const Z=Object.keys(L),Ee=Object.keys(G);for(const $ of Z){if(!Ee.includes($))return!1;const Q=L[$],xe=G[$];if(ar(Q)&&ar(xe)){if(!Qr(Q,xe))return!1}else if(Q!==xe)return!1}for(const $ of Ee)if(!Z.includes($))return!1;return!0}function ar(L){return null!==L&&"object"==typeof L}function wr(L){const G=[];for(const[Z,Ee]of Object.entries(L))Array.isArray(Ee)?Ee.forEach($=>{G.push(encodeURIComponent(Z)+"="+encodeURIComponent($))}):G.push(encodeURIComponent(Z)+"="+encodeURIComponent(Ee));return G.length?"&"+G.join("&"):""}function Ni(L){const G={};return L.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[$,Q]=Ee.split("=");G[decodeURIComponent($)]=decodeURIComponent(Q)}}),G}function Ts(L){const G=L.indexOf("?");if(!G)return"";const Z=L.indexOf("#",G);return L.substring(G,Z>0?Z:void 0)}function Ei(L,G){const Z=new pt(L,G);return Z.subscribe.bind(Z)}class pt{constructor(G,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{G(this)}).catch(Ee=>{this.error(Ee)})}next(G){this.forEachObserver(Z=>{Z.next(G)})}error(G){this.forEachObserver(Z=>{Z.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,Z,Ee){let $;if(void 0===G&&void 0===Z&&void 0===Ee)throw new Error("Missing Observer.");$=function mn(L,G){if("object"!=typeof L||null===L)return!1;for(const Z of G)if(Z in L&&"function"==typeof L[Z])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:Z,complete:Ee},void 0===$.next&&($.next=En),void 0===$.error&&($.error=En),void 0===$.complete&&($.complete=En);const Q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch(xe){}}),this.observers.push($),Q}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,G)}sendOne(G,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{Z(this.observers[G])}catch(Ee){"undefined"!=typeof console&&console.error&&console.error(Ee)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function En(){}function Lt(L,G=1e3,Z=2){const Ee=G*Math.pow(Z,L),$=Math.round(.5*Ee*(Math.random()-.5)*2);return Math.min(144e5,Ee+$)}function lr(L){return L&&L._delegate?L._delegate:L}},2304:(Qe,be,k)=>{var c=k(5e3);let X=null;function R(){return X}const ue=new c.OlP("DocumentToken");let oe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function he(){return(0,c.LFG)(B)}()},providedIn:"platform"}),n})();const H=new c.OlP("Location Initialized");let B=(()=>{class n extends oe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){te()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){te()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function qe(){return new B((0,c.LFG)(ue))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function Ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Pe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ue(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ce(n){const e=(0,c.LFG)(ue).location;return new We((0,c.LFG)(oe),e&&e.origin||"")}()},providedIn:"root"}),n})();const Ge=new c.OlP("appBaseHref");let We=(()=>{class n extends pe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ae(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ue(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const d=this.prepareExternalUrl(i+Ue(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,u){const d=this.prepareExternalUrl(i+Ue(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(oe),c.LFG(Ge,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends pe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ae(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let d=this.prepareExternalUrl(i+Ue(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,u){let d=this.prepareExternalUrl(i+Ue(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(oe),c.LFG(Ge,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),_e=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Pe(Ve(i)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ue(r))}normalize(t){return n.stripTrailingSlash(function Be(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ve(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ue(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ue(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ue,n.joinWithSlash=Ae,n.stripTrailingSlash=Pe,n.\u0275fac=function(t){return new(t||n)(c.LFG(pe),c.LFG(oe))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function we(){return new _e((0,c.LFG)(pe),(0,c.LFG)(oe))}()},providedIn:"root"}),n})();function Ve(n){return n.replace(/\/index.html$/,"")}function Mo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}let ss=(()=>{class n{constructor(t,r,i,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Ss{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Ss(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,d),Qs(m,i)}});for(let i=0,u=r.length;i<u;i++){const m=r.get(i).context;m.index=i,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Qs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Qs(n,e){n.context.$implicit=e.item}let pn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new nn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){lu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){lu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class nn{constructor(){this.$implicit=null,this.ngIf=null}}function lu(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}let ga=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,u]=t.split(".");null!=(r=null!=r&&u?`${r}${u}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),Bh=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[c.TTD]}),n})(),fu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function Ro(n){return"server"===n}let mc=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new No((0,c.LFG)(ue),window)}),n})();class No{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Hi(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=yc(this.window.history)||yc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function yc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class en{}class to extends class ya extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ne(n){X||(X=n)}(new to)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function _a(){return Kt=Kt||document.querySelector("base"),Kt?Kt.getAttribute("href"):null}();return null==t?null:function Ps(n){pu=pu||document.createElement("a"),pu.setAttribute("href",n);const e=pu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Kt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Mo(document.cookie,e)}}let pu,Kt=null;const er=new c.OlP("TRANSITION_ID"),gn=[{provide:c.ip1,useFactory:function _c(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=R(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[er,ue,c.zs3],multi:!0}];class $i{static init(){(0,c.VLi)(new $i)}addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let u=i.length,d=!1;const m=function(v){d=d||v,u--,0==u&&r(d)};i.forEach(function(v){v.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let tr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const no=new c.OlP("EventManagerPlugins");let as=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const d=i[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(no),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class va{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=R().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Ti=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),qi=(()=>{class n extends Ti{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Fo),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Fo))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Fo(n){R().remove(n)}const gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ks=/%COMP%/g;function Lo(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Lo(n,i,t):(i=i.replace(ks,n),t.push(i))}return t}function De(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Uo=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new dn(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new ii(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case c.ifc.ShadowDom:return new Cc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Lo(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(as),c.LFG(qi),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class dn{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(gt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=gt[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=gt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,De(r)):this.eventManager.addEventListener(e,t,De(r))}}class ii extends dn{constructor(e,t,r,i){super(e),this.component=r;const u=Lo(i+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function mu(n){return"_ngcontent-%COMP%".replace(ks,n)}(i+"-"+r.id),this.hostAttr=function wc(n){return"_nghost-%COMP%".replace(ks,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Cc extends dn{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Lo(i.id,i.styles,[]);for(let d=0;d<u.length;d++){const m=document.createElement("style");m.textContent=u[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ec=(()=>{class n extends va{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Ic=["alt","control","meta","shift"],og={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},us={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},fr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let si=(()=>{class n extends va{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let d="";if(Ic.forEach(v=>{const E=r.indexOf(v);E>-1&&(r.splice(E,1),d+=v+".")}),d+=u,0!=r.length||0===u.length)return null;const m={};return m.domEventName=i,m.fullKey=d,m}static getEventFullKey(t){let r="",i=function _u(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&us.hasOwnProperty(e)&&(e=us[e]))}return og[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ic.forEach(u=>{u!=i&&fr[u](t)&&(r+=u+".")}),r+=i,r}static eventCallback(t,r,i){return u=>{n.getEventFullKey(u)===t&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const bu=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function Rs(){to.makeCurrent(),$i.init()},multi:!0},{provide:ue,useFactory:function Dc(){return(0,c.RDi)(document),document},deps:[]}]),Tc=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Ai(){return new c.qLn},deps:[]},{provide:no,useClass:Ec,multi:!0,deps:[ue,c.R0b,c.Lbi]},{provide:no,useClass:si,multi:!0,deps:[ue]},{provide:Uo,useClass:Uo,deps:[as,qi,c.AFp]},{provide:c.FYo,useExisting:Uo},{provide:Ti,useExisting:qi},{provide:qi,useClass:qi,deps:[ue]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:as,useClass:as,deps:[no,c.R0b]},{provide:en,useClass:tr,deps:[]}];let wa=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:er,useExisting:c.AFp},gn]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Tc,imports:[fu,c.hGG]}),n})();"undefined"!=typeof window&&window;let od=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):c.LFG(Ea),r},providedIn:"root"}),n})(),Ea=(()=>{class n extends od{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case c.q3G.NONE:return r;case c.q3G.HTML:return(0,c.qzn)(r,"HTML")?(0,c.z3N)(r):(0,c.EiD)(this._doc,String(r)).toString();case c.q3G.STYLE:return(0,c.qzn)(r,"Style")?(0,c.z3N)(r):r;case c.q3G.SCRIPT:if((0,c.qzn)(r,"Script"))return(0,c.z3N)(r);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(r),(0,c.qzn)(r,"URL")?(0,c.z3N)(r):(0,c.mCW)(String(r));case c.q3G.RESOURCE_URL:if((0,c.qzn)(r,"ResourceURL"))return(0,c.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Gi(n){return new Ea(n.get(ue))}(c.LFG(c.zs3)),r},providedIn:"root"}),n})();var rn=k(8996),Zi=k(8306);const{isArray:Si}=Array,{getPrototypeOf:uo,prototype:Gh,keys:zi}=Object;function jo(n){if(1===n.length){const e=n[0];if(Si(e))return{args:e,keys:null};if(function ad(n){return n&&"object"==typeof n&&uo(n)===Gh}(e)){const t=zi(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ls=k(8421),jr=k(7669),Ut=k(5403),mt=k(4004);const{isArray:Ho}=Array;function Sc(n){return(0,mt.U)(e=>function $o(n,e){return Ho(e)?n(...e):n(e)}(n,e))}function xc(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Mc=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),ds=(()=>{class n extends Mc{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Yn=new c.OlP("NgValueAccessor"),pr={provide:Yn,useExisting:(0,c.Gpc)(()=>Tr),multi:!0},Tu=new c.OlP("CompositionEventMode");let Tr=(()=>{class n extends Mc{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ia(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Tu,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[c._Bn([pr]),c.qOj]}),n})();function oi(n){return null==n||0===n.length}function Au(n){return null!=n&&"number"==typeof n.length}const hn=new c.OlP("NgValidators"),xi=new c.OlP("NgAsyncValidators"),dg=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pt{static min(e){return function Da(n){return e=>{if(oi(e.value)||oi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function co(n){return e=>{if(oi(e.value)||oi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Ta(e)}static requiredTrue(e){return function Oc(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function hs(n){return oi(n.value)||dg.test(n.value)?null:{email:!0}}(e)}static minLength(e){return Aa(e)}static maxLength(e){return function Go(n){return e=>Au(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Sa(n){if(!n)return ai;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(oi(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return kc(e)}static composeAsync(e){return Zh(e)}}function Ta(n){return oi(n.value)?{required:!0}:null}function Aa(n){return e=>oi(e.value)||!Au(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function ai(n){return null}function lo(n){return null!=n}function fs(n){const e=(0,c.QGY)(n)?(0,rn.D)(n):n;return(0,c.CqO)(e),e}function xa(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Su(n,e){return e.map(t=>t(n))}function Pc(n){return n.map(e=>function Zo(n){return!n.validate}(e)?e:t=>e.validate(t))}function kc(n){if(!n)return null;const e=n.filter(lo);return 0==e.length?null:function(t){return xa(Su(t,e))}}function fn(n){return null!=n?kc(Pc(n)):null}function Zh(n){if(!n)return null;const e=n.filter(lo);return 0==e.length?null:function(t){return function ud(...n){const e=(0,jr.jO)(n),{args:t,keys:r}=jo(n),i=new Zi.y(u=>{const{length:d}=t;if(!d)return void u.complete();const m=new Array(d);let v=d,E=d;for(let S=0;S<d;S++){let M=!1;(0,ls.Xf)(t[S]).subscribe((0,Ut.x)(u,U=>{M||(M=!0,E--),m[S]=U},()=>v--,void 0,()=>{(!v||!M)&&(E||u.next(r?xc(r,m):m),u.complete())}))}});return e?i.pipe(Sc(e)):i}(Su(t,e).map(fs)).pipe((0,mt.U)(xa))}}function zh(n){return null!=n?Zh(Pc(n)):null}function Wh(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function cd(n){return n._rawValidators}function Rc(n){return n._rawAsyncValidators}function ld(n){return n?Array.isArray(n)?n:[n]:[]}function Nc(n,e){return Array.isArray(n)?n.includes(e):n===e}function zo(n,e){const t=ld(e);return ld(n).forEach(i=>{Nc(t,i)||t.push(i)}),t}function Fc(n,e){return ld(e).filter(t=>!Nc(n,t))}class Tn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fn(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ui extends Tn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Hn extends Tn{get formDirective(){return null}get path(){return null}}class Lc{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let Nn=(()=>{class n extends Lc{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ui,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[c.qOj]}),n})(),Fs=(()=>{class n extends Lc{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Hn,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[c.qOj]}),n})();function li(n,e){return[...e.path,n]}function ho(n,e){Bc(n,e),e.valueAccessor.writeValue(n.value),function Pa(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&I(n,e)})}(n,e),function D(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function ka(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&I(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Vc(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Oi(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Yi(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ki(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Bc(n,e){const t=cd(n);null!==e.validator?n.setValidators(Wh(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Rc(n);null!==e.asyncValidator?n.setAsyncValidators(Wh(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Ki(e._rawValidators,i),Ki(e._rawAsyncValidators,i)}function Yi(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=cd(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(d=>d!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=Rc(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(d=>d!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Ki(e._rawValidators,r),Ki(e._rawAsyncValidators,r),t}function I(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function et(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Et(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===Tr?t=u:function bt(n){return Object.getPrototypeOf(n.constructor)===ds}(u)?r=u:i=u}),i||r||t||null}function An(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Ji="VALID",$r="INVALID",Jn="PENDING",qr="DISABLED";function fd(n){return(Mu(n)?n.validators:n)||null}function pd(n){return Array.isArray(n)?fn(n):n||null}function xu(n,e){return(Mu(e)?e.asyncValidators:n)||null}function jc(n){return Array.isArray(n)?zh(n):n||null}function Mu(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const gd=n=>n instanceof yn,Qh=n=>n instanceof ku;function Pu(n){return gd(n)?n.value:n.getRawValue()}function md(n,e){const t=Qh(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[e])throw new c.vHH(1001,"")}function Vy(n,e){Qh(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new c.vHH(1002,"")})}class yd{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=pd(this._rawValidators),this._composedAsyncValidatorFn=jc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ji}get invalid(){return this.status===$r}get pending(){return this.status==Jn}get disabled(){return this.status===qr}get enabled(){return this.status!==qr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=pd(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=jc(e)}addValidators(e){this.setValidators(zo(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(zo(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Fc(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Fc(e,this._rawAsyncValidators))}hasValidator(e){return Nc(this._rawValidators,e)}hasAsyncValidator(e){return Nc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Jn,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=qr,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ji,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ji||this.status===Jn)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qr:Ji}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Jn,this._hasOwnPendingAsyncValidator=!0;const t=fs(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Wo(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=Qh(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof _d)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?qr:this.errors?$r:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jn)?Jn:this._anyControlsHaveStatus($r)?$r:Ji}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Mu(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class yn extends yd{constructor(e=null,t,r){super(fd(t),xu(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mu(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){An(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){An(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ku extends yd{constructor(e,t,r){super(fd(t),xu(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Vy(this,e),Object.keys(e).forEach(r=>{md(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Pu(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class _d extends yd{constructor(e,t,r){super(fd(t),xu(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Vy(this,e),e.forEach((r,i)=>{md(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Pu(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const gg={provide:ui,useExisting:(0,c.Gpc)(()=>qc)},Xh=(()=>Promise.resolve(null))();let qc=(()=>{class n extends ui{constructor(t,r,i,u,d){super(),this._changeDetectorRef=d,this.control=new yn,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Et(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),et(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ho(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Xh.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;Xh.then(()=>{var u;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(u=this._changeDetectorRef)||void 0===u||u.markForCheck()})}_getPath(t){return this._parent?li(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Hn,9),c.Y36(hn,10),c.Y36(xi,10),c.Y36(Yn,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([gg]),c.qOj,c.TTD]}),n})(),ps=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const mg={provide:Yn,useExisting:(0,c.Gpc)(()=>ef),multi:!0};let ef=(()=>{class n extends ds{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[c._Bn([mg]),c.qOj]}),n})(),yg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Cd=new c.OlP("NgModelWithFormControlWarning"),$y={provide:Hn,useExisting:(0,c.Gpc)(()=>fo)};let fo=(()=>{class n extends Hn{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Yi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return ho(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Oi(t.control||null,t,!1),An(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Vt(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Oi(r||null,t),gd(i)&&(ho(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function O(n,e){Bc(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function F(n,e){return Yi(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Bc(this.form,this),this._oldForm&&Yi(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hn,10),c.Y36(xi,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([$y]),c.qOj,c.TTD]}),n})();const Na={provide:ui,useExisting:(0,c.Gpc)(()=>Bs)};let Bs=(()=>{class n extends ui{constructor(t,r,i,u,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Et(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),et(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return li(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(Hn,13),c.Y36(hn,10),c.Y36(xi,10),c.Y36(Yn,10),c.Y36(Cd,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Na]),c.qOj,c.TTD]}),n})();const bg={provide:Yn,useExisting:(0,c.Gpc)(()=>Fa),multi:!0};function Pi(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Fa=(()=>{class n extends ds{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=Pi(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Gc(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([bg]),c.qOj]}),n})(),rf=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Pi(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Fa,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const wg={provide:Yn,useExisting:(0,c.Gpc)(()=>La),multi:!0};function sf(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let La=(()=>{class n extends ds{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(u=>this._getOptionId(u));r=(u,d)=>{u._setSelected(i.indexOf(d.toString())>-1)}}else r=(i,u)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],u=r.selectedOptions;if(void 0!==u){const d=u;for(let m=0;m<d.length;m++){const E=this._getOptionValue(d[m].value);i.push(E)}}else{const d=r.options;for(let m=0;m<d.length;m++){const v=d[m];if(v.selected){const E=this._getOptionValue(v.value);i.push(E)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function ub(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([wg]),c.qOj]}),n})(),Id=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(sf(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(sf(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(La,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let Ko=(()=>{class n{constructor(){this._validator=ai}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ai,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const Ad={provide:hn,useExisting:(0,c.Gpc)(()=>Zc),multi:!0};let Zc=(()=>{class n extends Ko{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function cb(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>Ta}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([Ad]),c.qOj]}),n})();const zy={provide:hn,useExisting:(0,c.Gpc)(()=>af),multi:!0};let af=(()=>{class n extends Ko{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function Dd(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>Aa(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[c._Bn([zy]),c.qOj]}),n})(),Dg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[yg]]}),n})(),hb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Dg]}),n})(),zc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Cd,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Dg]}),n})();function ht(...n){const e=(0,jr.yG)(n);return(0,rn.D)(n,e)}var un=k(7579);class $n extends un.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Ua=k(4671),cf=k(9672);function Lu(n,e,t){n?(0,cf.f)(t,n,e):e()}var Wc=k(576);function Pd(n,e){const t=(0,Wc.m)(n)?n:()=>n,r=i=>i.error(t());return new Zi.y(e?i=>e.schedule(r,0,i):r)}const Va=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Rd=k(8189);function lf(...n){return function Nd(){return(0,Rd.J)(1)}()((0,rn.D)(n,(0,jr.yG)(n)))}function po(n){return new Zi.y(e=>{(0,ls.Xf)(n()).subscribe(e)})}var go=k(515),Sg=k(727),fi=k(4482);function Kc(){return(0,fi.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Ut.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class xg extends Zi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,fi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Sg.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Ut.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Sg.w0.EMPTY)}return e}refCount(){return Kc()(this)}}function Qt(n,e){return(0,fi.e)((t,r)=>{let i=null,u=0,d=!1;const m=()=>d&&!i&&r.complete();t.subscribe((0,Ut.x)(r,v=>{null==i||i.unsubscribe();let E=0;const S=u++;(0,ls.Xf)(n(v,S)).subscribe(i=(0,Ut.x)(r,M=>r.next(e?e(v,M,S,E++):M),()=>{i=null,m()}))},()=>{d=!0,m()}))})}var Yc=k(5698);function Uu(...n){const e=(0,jr.yG)(n);return(0,fi.e)((t,r)=>{(e?lf(n,t,e):lf(n,t)).subscribe(r)})}function Yy(n,e,t,r,i){return(u,d)=>{let m=t,v=e,E=0;u.subscribe((0,Ut.x)(d,S=>{const M=E++;v=m?n(v,S,M):(m=!0,S),r&&d.next(v)},i&&(()=>{m&&d.next(v),d.complete()})))}}function pi(n,e){return(0,fi.e)(Yy(n,e,arguments.length>=2,!0))}function rr(n,e){return(0,fi.e)((t,r)=>{let i=0;t.subscribe((0,Ut.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}function mo(n){return(0,fi.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,Ut.x)(t,void 0,void 0,d=>{u=(0,ls.Xf)(n(d,mo(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}var gr=k(5577);function Vu(n,e){return(0,Wc.m)(e)?(0,gr.z)(n,e,1):(0,gr.z)(n,1)}function Jc(n){return n<=0?()=>go.E:(0,fi.e)((e,t)=>{let r=[];e.subscribe((0,Ut.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Mg(n=Jy){return(0,fi.e)((e,t)=>{let r=!1;e.subscribe((0,Ut.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Jy(){return new Va}function Og(n){return(0,fi.e)((e,t)=>{let r=!1;e.subscribe((0,Ut.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function y(n,e){const t=arguments.length>=2;return r=>r.pipe(n?rr((i,u)=>n(i,u,r)):Ua.y,(0,Yc.q)(1),t?Og(e):Mg(()=>new Va))}var f=k(8505);class b{constructor(e,t){this.id=e,this.url=t}}class T extends b{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class P extends b{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class z extends b{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fe extends b{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Le extends b{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Je extends b{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lt extends b{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ut extends b{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qn extends b{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gi{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ba{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class df{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pg{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ja{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fd{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qc{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const kt="primary";class Ld{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Yo(n){return new Ld(n)}const hf="ngNavigationCancelingError";function ff(n){const e=Error("NavigationCancelingError: "+n);return e[hf]=!0,e}function Qy(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const d=r[u],m=n[u];if(d.startsWith(":"))i[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function yo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!kg(n[i],e[i]))return!1;return!0}function kg(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function Xy(n){return Array.prototype.concat.apply([],n)}function Rg(n){return n.length>0?n[n.length-1]:null}function Gr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function _o(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,rn.D)(Promise.resolve(n)):ht(n)}const Xc={exact:function gf(n,e,t){if(!Hu(n.segments,e.segments)||!mf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!gf(n.children[r],e.children[r],t))return!1;return!0},subset:n_},e_={exact:function cI(n,e){return yo(n,e)},subset:function lI(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>kg(n[t],e[t]))},ignored:()=>!0};function t_(n,e,t){return Xc[t.paths](n.root,e.root,t.matrixParams)&&e_[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function n_(n,e,t){return r_(n,e,e.segments,t)}function r_(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Hu(i,t)||e.hasChildren()||!mf(i,t,r))}if(n.segments.length===t.length){if(!Hu(n.segments,t)||!mf(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!n_(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Hu(n.segments,i)&&mf(n.segments,i,r)&&n.children[kt])&&r_(n.children[kt],e,u,r)}}function mf(n,e,t){return e.every((r,i)=>e_[t](n[i].parameters,r.parameters))}class Ha{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yo(this.queryParams)),this._queryParamMap}toString(){return yf.serialize(this)}}class Bt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Gr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lg(this)}}class ju{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Yo(this.parameters)),this._parameterMap}toString(){return o_(this)}}function Hu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class s_{}class Fg{parse(e){const t=new mI(e);return new Ha(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ud(e.root,!0)}`,r=function mb(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Ug(t)}=${Ug(i)}`).join("&"):`${Ug(t)}=${Ug(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function gb(n){return encodeURI(n)}(e.fragment)}`:""}`}}const yf=new Fg;function Lg(n){return n.segments.map(e=>o_(e)).join("/")}function Ud(n,e){if(!n.hasChildren())return Lg(n);if(e){const t=n.children[kt]?Ud(n.children[kt],!1):"",r=[];return Gr(n.children,(i,u)=>{u!==kt&&r.push(`${u}:${Ud(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function i_(n,e){let t=[];return Gr(n.children,(r,i)=>{i===kt&&(t=t.concat(e(r,i)))}),Gr(n.children,(r,i)=>{i!==kt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===kt?[Ud(n.children[kt],!1)]:[`${i}:${Ud(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[kt]?`${Lg(n)}/${t[0]}`:`${Lg(n)}/(${t.join("//")})`}}function pb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ug(n){return pb(n).replace(/%3B/gi,";")}function _f(n){return pb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vf(n){return decodeURIComponent(n)}function dI(n){return vf(n.replace(/\+/g,"%20"))}function o_(n){return`${_f(n.path)}${function hI(n){return Object.keys(n).map(e=>`;${_f(e)}=${_f(n[e])}`).join("")}(n.parameters)}`}const fI=/^[^\/()?;=#]+/;function Vg(n){const e=n.match(fI);return e?e[0]:""}const vo=/^[^=?&#]+/,yb=/^[^&#]+/;class mI{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[kt]=new Bt(e,t)),r}parseSegment(){const e=Vg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ju(vf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Vg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Vg(this.remaining);i&&(r=i,this.capture(r))}e[vf(t)]=vf(r)}parseQueryParam(e){const t=function pI(n){const e=n.match(vo);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function gI(n){const e=n.match(yb);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=dI(t),u=dI(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Vg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=kt);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[kt]:new Bt([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class _b{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=a_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=a_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Bg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Bg(e,this._root).map(t=>t.value)}}function a_(n,e){if(n===e.value)return e;for(const t of e.children){const r=a_(n,t);if(r)return r}return null}function Bg(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Bg(n,t);if(r.length)return r.unshift(e),r}return[]}class $a{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Vd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class vb extends _b{constructor(e,t){super(e),this.snapshot=t,l_(this,e)}toString(){return this.snapshot.toString()}}function xt(n,e){const t=function bb(n,e){const d=new Qi([],{},{},"",{},kt,e,null,n.root,-1,{});return new c_("",new $a(d,[]))}(n,e),r=new $n([new ju("",{})]),i=new $n({}),u=new $n({}),d=new $n({}),m=new $n(""),v=new Jo(r,i,d,m,u,kt,e,t.root);return v.snapshot=t.root,new vb(new $a(v,[]),t)}class Jo{constructor(e,t,r,i,u,d,m,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=d,this.component=m,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(e=>Yo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(e=>Yo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function u_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function jg(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Qi{constructor(e,t,r,i,u,d,m,v,E,S,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=d,this.component=m,this.routeConfig=v,this._urlSegment=E,this._lastPathIndex=S,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class c_ extends _b{constructor(e,t){super(t),this.url=e,l_(this,t)}toString(){return Hg(this._root)}}function l_(n,e){e.value._routerState=n,e.children.forEach(t=>l_(n,t))}function Hg(n){const e=n.children.length>0?` { ${n.children.map(Hg).join(", ")} } `:"";return`${n.value}${e}`}function bo(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,yo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),yo(e.params,t.params)||n.params.next(t.params),function uI(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!yo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),yo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function bf(n,e){const t=yo(n.params,e.params)&&function Ng(n,e){return Hu(n,e)&&n.every((t,r)=>yo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||bf(n.parent,e.parent))}function el(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function zS(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return el(n,r,i);return el(n,r)})}(n,e,t);return new $a(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>el(n,m)),d}}const r=function Cb(n){return new Jo(new $n(n.url),new $n(n.params),new $n(n.queryParams),new $n(n.fragment),new $n(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>el(n,u));return new $a(r,i)}}function tl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function $u(n){return"object"==typeof n&&null!=n&&n.outlets}function wf(n,e,t,r,i){let u={};if(r&&Gr(r,(m,v)=>{u[v]=Array.isArray(m)?m.map(E=>`${E}`):`${m}`}),n===e)return new Ha(t,u,i);const d=$g(n,e,t);return new Ha(d,u,i)}function $g(n,e,t){const r={};return Gr(n.children,(i,u)=>{r[u]=i===e?t:$g(i,e,t)}),new Bt(n.segments,r)}class qg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&tl(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find($u);if(i&&i!==Rg(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class d_{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function h_(n,e,t){if(n||(n=new Bt([],{})),0===n.segments.length&&n.hasChildren())return f_(n,e,t);const r=function bI(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const d=n.segments[i],m=t[r];if($u(m))break;const v=`${m}`,E=r<t.length-1?t[r+1]:null;if(i>0&&void 0===v)break;if(v&&E&&"object"==typeof E&&void 0===E.outlets){if(!Db(v,E,d))return u;r+=2}else{if(!Db(v,{},d))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Bt(n.segments.slice(0,r.pathIndex),{});return u.children[kt]=new Bt(n.segments.slice(r.pathIndex),n.children),f_(u,0,i)}return r.match&&0===i.length?new Bt(n.segments,{}):r.match&&!n.hasChildren()?Eb(n,e,t):r.match?f_(n,0,i):Eb(n,e,t)}function f_(n,e,t){if(0===t.length)return new Bt(n.segments,{});{const r=function vI(n){return $u(n[0])?n[0].outlets:{[kt]:n}}(t),i={};return Gr(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[d]=h_(n.children[d],e,u))}),Gr(n.children,(u,d)=>{void 0===r[d]&&(i[d]=u)}),new Bt(n.segments,i)}}function Eb(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if($u(u)){const v=Ib(u.outlets);return new Bt(r,v)}if(0===i&&tl(t[0])){r.push(new ju(n.segments[e].path,p_(t[0]))),i++;continue}const d=$u(u)?u.outlets[kt]:`${u}`,m=i<t.length-1?t[i+1]:null;d&&m&&tl(m)?(r.push(new ju(d,p_(m))),i+=2):(r.push(new ju(d,{})),i++)}return new Bt(r,{})}function Ib(n){const e={};return Gr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Eb(new Bt([],{}),0,t))}),e}function p_(n){const e={};return Gr(n,(t,r)=>e[r]=`${t}`),e}function Db(n,e,t){return n==t.path&&yo(e,t.parameters)}class YS{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),bo(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Vd(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,i[d],r),delete i[d]}),Gr(i,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Vd(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],i);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Vd(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Vd(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new Fd(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Pg(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(bo(i),i===u)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),bo(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=function JS(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),v=m?m.module.componentFactoryResolver:null;d.attachRef=null,d.route=i,d.resolver=v,d.outlet&&d.outlet.activateWith(i,v),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Tb{constructor(e,t){this.routes=e,this.module=t}}function nl(n){return"function"==typeof n}function Bd(n){return n instanceof Ha}const js=Symbol("INITIAL_VALUE");function rl(){return Qt(n=>function Ky(...n){const e=(0,jr.yG)(n),t=(0,jr.jO)(n),{args:r,keys:i}=jo(n);if(0===r.length)return(0,rn.D)([],e);const u=new Zi.y(function hi(n,e,t=Ua.y){return r=>{Lu(e,()=>{const{length:i}=n,u=new Array(i);let d=i,m=i;for(let v=0;v<i;v++)Lu(e,()=>{const E=(0,rn.D)(n[v],e);let S=!1;E.subscribe((0,Ut.x)(r,M=>{u[v]=M,S||(S=!0,m--),m||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>xc(i,d):Ua.y));return t?u.pipe(Sc(t)):u}(n.map(e=>e.pipe((0,Yc.q)(1),Uu(js)))).pipe(pi((e,t)=>{let r=!1;return t.reduce((i,u,d)=>i!==js?i:(u===js&&(r=!0),r||!1!==u&&d!==t.length-1&&!Bd(u)?i:u),e)},js),rr(e=>e!==js),(0,mt.U)(e=>Bd(e)?e:!0===e),(0,Yc.q)(1)))}class wI{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new jd,this.attachRef=null}}class jd{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new wI,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let il=(()=>{class n{constructor(t,r,i,u,d){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=u||kt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,v=new Ab(t,m,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(jd),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Ab{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Jo?this.route:e===jd?this.childContexts:this.parent.get(e,t)}}let Gg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[il],encapsulation:2}),n})();function Sb(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];qu(r,xb(e,r))}}function qu(n,e){n.children&&Sb(n.children,e)}function xb(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function m_(n){const e=n.children&&n.children.map(m_),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==kt&&(t.component=Gg),t}function Xi(n){return n.outlet||kt}function Mb(n,e){const t=n.filter(r=>Xi(r)===e);return t.push(...n.filter(r=>Xi(r)!==e)),t}const y_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zg(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},y_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(e.matcher||Qy)(t,n,e);if(!u)return Object.assign({},y_);const d={};Gr(u.posParams,(v,E)=>{d[E]=v.path});const m=u.consumed.length>0?Object.assign(Object.assign({},d),u.consumed[u.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:m,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function zg(n,e,t,r,i="corrected"){if(t.length>0&&function __(n,e,t){return t.some(r=>Gu(n,e,r)&&Xi(r)!==kt)}(n,t,r)){const d=new Bt(e,function Hd(n,e,t,r){const i={};i[kt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Xi(u)!==kt){const d=new Bt([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[Xi(u)]=d}return i}(n,e,r,new Bt(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function $d(n,e,t){return t.some(r=>Gu(n,e,r))}(n,t,r)){const d=new Bt(n.segments,function Cf(n,e,t,r,i,u){const d={};for(const m of r)if(Gu(n,t,m)&&!i[Xi(m)]){const v=new Bt([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===u?n.segments.length:e.length,d[Xi(m)]=v}return Object.assign(Object.assign({},i),d)}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new Bt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Gu(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function sl(n,e,t,r){return!!(Xi(n)===r||r!==kt&&Gu(e,t,n))&&("**"===n.path||Zg(e,n,t).matched)}function Ob(n,e,t){return 0===e.length&&!n.children[t]}class Ef{constructor(e){this.segmentGroup=e||null}}class v_{constructor(e){this.urlTree=e}}function ol(n){return Pd(new Ef(n))}function Wg(n){return Pd(new v_(n))}class kb{constructor(e,t,r,i,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=zg(this.urlTree.root,[],[],this.config).segmentGroup,t=new Bt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,kt).pipe((0,mt.U)(u=>this.createUrlTree(Yg(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(mo(u=>{if(u instanceof v_)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Ef?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,kt).pipe((0,mt.U)(i=>this.createUrlTree(Yg(i),e.queryParams,e.fragment))).pipe(mo(i=>{throw i instanceof Ef?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Bt([],{[kt]:e}):e;return new Ha(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,mt.U)(u=>new Bt([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,rn.D)(i).pipe(Vu(u=>{const d=r.children[u],m=Mb(t,u);return this.expandSegmentGroup(e,m,d,u).pipe((0,mt.U)(v=>({segment:v,outlet:u})))}),pi((u,d)=>(u[d.outlet]=d.segment,u),{}),function Bu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?rr((i,u)=>n(i,u,r)):Ua.y,Jc(1),t?Og(e):Mg(()=>new Va))}())}expandSegment(e,t,r,i,u,d){return(0,rn.D)(r).pipe(Vu(m=>this.expandSegmentAgainstRoute(e,t,r,m,i,u,d).pipe(mo(E=>{if(E instanceof Ef)return ht(null);throw E}))),y(m=>!!m),mo((m,v)=>{if(m instanceof Va||"EmptyError"===m.name)return Ob(t,i,u)?ht(new Bt([],{})):ol(t);throw m}))}expandSegmentAgainstRoute(e,t,r,i,u,d,m){return sl(i,t,u,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d):ol(t):ol(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Wg(u):this.lineralizeSegments(r,u).pipe((0,gr.z)(d=>{const m=new Bt(d,{});return this.expandSegment(e,m,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d){const{matched:m,consumedSegments:v,remainingSegments:E,positionalParamSegments:S}=Zg(t,i,u);if(!m)return ol(t);const M=this.applyRedirectCommands(v,i.redirectTo,S);return i.redirectTo.startsWith("/")?Wg(M):this.lineralizeSegments(i,M).pipe((0,gr.z)(U=>this.expandSegment(e,t,r,U.concat(E),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ht(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,mt.U)(M=>(r._loadedConfig=M,new Bt(i,{})))):ht(new Bt(i,{}));const{matched:d,consumedSegments:m,remainingSegments:v}=Zg(t,r,i);return d?this.getChildConfig(e,r,i).pipe((0,gr.z)(S=>{const M=S.module,U=S.routes,{segmentGroup:q,slicedSegments:K}=zg(t,m,v,U),Se=new Bt(q.segments,q.children);if(0===K.length&&Se.hasChildren())return this.expandChildren(M,U,Se).pipe((0,mt.U)(_t=>new Bt(m,_t)));if(0===U.length&&0===K.length)return ht(new Bt(m,{}));const Fe=Xi(r)===u;return this.expandSegment(M,Se,U,K,Fe?kt:u,!0).pipe((0,mt.U)(ct=>new Bt(m.concat(ct.segments),ct.children)))})):ol(t)}getChildConfig(e,t,r){return t.children?ht(new Tb(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ht(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,gr.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,mt.U)(u=>(t._loadedConfig=u,u))):function Kg(n){return Pd(ff(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ht(new Tb([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?ht(i.map(d=>{const m=e.get(d);let v;if(function XS(n){return n&&nl(n.canLoad)}(m))v=m.canLoad(t,r);else{if(!nl(m))throw new Error("Invalid CanLoad guard");v=m(t,r)}return _o(v)})).pipe(rl(),(0,f.b)(d=>{if(!Bd(d))return;const m=ff(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw m.url=d,m}),(0,mt.U)(d=>!0===d)):ht(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ht(r);if(i.numberOfChildren>1||!i.children[kt])return Pd(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[kt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new Ha(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Gr(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const m=i.substring(1);r[u]=t[m]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let d={};return Gr(t.children,(m,v)=>{d[v]=this.createSegmentGroup(e,m,r,i)}),new Bt(u,d)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Yg(n){const e={};for(const r of Object.keys(n.children)){const u=Yg(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function r1(n){if(1===n.numberOfChildren&&n.children[kt]){const e=n.children[kt];return new Bt(n.segments.concat(e.segments),e.children)}return n}(new Bt(n.segments,e))}class Nb{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class If{constructor(e,t){this.component=e,this.route=t}}function EI(n,e,t){const r=n._root;return Df(r,e?e._root:null,t,[r.value])}function mi(n,e,t){const r=function DI(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Df(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=Vd(e);return n.children.forEach(d=>{(function i1(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const v=function s1(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Hu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Hu(n.url,e.url)||!yo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bf(n,e)||!yo(n.queryParams,e.queryParams);default:return!bf(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new Nb(r)):(u.data=d.data,u._resolvedData=d._resolvedData),Df(n,e,u.component?m?m.children:null:t,r,i),v&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new If(m.outlet.component,d))}else d&&qd(e,m,i),i.canActivateChecks.push(new Nb(r)),Df(n,null,u.component?m?m.children:null:t,r,i)})(d,u[d.value.outlet],t,r.concat([d.value]),i),delete u[d.value.outlet]}),Gr(u,(d,m)=>qd(d,t.getContext(m),i)),i}function qd(n,e,t){const r=Vd(n),i=n.value;Gr(r,(u,d)=>{qd(u,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new If(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class MI{}function w_(n){return new Zi.y(e=>e.error(n))}class PI{constructor(e,t,r,i,u,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=d}recognize(){const e=zg(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,kt);if(null===t)return null;const r=new Qi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},kt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new $a(r,t),u=new c_(this.url,i);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=u_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const d=t.children[u],m=Mb(e,u),v=this.processSegmentGroup(m,d,u);if(null===v)return null;r.push(...v)}const i=wo(r);return function Ub(n){n.sort((e,t)=>e.value.outlet===kt?-1:t.value.outlet===kt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const u of e){const d=this.processSegmentAgainstRoute(u,t,r,i);if(null!==d)return d}return Ob(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!sl(e,t,r,i))return null;let u,d=[],m=[];if("**"===e.path){const q=r.length>0?Rg(r).parameters:{};u=new Qi(r,q,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,RI(e),Xi(e),e.component,e,jb(t),Hb(t)+r.length,C_(e))}else{const q=Zg(t,e,r);if(!q.matched)return null;d=q.consumedSegments,m=q.remainingSegments,u=new Qi(d,q.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,RI(e),Xi(e),e.component,e,jb(t),Hb(t)+d.length,C_(e))}const v=function Vb(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:E,slicedSegments:S}=zg(t,d,m,v.filter(q=>void 0===q.redirectTo),this.relativeLinkResolution);if(0===S.length&&E.hasChildren()){const q=this.processChildren(v,E);return null===q?null:[new $a(u,q)]}if(0===v.length&&0===S.length)return[new $a(u,[])];const M=Xi(e)===i,U=this.processSegment(v,E,S,M?kt:i);return null===U?null:[new $a(u,U)]}}function kI(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function wo(n){const e=[],t=new Set;for(const r of n){if(!kI(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=wo(r.children);e.push(new $a(r.value,i))}return e.filter(r=>!t.has(r))}function jb(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Hb(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function RI(n){return n.data||{}}function C_(n){return n.resolve||{}}function $b(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Gd(n){return Qt(e=>{const t=n(e);return t?(0,rn.D)(t).pipe((0,mt.U)(()=>e)):ht(e)})}class D_ extends class VI{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Tf=new c.OlP("ROUTES");class T_{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,mt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=u.create(e);return new Tb(Xy(d.injector.get(Tf,void 0,c.XFs.Self|c.XFs.Optional)).map(m_),d)}),mo(u=>{throw t._loader$=void 0,u}));return t._loader$=new xg(i,()=>new un.x).pipe(Kc()),t._loader$}loadModuleFactory(e){return _o(e()).pipe((0,gr.z)(t=>t instanceof c.YKP?ht(t):(0,rn.D)(this.compiler.compileModuleAsync(t))))}}class u1{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function A_(n){throw n}function c1(n,e,t){return e.parse("/")}function qb(n,e){return ht(null)}const Gb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _n=(()=>{class n{constructor(t,r,i,u,d,m,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=u,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new un.x,this.errorHandler=A_,this.malformedUriErrorHandler=c1,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:qb,afterPreactivation:qb},this.urlHandlingStrategy=new u1,this.routeReuseStrategy=new D_,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(c.h0i),this.console=d.get(c.c2e);const M=d.get(c.R0b);this.isNgZoneEnabled=M instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function fb(){return new Ha(new Bt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new T_(d,m,U=>this.triggerEvent(new gi(U)),U=>this.triggerEvent(new Ba(U))),this.routerState=xt(this.currentUrlTree,this.rootComponentType),this.transitions=new $n({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(rr(i=>0!==i.id),(0,mt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Qt(i=>{let u=!1,d=!1;return ht(i).pipe((0,f.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Qt(m=>{const v=this.browserUrlTree.toString(),E=!this.navigated||m.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return S_(m.source)&&(this.browserUrlTree=m.extractedUrl),ht(m).pipe(Qt(M=>{const U=this.transitions.getValue();return r.next(new T(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),U!==this.transitions.getValue()?go.E:Promise.resolve(M)}),function Rb(n,e,t,r){return Qt(i=>function CI(n,e,t,r,i){return new kb(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,mt.U)(u=>Object.assign(Object.assign({},i),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,f.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function NI(n,e,t,r,i){return(0,gr.z)(u=>function OI(n,e,t,r,i="emptyOnly",u="legacy"){try{const d=new PI(n,e,t,r,i,u).recognize();return null===d?w_(new MI):ht(d)}catch(d){return w_(d)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,i).pipe((0,mt.U)(d=>Object.assign(Object.assign({},u),{targetSnapshot:d}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,f.b)(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const q=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(q,M)}this.browserUrlTree=M.urlAfterRedirects}const U=new Le(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(U)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:U,extractedUrl:q,source:K,restoredState:Se,extras:Fe}=m,rt=new T(U,this.serializeUrl(q),K,Se);r.next(rt);const ct=xt(q,this.rootComponentType).snapshot;return ht(Object.assign(Object.assign({},m),{targetSnapshot:ct,urlAfterRedirects:q,extras:Object.assign(Object.assign({},Fe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),go.E}),Gd(m=>{const{targetSnapshot:v,id:E,extractedUrl:S,rawUrl:M,extras:{skipLocationChange:U,replaceUrl:q}}=m;return this.hooks.beforePreactivation(v,{navigationId:E,appliedUrlTree:S,rawUrlTree:M,skipLocationChange:!!U,replaceUrl:!!q})}),(0,f.b)(m=>{const v=new Je(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),(0,mt.U)(m=>Object.assign(Object.assign({},m),{guards:EI(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function o1(n,e){return(0,gr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?ht(Object.assign(Object.assign({},t),{guardsResult:!0})):function TI(n,e,t,r){return(0,rn.D)(n).pipe((0,gr.z)(i=>function Lb(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?ht(u.map(m=>{const v=mi(m,e,i);let E;if(function n1(n){return n&&nl(n.canDeactivate)}(v))E=_o(v.canDeactivate(n,e,t,r));else{if(!nl(v))throw new Error("Invalid CanDeactivate guard");E=_o(v(n,e,t,r))}return E.pipe(y())})).pipe(rl()):ht(!0)}(i.component,i.route,t,e,r)),y(i=>!0!==i,!0))}(d,r,i,n).pipe((0,gr.z)(m=>m&&function QS(n){return"boolean"==typeof n}(m)?function b_(n,e,t,r){return(0,rn.D)(e).pipe(Vu(i=>lf(function AI(n,e){return null!==n&&e&&e(new df(n)),ht(!0)}(i.route.parent,r),function Fb(n,e){return null!==n&&e&&e(new ja(n)),ht(!0)}(i.route,r),function xI(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function II(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>po(()=>ht(d.guards.map(v=>{const E=mi(v,d.node,t);let S;if(function t1(n){return n&&nl(n.canActivateChild)}(E))S=_o(E.canActivateChild(r,n));else{if(!nl(E))throw new Error("Invalid CanActivateChild guard");S=_o(E(r,n))}return S.pipe(y())})).pipe(rl())));return ht(u).pipe(rl())}(n,i.path,t),function SI(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ht(!0);const i=r.map(u=>po(()=>{const d=mi(u,e,t);let m;if(function e1(n){return n&&nl(n.canActivate)}(d))m=_o(d.canActivate(e,n));else{if(!nl(d))throw new Error("Invalid CanActivate guard");m=_o(d(e,n))}return m.pipe(y())}));return ht(i).pipe(rl())}(n,i.route,t))),y(i=>!0!==i,!0))}(r,u,n,e):ht(m)),(0,mt.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,f.b)(m=>{if(Bd(m.guardsResult)){const E=ff(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw E.url=m.guardsResult,E}const v=new lt(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(v)}),rr(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),Gd(m=>{if(m.guards.canActivateChecks.length)return ht(m).pipe((0,f.b)(v=>{const E=new ut(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(E)}),Qt(v=>{let E=!1;return ht(v).pipe(function FI(n,e){return(0,gr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ht(t);let u=0;return(0,rn.D)(i).pipe(Vu(d=>function LI(n,e,t,r){return function E_(n,e,t,r){const i=$b(n);if(0===i.length)return ht({});const u={};return(0,rn.D)(i).pipe((0,gr.z)(d=>function UI(n,e,t,r){const i=mi(n,e,r);return _o(i.resolve?i.resolve(e,t):i(e,t))}(n[d],e,t,r).pipe((0,f.b)(m=>{u[d]=m}))),Jc(1),(0,gr.z)(()=>$b(u).length===i.length?ht(u):go.E))}(n._resolve,n,e,r).pipe((0,mt.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),u_(n,t).resolve),null)))}(d.route,r,n,e)),(0,f.b)(()=>u++),Jc(1),(0,gr.z)(d=>u===i.length?ht(t):go.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,f.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,f.b)(v=>{const E=new qn(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(E)}))}),Gd(m=>{const{targetSnapshot:v,id:E,extractedUrl:S,rawUrl:M,extras:{skipLocationChange:U,replaceUrl:q}}=m;return this.hooks.afterPreactivation(v,{navigationId:E,appliedUrlTree:S,rawUrlTree:M,skipLocationChange:!!U,replaceUrl:!!q})}),(0,mt.U)(m=>{const v=function wb(n,e,t){const r=el(n,e._root,t?t._root:void 0);return new vb(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:v})}),(0,f.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,mt.U)(r=>(new YS(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,f.b)({next(){u=!0},complete(){u=!0}}),function g(n){return(0,fi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;u||d||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===i.id&&(this.currentNavigation=null)}),mo(m=>{if(d=!0,function pf(n){return n&&n[hf]}(m)){const v=Bd(m.url);v||(this.navigated=!0,this.restoreHistory(i,!0));const E=new z(i.id,this.serializeUrl(i.extractedUrl),m.message);r.next(E),v?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),M={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||S_(i.source)};this.scheduleNavigation(S,"imperative",null,M,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const v=new fe(i.id,this.serializeUrl(i.extractedUrl),m);r.next(v);try{i.resolve(this.errorHandler(m))}catch(E){i.reject(E)}}return go.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const u={replaceUrl:!0},d=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(d){const v=Object.assign({},d);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(u.state=v)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,d,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Sb(t),this.config=t.map(m_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:d,queryParamsHandling:m,preserveFragment:v}=r,E=i||this.routerState.root,S=v?this.currentUrlTree.fragment:d;let M=null;switch(m){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=u||null}return null!==M&&(M=this.removeEmptyProps(M)),function WS(n,e,t,r,i){if(0===t.length)return wf(e.root,e.root,e.root,r,i);const u=function KS(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new qg(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Gr(u.outlets,(v,E)=>{m[E]="string"==typeof v?v.split("/"):v}),[...i,{outlets:m}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===d?(u.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?t=!0:".."===m?e++:""!=m&&i.push(m))}),i):[...i,u]},[]);return new qg(t,e,r)}(t);if(u.toRoot())return wf(e.root,e.root,new Bt([],{}),r,i);const d=function yI(n,e,t){if(n.isAbsolute)return new d_(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new d_(u,u===e.root,0)}const r=tl(n.commands[0])?0:1;return function _I(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new d_(r,!1,i-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),m=d.processChildren?f_(d.segmentGroup,d.index,u.commands):h_(d.segmentGroup,d.index,u.commands);return wf(e.root,d.segmentGroup,m,r,i)}(E,this.currentUrlTree,t,M,null!=S?S:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Bd(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function zb(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Gb):!1===r?Object.assign({},Zb):r,Bd(t))return t_(this.currentUrlTree,t,i);const u=this.parseUrl(t);return t_(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new P(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,u,d){var m,v;if(this.disposed)return Promise.resolve(!1);let E,S,M;d?(E=d.resolve,S=d.reject,M=d.promise):M=new Promise((K,Se)=>{E=K,S=Se});const U=++this.navigationId;let q;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),q=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):q=0,this.setTransition({id:U,targetPageId:q,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:E,reject:S,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(K=>Promise.reject(K))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){var i,u;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===d?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new z(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function S_(n){return"imperative"!==n}let Hs=(()=>{class n{constructor(t,r,i,u,d){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=d,this.commands=null,this.onChanges=new un.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Zd(this.skipLocationChange),replaceUrl:Zd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Zd(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(_n),c.Y36(Jo),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})(),al=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new un.x,this.subscription=t.events.subscribe(u=>{u instanceof P&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,u,d){if(0!==t||r||i||u||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const m={skipLocationChange:Zd(this.skipLocationChange),replaceUrl:Zd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Zd(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(_n),c.Y36(Jo),c.Y36(pe))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&c.uIk("target",r.target)("href",r.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();function Zd(n){return""===n||!!n}class Jg{}class Qg{preload(e,t){return ht(null)}}let zd=(()=>{class n{constructor(t,r,i,u){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=new T_(i,r,v=>t.triggerEvent(new gi(v)),v=>t.triggerEvent(new Ba(v)))}setUpPreloading(){this.subscription=this.router.events.pipe(rr(t=>t instanceof P),Vu(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const d=u._loadedConfig;i.push(this.processRoutes(d.module,d.routes))}else u.loadChildren&&!u.canLoad?i.push(this.preloadConfig(t,u)):u.children&&i.push(this.processRoutes(t,u.children));return(0,rn.D)(i).pipe((0,Rd.J)(),(0,mt.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ht(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,gr.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_n),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(Jg))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),x_=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof T?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof P&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Qc&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Qc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Zu=new c.OlP("ROUTER_CONFIGURATION"),M_=new c.OlP("ROUTER_FORROOT_GUARD"),Yb=[_e,{provide:s_,useClass:Fg},{provide:_n,useFactory:function Qb(n,e,t,r,i,u,d={},m,v){const E=new _n(null,n,e,t,r,i,Xy(u));return m&&(E.urlHandlingStrategy=m),v&&(E.routeReuseStrategy=v),function qI(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,E),d.enableTracing&&E.events.subscribe(S=>{var M,U;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(U=console.groupEnd)||void 0===U||U.call(console)}),E},deps:[s_,jd,_e,c.zs3,c.Sil,Tf,Zu,[class a1{},new c.FiY],[class I_{},new c.FiY]]},jd,{provide:Jo,useFactory:function GI(n){return n.routerState.root},deps:[_n]},zd,Qg,class Wb{preload(e,t){return t().pipe(mo(()=>ht(null)))}},{provide:Zu,useValue:{enableTracing:!1}}];function jI(){return new c.PXZ("Router",_n)}let Xg=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Yb,ul(t),{provide:M_,useFactory:Jb,deps:[[_n,new c.FiY,new c.tp0]]},{provide:Zu,useValue:r||{}},{provide:pe,useFactory:$I,deps:[oe,[new c.tBr(Ge),new c.FiY],Zu]},{provide:x_,useFactory:HI,deps:[_n,mc,Zu]},{provide:Jg,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Qg},{provide:c.PXZ,multi:!0,useFactory:jI},[zu,{provide:c.ip1,multi:!0,useFactory:ZI,deps:[zu]},{provide:Xb,useFactory:zI,deps:[zu]},{provide:c.tb,multi:!0,useExisting:Xb}]]}}static forChild(t){return{ngModule:n,providers:[ul(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(M_,8),c.LFG(_n,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function HI(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new x_(n,e,t)}function $I(n,e,t={}){return t.useHash?new Ie(n,e):new We(n,e)}function Jb(n){return"guarded"}function ul(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:Tf,multi:!0,useValue:n}]}let zu=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new un.x}appInitializer(){return this.injector.get(H,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(m=>r=m),u=this.injector.get(_n),d=this.injector.get(Zu);return"disabled"===d.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?ht(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Zu),i=this.injector.get(zd),u=this.injector.get(x_),d=this.injector.get(_n),m=this.injector.get(c.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),i.setUpPreloading(),u.init(),d.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function ZI(n){return n.appInitializer.bind(n)}function zI(n){return n.bootstrapListener.bind(n)}const Xb=new c.OlP("Router Initializer");var O_=k(6451),Af=k(5363),ew=k(6063);class tw extends un.x{constructor(e=1/0,t=1/0,r=ew.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!i&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const d=t.now();let m=0;for(let v=1;v<r.length&&r[v]<=d;v+=2)m=v;m&&r.splice(0,m+1)}}}var nw=k(3099);function rw(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,nw.B)({connector:()=>new tw(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function iw(n,e){return(0,Wc.m)(e)?Qt(()=>n,e):Qt(()=>n)}var P_=k(9468),xn=k(5813),yi=k(2011);k(5867);var se=k(5861),$s=k(9681),Wu=k(4859),Dt=k(2090),Xo=k(1877);const cw=new Map,eD={activated:!1,tokenObservers:[]},tD={initialized:!1,enabled:!1};function Sr(n){return cw.get(n)||eD}function Co(n,e){cw.set(n,e)}function em(){return tD}class k_{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,se.Z)(function*(){t.stop();try{t.pending=new Dt.BH,yield function ea(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Dt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const sn=new Dt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Of(n){if(!Sr(n).activated)throw sn.create("use-before-activation",{appName:n.name})}function Ku(n,e){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,se.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const M=yield i.getHeartbeatsHeader();M&&(r["X-Firebase-Client"]=M)}const u={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,u)}catch(M){throw sn.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==d.status)throw sn.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(M){throw sn.create("fetch-parse-error",{originalErrorMessage:M.message})}const v=m.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw sn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const E=1e3*Number(v[1]),S=Date.now();return{token:m.token,expireTimeMillis:S+E,issuedAtTimeMillis:S}})).apply(this,arguments)}function Qd(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const na="firebase-app-check-store";let kf=null;function N_(){return kf||(kf=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(sn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(na,{keyPath:"compositeKey"})}}catch(t){e(sn.create("storage-open",{originalErrorMessage:t.message}))}}),kf)}function tm(){return(tm=(0,se.Z)(function*(n,e){const r=(yield N_()).transaction(na,"readwrite"),u=r.objectStore(na).put({compositeKey:n,value:e});return new Promise((d,m)=>{u.onsuccess=v=>{d()},r.onerror=v=>{var E;m(sn.create("storage-set",{originalErrorMessage:null===(E=v.target.error)||void 0===E?void 0:E.message}))}})})).apply(this,arguments)}const th=new Xo.Yd("@firebase/app-check");function _w(n,e){return(0,Dt.hl)()?function hw(n,e){return function F_(n,e){return tm.apply(this,arguments)}(function mw(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{th.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function V_(){return em().enabled}function bw(){return B_.apply(this,arguments)}function B_(){return(B_=(0,se.Z)(function*(){const n=em();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const iD={error:"UNKNOWN_ERROR"};function j_(n){return Dt.US.encodeString(JSON.stringify(n),!1)}function nh(n){return H_.apply(this,arguments)}function H_(){return(H_=(0,se.Z)(function*(n,e=!1){const t=n.app;Of(t);const r=Sr(t);let u,i=r.token;if(!i){const v=yield r.cachedTokenPromise;v&&q_(v)&&(i=v)}if(!e&&i&&q_(i))return{token:i.token};let m,d=!1;if(V_()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Ku(Qd(t,yield bw()),n.heartbeatServiceProvider).then(E=>(r.exchangeTokenPromise=void 0,E)),d=!0);const v=yield r.exchangeTokenPromise;return yield _w(t,v),Co(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),d=!0),i=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?th.warn(v.message):th.error(v),u=v}return i?(m={token:i.token},Co(t,Object.assign(Object.assign({},r),{token:i})),yield _w(t,i)):m=aD(u),d&&$_(t,m),m})).apply(this,arguments)}function Cw(n,e){const t=Sr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Co(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function sD(n){const{app:e}=n,t=Sr(e);let r=t.tokenRefresher;r||(r=function oD(n){const{app:e}=n;return new k_((0,se.Z)(function*(){let r;if(r=Sr(e).token?yield nh(n,!0):yield nh(n),r.error)throw r.error}),()=>!0,()=>{const t=Sr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Co(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function $_(n,e){const t=Sr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function q_(n){return n.expireTimeMillis-Date.now()>0}function aD(n){return{token:j_(iD),error:n}}class rh{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Sr(this.app);for(const t of e)Cw(this.app,t.next);return Promise.resolve()}}const Ff="app-check-internal";!function z_(){(0,$s._registerComponent)(new Wu.wA("app-check",n=>function uD(n,e){return new rh(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Ff).initialize()})),(0,$s._registerComponent)(new Wu.wA(Ff,n=>function Ew(n){return{getToken:e=>nh(n,e),addTokenListener:e=>function ww(n,e,t,r){const{app:i}=n,u=Sr(i),d={next:t,error:r,type:e};if(Co(i,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&q_(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),sD(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>sD(n))}(n,"INTERNAL",e),removeTokenListener:e=>Cw(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,$s.registerVersion)("@firebase/app-check","0.5.8")}();class ih{constructor(){return(0,xn.vb)("app-check")}}"undefined"!=typeof window&&window;var cl=k(127);const um=new c.OlP("angularfire2.auth.use-emulator"),Q_=new c.OlP("angularfire2.auth.settings"),X_=new c.OlP("angularfire2.auth.tenant-id"),ev=new c.OlP("angularfire2.auth.langugage-code"),tv=new c.OlP("angularfire2.auth.use-device-language"),nv=new c.OlP("angularfire.auth.persistence"),rv=(n,e,t,r,i,u,d,m)=>(0,yi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=i,u&&v.useDeviceLanguage(),d)for(const[E,S]of Object.entries(d))v.settings[E]=S;return m&&v.setPersistence(m),v},[t,r,i,u,d,m]);let ll=(()=>{class n{constructor(t,r,i,u,d,m,v,E,S,M,U,q){const K=new un.x,Se=ht(void 0).pipe((0,Af.Q)(d.outsideAngular),Qt(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,8775)))),(0,mt.U)(()=>(0,yi.on)(t,u,r)),(0,mt.U)(Fe=>rv(Fe,u,m,E,S,M,v,U)),rw({bufferSize:1,refCount:!1}));if(Ro(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ht(null);else{Se.pipe(y()).subscribe();const rt=Se.pipe(Qt(st=>st.getRedirectResult().then(Ot=>Ot,()=>null)),xn.iC,rw({bufferSize:1,refCount:!1})),ct=Se.pipe(Qt(st=>new Zi.y(Ot=>({unsubscribe:u.runOutsideAngular(()=>st.onAuthStateChanged(Gt=>Ot.next(Gt),Gt=>Ot.error(Gt),()=>Ot.complete()))})))),_t=Se.pipe(Qt(st=>new Zi.y(Ot=>({unsubscribe:u.runOutsideAngular(()=>st.onIdTokenChanged(Gt=>Ot.next(Gt),Gt=>Ot.error(Gt),()=>Ot.complete()))}))));this.authState=rt.pipe(iw(ct),(0,P_.R)(d.outsideAngular),(0,Af.Q)(d.insideAngular)),this.user=rt.pipe(iw(_t),(0,P_.R)(d.outsideAngular),(0,Af.Q)(d.insideAngular)),this.idToken=this.user.pipe(Qt(st=>st?(0,rn.D)(st.getIdToken()):ht(null))),this.idTokenResult=this.user.pipe(Qt(st=>st?(0,rn.D)(st.getIdTokenResult()):ht(null))),this.credential=(0,O_.T)(rt,K,this.authState.pipe(rr(st=>!st))).pipe((0,mt.U)(st=>(null==st?void 0:st.user)?st:null),(0,P_.R)(d.outsideAngular),(0,Af.Q)(d.insideAngular))}return(0,yi.pX)(this,Se,u,{spy:{apply:(Fe,rt,ct)=>{(Fe.startsWith("signIn")||Fe.startsWith("createUser"))&&ct.then(_t=>K.next(_t))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(yi.Dh),c.LFG(yi.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(xn.HU),c.LFG(um,8),c.LFG(Q_,8),c.LFG(X_,8),c.LFG(ev,8),c.LFG(tv,8),c.LFG(nv,8),c.LFG(ih,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Fw=(()=>{class n{constructor(){cl.Z.registerVersion("angularfire",xn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[ll]}),n})();var b1=k(2961);function ms(n,e){const t="object"==typeof e;return new Promise((r,i)=>{const u=new b1.Hp({next:d=>{r(d),u.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Va)}});n.subscribe(u)})}var Lw=k(4986);function cm(){return(0,fi.e)((n,e)=>{let t,r=!1;n.subscribe((0,Ut.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}function mr(n,e){return n===e}k(8775);var tt,Uw=k(3942),ED="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ra={},lm=lm||{},St=ED||self;function Za(){}function iv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Uf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var sv="closure_uid_"+(1e9*Math.random()>>>0),Bw=0;function w1(n,e,t){return n.call.apply(n.bind,arguments)}function ov(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function yr(n,e,t){return(yr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w1:ov).apply(null,arguments)}function ys(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Zr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,u){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[i].apply(r,d)}}function za(){this.s=this.s,this.o=this.o}var Eo={};za.prototype.s=!1,za.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Vw(n){return Object.prototype.hasOwnProperty.call(n,sv)&&n[sv]||(n[sv]=++Bw)}(this);delete Eo[n]}},za.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Gs=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},av=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in i&&e.call(t,i[u],u,n)};function Hw(n){return Array.prototype.concat.apply([],arguments)}function uv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function dm(n){return/^[\s\xa0]*$/.test(n)}var ki,$w=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function zr(n,e){return-1!=n.indexOf(e)}function dl(n,e){return n<e?-1:n>e?1:0}e:{var cv=St.navigator;if(cv){var qw=cv.userAgent;if(qw){ki=qw;break e}}ki=""}function hm(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function lv(n){const e={};for(const t in n)e[t]=n[t];return e}var Vf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gw(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<Vf.length;u++)t=Vf[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function fm(n){return fm[" "](n),n}fm[" "]=Za;var Bf,n,dv=zr(ki,"Opera"),Ju=zr(ki,"Trident")||zr(ki,"MSIE"),hv=zr(ki,"Edge"),pm=hv||Ju,gm=zr(ki,"Gecko")&&!(zr(ki.toLowerCase(),"webkit")&&!zr(ki,"Edge"))&&!(zr(ki,"Trident")||zr(ki,"MSIE"))&&!zr(ki,"Edge"),zw=zr(ki.toLowerCase(),"webkit")&&!zr(ki,"Edge");function fv(){var n=St.document;return n?n.documentMode:void 0}e:{var mm="",ym=(n=ki,gm?/rv:([^\);]+)(\)|;)/.exec(n):hv?/Edge\/([\d\.]+)/.exec(n):Ju?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):zw?/WebKit\/(\S+)/.exec(n):dv?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ym&&(mm=ym?ym[1]:""),Ju){var pv=fv();if(null!=pv&&pv>parseFloat(mm)){Bf=String(pv);break e}}Bf=mm}var ID={};var TD=St.document&&Ju&&(fv()||parseInt(Bf,10))||void 0,AD=function(){if(!St.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{St.addEventListener("test",Za,e),St.removeEventListener("test",Za,e)}catch(t){}return n}();function _i(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function jf(n,e){if(_i.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(gm){e:{try{fm(e.nodeName);var i=!0;break e}catch(u){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:SD[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&jf.Z.h.call(this)}}_i.prototype.h=function(){this.defaultPrevented=!0},Zr(jf,_i);var SD={2:"touch",3:"pen",4:"mouse"};jf.prototype.h=function(){jf.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Hf="closure_listenable_"+(1e6*Math.random()|0),xD=0;function MD(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++xD,this.ca=this.fa=!1}function _m(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function vm(n){this.src=n,this.g={},this.h=0}function mv(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=Gs(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(_m(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function yv(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return i}return-1}vm.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=yv(n,e,r,i);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new MD(e,this.src,u,!!r,i)).fa=t,n.push(e)),e};var _v="closure_lm_"+(1e6*Math.random()|0),bm={};function vv(n,e,t,r,i){if(r&&r.once)return wv(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)vv(n,e[u],t,r,i);return null}return t=Wa(t),n&&n[Hf]?n.N(e,t,Uf(r)?!!r.capture:!!r,i):bv(n,e,t,!1,r,i)}function bv(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var d=Uf(i)?!!i.capture:!!i,m=Cm(n);if(m||(n[_v]=m=new vm(n)),(t=m.add(e,t,r,d,u)).proxy)return t;if(r=function Kw(){var e=Yw;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)AD||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Ev(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function wv(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)wv(n,e[u],t,r,i);return null}return t=Wa(t),n&&n[Hf]?n.O(e,t,Uf(r)?!!r.capture:!!r,i):bv(n,e,t,!0,r,i)}function Cv(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)Cv(n,e[u],t,r,i);else r=Uf(r)?!!r.capture:!!r,t=Wa(t),n&&n[Hf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=yv(u=n.g[e],t,r,i))&&(_m(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Cm(n))&&(e=n.g[e.toString()],n=-1,e&&(n=yv(e,t,r,i)),(t=-1<n?e[n]:null)&&wm(t))}function wm(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Hf])mv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Ev(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Cm(e))?(mv(t,n),0==t.h&&(t.src=null,e[_v]=null)):_m(n)}}}function Ev(n){return n in bm?bm[n]:bm[n]="on"+n}function Yw(n,e){if(n.ca)n=!0;else{e=new jf(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&wm(n),n=t.call(r,e)}return n}function Cm(n){return(n=n[_v])instanceof vm?n:null}var Em="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wa(n){return"function"==typeof n?n:(n[Em]||(n[Em]=function(e){return n.handleEvent(e)}),n[Em])}function xr(){za.call(this),this.i=new vm(this),this.P=this,this.I=null}function Wr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new _i(e,n);else if(e instanceof _i)e.target=e.target||n;else{var i=e;Gw(e=new _i(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];i=Ka(d,r,!0,e)&&i}if(i=Ka(d=e.g=n,r,!0,e)&&i,i=Ka(d,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=Ka(d=e.g=t[u],r,!1,e)&&i}function Ka(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ca&&d.capture==t){var m=d.listener,v=d.ia||d.src;d.fa&&mv(n.i,d),i=!1!==m.call(v,r)&&i}}return i&&!r.defaultPrevented}Zr(xr,za),xr.prototype[Hf]=!0,xr.prototype.removeEventListener=function(n,e,t,r){Cv(this,n,e,t,r)},xr.prototype.M=function(){if(xr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)_m(t[r]);delete n.g[e],n.h--}}this.I=null},xr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},xr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Jw=St.JSON.stringify;function Iv(){var n=$f;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Tv,Dv=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Qw,n=>n.reset());class Qw{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function E1(n){St.setTimeout(()=>{throw n},0)}function yt(n,e){Tv||function OD(){var n=St.Promise.resolve(void 0);Tv=function(){n.then(PD)}}(),Av||(Tv(),Av=!0),$f.add(n,e)}var Av=!1,$f=new class C1{constructor(){this.h=this.g=null}add(e,t){const r=Dv.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function PD(){for(var n;n=Iv();){try{n.h.call(n.g)}catch(t){E1(t)}var e=Dv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Av=!1}function hl(n,e){xr.call(this),this.h=n||1,this.g=e||St,this.j=yr(this.kb,this),this.l=Date.now()}function sh(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Mn(n,e,t){if("function"==typeof n)t&&(n=yr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=yr(n.handleEvent,n)}return 2147483647<Number(e)?-1:St.setTimeout(n,e||0)}function kD(n){n.g=Mn(()=>{n.g=null,n.i&&(n.i=!1,kD(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Zr(hl,xr),(tt=hl.prototype).da=!1,tt.S=null,tt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Wr(this,"tick"),this.da&&(sh(this),this.start()))}},tt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tt.M=function(){hl.Z.M.call(this),sh(this),delete this.g};class Xw extends za{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:kD(this)}M(){super.M(),this.g&&(St.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qf(n){za.call(this),this.h=n,this.g={}}Zr(qf,za);var eC=[];function Sv(n,e,t,r){Array.isArray(t)||(t&&(eC[0]=t.toString()),t=eC);for(var i=0;i<t.length;i++){var u=vv(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function xv(n){hm(n.g,function(e,t){this.g.hasOwnProperty(t)&&wm(e)},n),n.g={}}function Gf(){this.g=!0}function oh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Zf(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<i.length;d++)i[d]=""}}}return Jw(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}qf.prototype.M=function(){qf.Z.M.call(this),xv(this)},qf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gf.prototype.Aa=function(){this.g=!1},Gf.prototype.info=function(){};var fl={},nC=null;function Im(){return nC=nC||new xr}function zf(n){_i.call(this,fl.Ma,n)}function ah(n){const e=Im();Wr(e,new zf(e,n))}function Mv(n,e){_i.call(this,fl.STAT_EVENT,n),this.stat=e}function vi(n){const e=Im();Wr(e,new Mv(e,n))}function rC(n,e){_i.call(this,fl.Na,n),this.size=e}function Ya(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return St.setTimeout(function(){n()},e)}fl.Ma="serverreachability",Zr(zf,_i),fl.STAT_EVENT="statevent",Zr(Mv,_i),fl.Na="timingevent",Zr(rC,_i);var Qu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},iC={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ov(){}function Pv(){}Ov.prototype.h=null;var Tm,uh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Dm(){_i.call(this,"d")}function kv(){_i.call(this,"c")}function Am(){}function Wf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new qf(this),this.P=I1,this.W=new hl(n=pm?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new FD}function FD(){this.i=null,this.g="",this.h=!1}Zr(Dm,_i),Zr(kv,_i),Zr(Am,Ov),Am.prototype.g=function(){return new XMLHttpRequest},Am.prototype.i=function(){return{}},Tm=new Am;var I1=45e3,oC={},Rv={};function Sm(n,e,t){n.K=1,n.v=Qf(Qa(e)),n.s=t,n.U=!0,Kf(n,null)}function Kf(n,e){n.F=Date.now(),Ja(n),n.A=Qa(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Vv(t.h,"t",r),n.C=0,t=n.l.H,n.h=new FD,n.g=Qv(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Xw(yr(n.Ia,n,n.g),n.O)),Sv(n.V,n.g,"readystatechange",n.gb),e=n.H?lv(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),ah(1),function tC(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var d="",m=u.split("&"),v=0;v<m.length;v++){var E=m[v].split("=");if(1<E.length){var S=E[0];E=E[1];var M=S.split("_");d=2<=M.length&&"type"==M[1]?d+(S+"=")+E+"&":d+(S+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function aC(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function uC(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=cC(n,t),i==Rv){4==e&&(n.o=4,vi(14),r=!1),oh(n.j,n.m,null,"[Incomplete Response]");break}if(i==oC){n.o=4,vi(15),oh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}oh(n.j,n.m,i,null),Nv(n,i)}aC(n)&&i!=Rv&&i!=oC&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,vi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),EC(e),e.L=!0,vi(11))):(oh(n.j,n.m,t,"[Invalid Chunked Response]"),pl(n),Yf(n))}function cC(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Rv:(t=Number(e.substring(t,r)),isNaN(t)?oC:(r+=1)+t>e.length?Rv:(e=e.substr(r,t),n.C=r+t,e))}function Ja(n){n.Y=Date.now()+n.P,lC(n,n.P)}function lC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ya(yr(n.eb,n),e)}function xm(n){n.B&&(St.clearTimeout(n.B),n.B=null)}function Yf(n){0==n.l.G||n.I||JD(n.l,n)}function pl(n){xm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,sh(n.W),xv(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Nv(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||tp(t.i,n)))if(t.I=n.N,!n.J&&tp(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(E){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Ya(yr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Bm(t),Um(t)}nc(t),vi(18)}if(1>=mC(t.i)&&t.ka){try{t.ka()}catch(E){}t.ka=void 0}}else dh(t,11)}else if((n.J||t.g==n)&&Bm(t),!dm(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let E=i[e];if(t.U=E[0],E=E[1],2==t.G)if("c"==E[0]){t.J=E[1],t.la=E[2];const S=E[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const M=E[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const U=E[5];null!=U&&"number"==typeof U&&0<U&&(t.K=r=1.5*U,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const q=n.g;if(q){const K=q.g?q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(K){var u=r.i;!u.g&&(zr(K,"spdy")||zr(K,"quic")||zr(K,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(np(u,u.h),u.h=null))}if(r.D){const Se=q.g?q.g.getResponseHeader("X-HTTP-Session-Id"):null;Se&&(r.sa=Se,vn(r.F,r.D,Se))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=jm(r,r.H?r.la:null,r.W),d.J){jv(r.i,d);var m=d,v=r.K;v&&m.setTimeout(v),m.B&&(xm(m),Ja(m)),r.g=d}else Wv(r);0<t.l.length&&Vm(t)}else"stop"!=E[0]&&"close"!=E[0]||dh(t,7);else 3==t.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?dh(t,7):Lm(t):"noop"!=E[0]&&t.j&&t.j.wa(E),t.A=0)}ah(4)}catch(E){}}function Fv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(iv(n)||"string"==typeof n)av(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(iv(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function dC(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(iv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}}function ch(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof ch)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Xu(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];gl(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)gl(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function gl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(tt=Wf.prototype).setTimeout=function(n){this.P=n},tt.gb=function(n){n=n.target;const e=this.L;e&&3==sa(n)?e.l():this.Ia(n)},tt.Ia=function(n){try{if(n==this.g)e:{const S=sa(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>S)&&(3!=S||pm||this.g&&(this.h.h||this.g.ga()||Nm(this.g)))){this.I||4!=S||7==e||ah(8==e||0>=M?3:2),xm(this);var t=this.g.ba();this.N=t;t:if(aC(this)){var r=Nm(this.g);n="";var i=r.length,u=4==sa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){pl(this),Yf(this);var d="";break t}this.h.i=new St.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function RD(n,e,t,r,i,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,v=this.g;if((m=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dm(m)){var E=m;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,vi(12),pl(this),Yf(this);break e}oh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Nv(this,t)}this.U?(uC(this,S,d),pm&&this.i&&3==S&&(Sv(this.V,this.W,"tick",this.fb),this.W.start())):(oh(this.j,this.m,d,null),Nv(this,d)),4==S&&pl(this),this.i&&!this.I&&(4==S?JD(this.l,this):(this.i=!1,Ja(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,vi(12)):(this.o=0,vi(13)),pl(this),Yf(this)}}}catch(S){}},tt.fb=function(){if(this.g){var n=sa(this.g),e=this.g.ga();this.C<e.length&&(xm(this),uC(this,n,e),this.i&&4!=n&&Ja(this))}},tt.cancel=function(){this.I=!0,pl(this)},tt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function ND(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ah(3),vi(17)),pl(this),this.o=2,Yf(this)):lC(this,this.Y-n)},(tt=ch.prototype).R=function(){Xu(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},tt.T=function(){return Xu(this),this.g.concat()},tt.get=function(n,e){return gl(this.h,n)?this.h[n]:e},tt.set=function(n,e){gl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},tt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],u=this.get(i);n.call(e,u,i,this)}};var Lv=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ec(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof ec){this.g=void 0!==e?e:n.g,Jf(this,n.j),this.s=n.s,Mm(this,n.i),lh(this,n.m),this.l=n.l,e=n.h;var t=new ep;t.i=e.i,e.g&&(t.g=new ch(e.g),t.h=e.h),hC(this,t),this.o=n.o}else n&&(t=String(n).match(Lv))?(this.g=!!e,Jf(this,t[1]||"",!0),this.s=Xf(t[2]||""),Mm(this,t[3]||"",!0),lh(this,t[4]),this.l=Xf(t[5]||"",!0),hC(this,t[6]||"",!0),this.o=Xf(t[7]||"")):(this.g=!!e,this.h=new ep(null,this.g))}function Qa(n){return new ec(n)}function Jf(n,e,t){n.j=t?Xf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Mm(n,e,t){n.i=t?Xf(e,!0):e}function lh(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function hC(n,e,t){e instanceof ep?(n.h=e,function GD(n,e){e&&!n.j&&(tc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(fC(this,r),Vv(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=ml(e,$D)),n.h=new ep(e,n.g))}function vn(n,e,t){n.h.set(e,t)}function Qf(n){return vn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Xf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ml(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,BD),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function BD(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ec.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ml(e,Uv,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ml(e,Uv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(ml(t,"/"==t.charAt(0)?HD:jD,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ml(t,qD)),n.join("")};var Uv=/[#\/\?@]/g,jD=/[#\?:]/g,HD=/[#\?]/g,$D=/[#\?@]/g,qD=/#/g;function ep(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function tc(n){n.g||(n.g=new ch,n.h=0,n.i&&function LD(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function fC(n,e){tc(n),e=yl(n,e),gl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,gl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Xu(n)))}function pC(n,e){return tc(n),e=yl(n,e),gl(n.g.h,e)}function Vv(n,e,t){fC(n,e),0<t.length&&(n.i=null,n.g.set(yl(n,e),uv(t)),n.h+=t.length)}function yl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Bv(n){this.l=n||zD,n=St.PerformanceNavigationTiming?0<(n=St.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(St.g&&St.g.Ea&&St.g.Ea()&&St.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(tt=ep.prototype).add=function(n,e){tc(this),this.i=null,n=yl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},tt.forEach=function(n,e){tc(this),this.g.forEach(function(t,r){av(t,function(i){n.call(e,i,r,this)},this)},this)},tt.T=function(){tc(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],u=0;u<i.length;u++)t.push(e[r]);return t},tt.R=function(n){tc(this);var e=[];if("string"==typeof n)pC(this,n)&&(e=Hw(e,this.g.get(yl(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Hw(e,n[t])}return e},tt.set=function(n,e){return tc(this),this.i=null,pC(this,n=yl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},tt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var d=i;""!==r[u]&&(d+="="+encodeURIComponent(String(r[u]))),n.push(d)}}return this.i=n.join("&")};var zD=10;function gC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function mC(n){return n.h?1:n.g?n.g.size:0}function tp(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function np(n,e){n.g?n.g.add(e):n.h=e}function jv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Om(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return uv(n.i)}function Hv(){}function WD(){this.g=new Hv}function $v(n,e,t){const r=t||"";try{Fv(n,function(i,u){let d=i;Uf(i)&&(d=Jw(i)),e.push(r+u+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function rp(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(u){}}function ip(n){this.l=n.$b||null,this.j=n.ib||!1}function sp(n,e){xr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=qv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bv.prototype.cancel=function(){if(this.i=Om(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Hv.prototype.stringify=function(n){return St.JSON.stringify(n,void 0)},Hv.prototype.parse=function(n){return St.JSON.parse(n,void 0)},Zr(ip,Ov),ip.prototype.g=function(){return new sp(this.l,this.j)},ip.prototype.i=function(n){return function(){return n}}({}),Zr(sp,xr);var qv=0;function Gv(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Pm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,op(n)}function op(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(tt=sp.prototype).open=function(n,e){if(this.readyState!=qv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,op(this)},tt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||St).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pm(this)),this.readyState=qv},tt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,op(this)),this.g&&(this.readyState=3,op(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==St.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Gv(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},tt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Pm(this):op(this),3==this.readyState&&Gv(this)}},tt.Ua=function(n){this.g&&(this.response=this.responseText=n,Pm(this))},tt.Ta=function(n){this.g&&(this.response=n,Pm(this))},tt.ha=function(){this.g&&Pm(this)},tt.setRequestHeader=function(n,e){this.v.append(n,e)},tt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},tt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(sp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var km=St.JSON.parse;function ir(n){xr.call(this),this.headers=new ch,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=_l,this.K=this.L=!1}Zr(ir,xr);var _l="",ap=/^https?$/i,YD=["POST","PUT"];function yC(n){return"content-type"==n.toLowerCase()}function _C(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,vC(n),Rm(n)}function vC(n){n.D||(n.D=!0,Wr(n,"complete"),Wr(n,"error"))}function bC(n){if(n.h&&void 0!==lm&&(!n.C[1]||4!=sa(n)||2!=n.ba()))if(n.v&&4==sa(n))Mn(n.Fa,0,n);else if(Wr(n,"readystatechange"),4==sa(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var i=String(n.H).match(Lv)[1]||null;if(!i&&St.self&&St.self.location){var u=St.self.location.protocol;i=u.substr(0,u.length-1)}r=!ap.test(i?i.toLowerCase():"")}t=r}if(t)Wr(n,"complete"),Wr(n,"success");else{n.m=6;try{var d=2<sa(n)?n.g.statusText:""}catch(v){d=""}n.j=d+" ["+n.ba()+"]",vC(n)}}finally{Rm(n)}}}function Rm(n,e){if(n.g){Zv(n);const t=n.g,r=n.C[0]?Za:null;n.g=null,n.C=null,e||Wr(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function Zv(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(St.clearTimeout(n.A),n.A=null)}function sa(n){return n.g?n.g.readyState:0}function Nm(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case _l:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function vl(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function Fm(n){let e="";return hm(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):vn(n,e,t))}function up(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function zv(n){this.za=0,this.l=[],this.h=new Gf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=up("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=up("baseRetryDelayMs",5e3,n),this.$a=up("retryDelaySeedMs",1e4,n),this.Ya=up("forwardChannelMaxRetries",2,n),this.ra=up("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Bv(n&&n.concurrentRequestLimit),this.Ca=new WD,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Lm(n){if(wC(n),3==n.G){var e=n.V++,t=Qa(n.F);vn(t,"SID",n.J),vn(t,"RID",e),vn(t,"TYPE","terminate"),lp(n,t),(e=new Wf(n,n.h,e,void 0)).K=2,e.v=Qf(Qa(t)),t=!1,St.navigator&&St.navigator.sendBeacon&&(t=St.navigator.sendBeacon(e.v.toString(),"")),!t&&St.Image&&((new Image).src=e.v,t=!0),t||(e.g=Qv(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ja(e)}Jv(n)}function Um(n){n.g&&(EC(n),n.g.cancel(),n.g=null)}function wC(n){Um(n),n.u&&(St.clearTimeout(n.u),n.u=null),Bm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&St.clearTimeout(n.m),n.m=null)}function cp(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Vm(n)}function Vm(n){gC(n.i)||n.m||(n.m=!0,yt(n.Ha,n),n.C=0)}function CC(n,e){var t;t=e?e.m:n.V++;const r=Qa(n.F);vn(r,"SID",n.J),vn(r,"RID",t),vn(r,"AID",n.U),lp(n,r),n.o&&n.s&&vl(r,n.o,n.s),t=new Wf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=bl(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),np(n.i,t),Sm(t,r,e)}function lp(n,e){n.j&&Fv({},function(t,r){vn(e,r,t)})}function bl(n,e,t){t=Math.min(n.l.length,t);var r=n.j?yr(n.j.Oa,n.j,n):null;e:{var i=n.l;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=i[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let m=!0;for(let v=0;v<t;v++){let E=i[v].h;const S=i[v].g;if(E-=u,0>E)u=Math.max(0,i[v].h-100),m=!1;else try{$v(S,d,"req"+E+"_")}catch(M){r&&r(S)}}if(m){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Wv(n){n.g||n.u||(n.Y=1,yt(n.Ga,n),n.A=0)}function nc(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Ya(yr(n.Ga,n),Yv(n,n.A)),n.A++,0))}function EC(n){null!=n.B&&(St.clearTimeout(n.B),n.B=null)}function Kv(n){n.g=new Wf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Qa(n.oa);vn(e,"RID","rpc"),vn(e,"SID",n.J),vn(e,"CI",n.N?"0":"1"),vn(e,"AID",n.U),lp(n,e),vn(e,"TYPE","xmlhttp"),n.o&&n.s&&vl(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Qf(Qa(e)),t.s=null,t.U=!0,Kf(t,n)}function Bm(n){null!=n.v&&(St.clearTimeout(n.v),n.v=null)}function JD(n,e){var t=null;if(n.g==e){Bm(n),EC(n),n.g=null;var r=2}else{if(!tp(n.i,e))return;t=e.D,jv(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Wr(r=Im(),new rC(r,t,e,i)),Vm(n)}else Wv(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function T1(n,e){return!(mC(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Ya(yr(n.Ha,n,e),Yv(n,n.C)),n.C++,0)))}(n,e)||2==r&&nc(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:dh(n,5);break;case 4:dh(n,10);break;case 3:dh(n,6);break;default:dh(n,2)}}function Yv(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function dh(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=yr(n.jb,n);t||(t=new ec("//www.google.com/images/cleardot.gif"),St.location&&"http"==St.location.protocol||Jf(t,"https"),Qf(t)),function KD(n,e){const t=new Gf;if(St.Image){const r=new Image;r.onload=ys(rp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=ys(rp,t,r,"TestLoadImage: error",!1,e),r.onabort=ys(rp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=ys(rp,t,r,"TestLoadImage: timeout",!1,e),St.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else vi(2);n.G=0,n.j&&n.j.va(e),Jv(n),wC(n)}function Jv(n){n.G=0,n.I=-1,n.j&&((0!=Om(n.i).length||0!=n.l.length)&&(n.i.i.length=0,uv(n.l),n.l.length=0),n.j.ua())}function jm(n,e,t){let r=function UD(n){return n instanceof ec?Qa(n):new ec(n,void 0)}(t);if(""!=r.i)e&&Mm(r,e+"."+r.i),lh(r,r.m);else{const i=St.location;r=function VD(n,e,t,r){var i=new ec(null,void 0);return n&&Jf(i,n),e&&Mm(i,e),t&&lh(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&hm(n.aa,function(i,u){vn(r,u,i)}),t=n.sa,(e=n.D)&&t&&vn(r,e,t),vn(r,"VER",n.ma),lp(n,r),r}function Qv(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ir(t&&n.Ba&&!n.qa?new ip({ib:!0}):n.qa)).L=n.H,e}function Xv(){}function Hm(){if(Ju&&!(10<=Number(TD)))throw Error("Environmental error: no available transport.")}function _s(n,e){xr.call(this),this.g=new zv(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!dm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!dm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new hh(this)}function IC(n){Dm.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function DC(){kv.call(this),this.status=1}function hh(n){this.g=n}(tt=ir.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Tm.g(),this.C=function sC(n){return n.h||(n.h=n.i())}(this.u?this.u:Tm),this.g.onreadystatechange=yr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void _C(this,u)}n=t||"";const i=new ch(this.headers);r&&Fv(r,function(u,d){i.set(d,u)}),r=function jw(n){e:{var e=yC;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=St.FormData&&n instanceof St.FormData,!(0<=Gs(YD,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(u,d){this.g.setRequestHeader(d,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Zv(this),0<this.B&&((this.K=function D1(n){return Ju&&function DD(){return function Zw(n){var e=ID;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=$w(String(Bf)).split("."),t=$w("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",u=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=dl(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||dl(0==i[2].length,0==u[2].length)||dl(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yr(this.pa,this)):this.A=Mn(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){_C(this,u)}},tt.pa=function(){void 0!==lm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wr(this,"timeout"),this.abort(8))},tt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Wr(this,"complete"),Wr(this,"abort"),Rm(this))},tt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rm(this,!0)),ir.Z.M.call(this)},tt.Fa=function(){this.s||(this.F||this.v||this.l?bC(this):this.cb())},tt.cb=function(){bC(this)},tt.ba=function(){try{return 2<sa(this)?this.g.status:-1}catch(n){return-1}},tt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},tt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),km(e)}},tt.Da=function(){return this.m},tt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(tt=zv.prototype).ma=8,tt.G=1,tt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},tt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Wf(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=lv(u),Gw(u,this.P)):u=this.P),null===this.o&&(i.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=bl(this,i,e),vn(t=Qa(this.F),"RID",n),vn(t,"CVER",22),this.D&&vn(t,"X-HTTP-Session-Id",this.D),lp(this,t),this.o&&u&&vl(t,this.o,u),np(this.i,i),this.Ra&&vn(t,"TYPE","init"),this.ja?(vn(t,"$req",e),vn(t,"SID","null"),i.$=!0,Sm(i,t,null)):Sm(i,t,e),this.G=2}}else 3==this.G&&(n?CC(this,n):0==this.l.length||gC(this.i)||CC(this))},tt.Ga=function(){if(this.u=null,Kv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Ya(yr(this.bb,this),n)}},tt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,vi(10),Um(this),Kv(this))},tt.ab=function(){null!=this.v&&(this.v=null,Um(this),nc(this),vi(19))},tt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),vi(2)):(this.h.info("Failed to ping google.com"),vi(1))},(tt=Xv.prototype).xa=function(){},tt.wa=function(){},tt.va=function(){},tt.ua=function(){},tt.Oa=function(){},Hm.prototype.g=function(n,e){return new _s(n,e)},Zr(_s,xr),_s.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),yt(yr(n.hb,n,e))),vi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=jm(n,null,n.W),Vm(n)},_s.prototype.close=function(){Lm(this.g)},_s.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,cp(this.g,e)}else this.v?((e={}).__data__=Jw(n),cp(this.g,e)):cp(this.g,n)},_s.prototype.M=function(){this.g.j=null,delete this.j,Lm(this.g),delete this.g,_s.Z.M.call(this)},Zr(IC,Dm),Zr(DC,kv),Zr(hh,Xv),hh.prototype.xa=function(){Wr(this.g,"a")},hh.prototype.wa=function(n){Wr(this.g,new IC(n))},hh.prototype.va=function(n){Wr(this.g,new DC(n))},hh.prototype.ua=function(){Wr(this.g,"b")},Hm.prototype.createWebChannel=Hm.prototype.g,_s.prototype.send=_s.prototype.u,_s.prototype.open=_s.prototype.m,_s.prototype.close=_s.prototype.close,Qu.NO_ERROR=0,Qu.TIMEOUT=8,Qu.HTTP_ERROR=6,iC.COMPLETE="complete",Pv.EventType=uh,uh.OPEN="a",uh.CLOSE="b",uh.ERROR="c",uh.MESSAGE="d",xr.prototype.listen=xr.prototype.N,ir.prototype.listenOnce=ir.prototype.O,ir.prototype.getLastError=ir.prototype.La,ir.prototype.getLastErrorCode=ir.prototype.Da,ir.prototype.getStatus=ir.prototype.ba,ir.prototype.getResponseJson=ir.prototype.Qa,ir.prototype.getResponseText=ir.prototype.ga,ir.prototype.send=ir.prototype.ea;var QD=ra.createWebChannelTransport=function(){return new Hm},XD=ra.getStatEventTarget=function(){return Im()},e0=ra.ErrorCode=Qu,dp=ra.EventType=iC,TC=ra.Event=fl,t0=ra.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},AC=ra.FetchXmlHttpFactory=ip,hp=ra.WebChannel=Pv,SC=ra.XhrIo=ir;const xC="@firebase/firestore";class Kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kr.UNAUTHENTICATED=new Kr(null),Kr.GOOGLE_CREDENTIALS=new Kr("google-credentials-uid"),Kr.FIRST_PARTY=new Kr("first-party-uid"),Kr.MOCK_USER=new Kr("mock-user");let fh="9.8.0";const rc=new Xo.Yd("@firebase/firestore");function n0(){return rc.logLevel}function Re(n,...e){if(rc.logLevel<=Xo.in.DEBUG){const t=e.map(pp);rc.debug(`Firestore (${fh}): ${n}`,...t)}}function On(n,...e){if(rc.logLevel<=Xo.in.ERROR){const t=e.map(pp);rc.error(`Firestore (${fh}): ${n}`,...t)}}function fp(n,...e){if(rc.logLevel<=Xo.in.WARN){const t=e.map(pp);rc.warn(`Firestore (${fh}): ${n}`,...t)}}function pp(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Ke(n="Unexpected state"){const e=`FIRESTORE (${fh}) INTERNAL ASSERTION FAILED: `+n;throw On(e),new Error(e)}function Tt(n,e){n||Ke()}function $e(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Dt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class gp{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $m{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kr.UNAUTHENTICATED))}shutdown(){}}class tT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nT{constructor(e){this.t=e,this.currentUser=Kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=E=>this.i!==i?(i=this.i,t(E)):Promise.resolve();let d=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Mr,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const E=d;e.enqueueRetryable((0,se.Z)(function*(){yield E.promise,yield u(r.currentUser)}))},v=E=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(E=>v(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?v(E):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Mr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt("string"==typeof r.accessToken),new gp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tt(null===e||"string"==typeof e),new Kr(e)}}class MC{constructor(e,t,r){this.type="FirstParty",this.user=Kr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class OC{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new MC(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PC{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.p;return this.p=u.token,Re("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?i(u):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tt("string"==typeof t.token),this.p=t.token,new qm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class vs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function S1(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}vs.A=-1;class Gm{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=S1(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function Mt(n,e){return n<e?-1:n>e?1:0}function wl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Zm(n){return n+"\0"}class Fn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fn.fromMillis(Date.now())}static fromDate(e){return Fn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Fn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new Fn(0,0))}static max(){return new It(new Fn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function kC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Cl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function RC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ph{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ke(),void 0===r?r=e.length-t:r>e.length-t&&Ke(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ph.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ph?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),d=t.get(i);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class qt extends ph{construct(e,t,r){return new qt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new qt(t)}static emptyPath(){return new qt([])}}const NC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sr extends ph{construct(e,t,r){return new sr(e,t,r)}static isValidIdentifier(e){return NC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new sr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Me(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const m=e[i];if("\\"===m){if(i+1===e.length)throw new Me(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[i+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Me(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,i+=2}else"`"===m?(d=!d,i++):"."!==m||d?(r+=m,i++):(u(),i++)}if(u(),d)throw new Me(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sr(t)}static emptyPath(){return new sr([])}}class El{constructor(e){this.fields=e,e.sort(sr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class _r{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new _r(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new _r(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_r.EMPTY_BYTE_STRING=new _r("");const LC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xa(n){if(Tt(!!n),"string"==typeof n){let e=0;const t=LC.exec(n);if(Tt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gn(n.seconds),nanos:Gn(n.nanos)}}function Gn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ic(n){return"string"==typeof n?_r.fromBase64String(n):_r.fromUint8Array(n)}function zm(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function bi(n){const e=n.mapValue.fields.__previous_value__;return zm(e)?bi(e):e}function oa(n){const e=Xa(n.mapValue.fields.__local_write_time__.timestampValue);return new Fn(e.seconds,e.nanos)}class rT{constructor(e,t,r,i,u,d,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=v}}class eu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new eu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}function Wm(n){return null==n}function tu(n){return 0===n&&1/n==-1/0}function UC(n){return"number"==typeof n&&Number.isInteger(n)&&!tu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class je{constructor(e){this.path=e}static fromPath(e){return new je(qt.fromString(e))}static fromName(e){return new je(qt.fromString(e).popFirst(5))}static empty(){return new je(qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===qt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new qt(e.slice()))}}const sc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},mp={nullValue:"NULL_VALUE"};function Il(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zm(n)?4:Ym(n)?9007199254740991:10:Ke()}function aa(n,e){if(n===e)return!0;const t=Il(n);if(t!==Il(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return oa(n).isEqual(oa(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=Xa(r.timestampValue),d=Xa(i.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ic(n.bytesValue).isEqual(ic(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Gn(r.geoPointValue.latitude)===Gn(i.geoPointValue.latitude)&&Gn(r.geoPointValue.longitude)===Gn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Gn(r.integerValue)===Gn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=Gn(r.doubleValue),d=Gn(i.doubleValue);return u===d?tu(u)===tu(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return wl(n.arrayValue.values||[],e.arrayValue.values||[],aa);case 10:return function(r,i){const u=r.mapValue.fields||{},d=i.mapValue.fields||{};if(kC(u)!==kC(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===d[m]||!aa(u[m],d[m])))return!1;return!0}(n,e);default:return Ke()}var i}function Dl(n,e){return void 0!==(n.values||[]).find(t=>aa(t,e))}function nu(n,e){if(n===e)return 0;const t=Il(n),r=Il(e);if(t!==r)return Mt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Mt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const d=Gn(i.integerValue||i.doubleValue),m=Gn(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return s0(n.timestampValue,e.timestampValue);case 4:return s0(oa(n),oa(e));case 5:return Mt(n.stringValue,e.stringValue);case 6:return function(i,u){const d=ic(i),m=ic(u);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const d=i.split("/"),m=u.split("/");for(let v=0;v<d.length&&v<m.length;v++){const E=Mt(d[v],m[v]);if(0!==E)return E}return Mt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const d=Mt(Gn(i.latitude),Gn(u.latitude));return 0!==d?d:Mt(Gn(i.longitude),Gn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const d=i.values||[],m=u.values||[];for(let v=0;v<d.length&&v<m.length;++v){const E=nu(d[v],m[v]);if(E)return E}return Mt(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===sc.mapValue&&u===sc.mapValue)return 0;if(i===sc.mapValue)return 1;if(u===sc.mapValue)return-1;const d=i.fields||{},m=Object.keys(d),v=u.fields||{},E=Object.keys(v);m.sort(),E.sort();for(let S=0;S<m.length&&S<E.length;++S){const M=Mt(m[S],E[S]);if(0!==M)return M;const U=nu(d[m[S]],v[E[S]]);if(0!==U)return U}return Mt(m.length,E.length)}(n.mapValue,e.mapValue);default:throw Ke()}}function s0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Mt(n,e);const t=Xa(n),r=Xa(e),i=Mt(t.seconds,r.seconds);return 0!==i?i:Mt(t.nanos,r.nanos)}function ru(n){return yp(n)}function yp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Xa(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ic(n.bytesValue).toBase64():"referenceValue"in n?je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const d of r.values||[])u?u=!1:i+=",",i+=yp(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const m of i)d?d=!1:u+=",",u+=`${m}:${yp(r.fields[m])}`;return u+"}"}(n.mapValue):Ke();var e}function gh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Km(n){return!!n&&"integerValue"in n}function _p(n){return!!n&&"arrayValue"in n}function o0(n){return!!n&&"nullValue"in n}function vp(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bp(n){return!!n&&"mapValue"in n}function wp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Cl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=wp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Ym(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function a0(n){return"nullValue"in n?mp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?gh(eu.empty(),je.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ke()}function x1(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?gh(eu.empty(),je.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?sc:Ke()}function VC(n,e){const t=nu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function BC(n,e){const t=nu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Yr{constructor(e){this.value=e}static empty(){return new Yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!bp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wp(t)}setAll(e){let t=sr.emptyPath(),r={},i=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const v=this.getFieldsMap(t);this.applyChanges(v,r,i),r={},i=[],t=m.popLast()}d?r[m.lastSegment()]=wp(d):i.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());bp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return aa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];bp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Cl(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new Yr(wp(this.value))}}function u0(n){const e=[];return Cl(n.fields,(t,r)=>{const i=new sr([t]);if(bp(r)){const u=u0(r.mapValue).fields;if(0===u.length)e.push(i);else for(const d of u)e.push(i.child(d))}else e.push(i)}),new El(e)}class bn{constructor(e,t,r,i,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=u,this.documentState=d}static newInvalidDocument(e){return new bn(e,0,It.min(),It.min(),Yr.empty(),0)}static newFoundDocument(e,t,r){return new bn(e,1,t,It.min(),r,0)}static newNoDocument(e,t){return new bn(e,2,t,It.min(),Yr.empty(),0)}static newUnknownDocument(e,t){return new bn(e,3,t,It.min(),Yr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cp{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Jm(n){return n.fields.find(e=>2===e.kind)}function Tl(n){return n.fields.filter(e=>2!==e.kind)}Cp.UNKNOWN_ID=-1;class Qm{constructor(e,t){this.fieldPath=e,this.kind=t}}class mh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new mh(0,Zs.min())}}function jC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=It.fromTimestamp(1e9===r?new Fn(t+1,0):new Fn(t,r));return new Zs(i,je.empty(),e)}function HC(n){return new Zs(n.readTime,n.key,-1)}class Zs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Zs(It.min(),je.empty(),-1)}static max(){return new Zs(It.max(),je.empty(),-1)}}function c0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=je.comparator(n.documentKey,e.documentKey),0!==t?t:Mt(n.largestBatchId,e.largestBatchId))}class Zn{constructor(e,t){this.comparator=e,this.root=t||Jr.EMPTY}insert(e,t){return new Zn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jr.BLACK,null,null))}remove(e){return new Zn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xm(this.root,e,this.comparator,!0)}}class Xm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jr{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=null!=r?r:Jr.RED,this.left=null!=i?i:Jr.EMPTY,this.right=null!=u?u:Jr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new Jr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Jr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ke();const e=this.left.check();if(e!==this.right.check())throw Ke();return e+(this.isRed()?0:1)}}Jr.EMPTY=null,Jr.RED=!0,Jr.BLACK=!1,Jr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Jr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wn{constructor(e){this.comparator=e,this.data=new Zn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new l0(this.data.getIterator())}getIteratorFrom(e){return new l0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wn(this.comparator);return t.data=e,t}}class l0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ep(n){return n.hasNext()?n.getNext():void 0}class M1{constructor(e,t=null,r=[],i=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=d,this.endAt=m,this.P=null}}function iT(n,e=null,t=[],r=[],i=null,u=null,d=null){return new M1(n,e,t,r,i,u,d)}function yh(n){const e=$e(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+ru(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Wm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ru(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ru(r)).join(",")),e.P=t}return e.P}function ey(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!uT(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!aa(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zC(n.startAt,e.startAt)&&zC(n.endAt,e.endAt)}function d0(n){return je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function h0(n,e){return n.filters.filter(t=>t instanceof Or&&t.field.isEqual(e))}function Ip(n,e,t){let r=mp,i=!0;for(const u of h0(n,e)){let d=mp,m=!0;switch(u.op){case"<":case"<=":d=a0(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,m=!1;break;case"!=":case"not-in":d=mp}VC({value:r,inclusive:i},{value:d,inclusive:m})<0&&(r=d,i=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];VC({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function sT(n,e,t){let r=sc,i=!0;for(const u of h0(n,e)){let d=sc,m=!0;switch(u.op){case">=":case">":d=x1(u.value),m=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,m=!1;break;case"!=":case"not-in":d=sc}BC({value:r,inclusive:i},{value:d,inclusive:m})>0&&(r=d,i=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];BC({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class Or extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new f0(e,t,r):"array-contains"===t?new p0(e,r):"in"===t?new GC(e,r):"not-in"===t?new aT(e,r):"array-contains-any"===t?new ZC(e,r):new Or(e,t,r)}static V(e,t,r){return"in"===t?new $C(e,r):new qC(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(nu(t,this.value)):null!==t&&Il(this.value)===Il(t)&&this.v(nu(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ke()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class f0 extends Or{constructor(e,t,r){super(e,t,r),this.key=je.fromName(r.referenceValue)}matches(e){const t=je.comparator(e.key,this.key);return this.v(t)}}class $C extends Or{constructor(e,t){super(e,"in",t),this.keys=oT(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class qC extends Or{constructor(e,t){super(e,"not-in",t),this.keys=oT(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function oT(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>je.fromName(r.referenceValue))}class p0 extends Or{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _p(t)&&Dl(t.arrayValue,this.value)}}class GC extends Or{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Dl(this.value.arrayValue,t)}}class aT extends Or{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Dl(this.value.arrayValue,t)}}class ZC extends Or{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_p(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Dl(this.value.arrayValue,r))}}class Al{constructor(e,t){this.position=e,this.inclusive=t}}class _h{constructor(e,t="asc"){this.field=e,this.dir=t}}function uT(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function ty(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],d=n.position[i];if(r=u.field.isKeyField()?je.comparator(je.fromName(d.referenceValue),t.key):nu(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function zC(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!aa(n.position[t],e.position[t]))return!1;return!0}class oc{constructor(e,t=null,r=[],i=[],u=null,d="F",m=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=v,this.D=null,this.C=null}}function cT(n,e,t,r,i,u,d,m){return new oc(n,e,t,r,i,u,d,m)}function Dp(n){return new oc(n)}function g0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function m0(n){for(const e of n.filters)if(e.S())return e.field;return null}function WC(n){return null!==n.collectionGroup}function vh(n){const e=$e(n);if(null===e.D){e.D=[];const t=m0(e),r=g0(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new _h(t)),e.D.push(new _h(sr.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new _h(sr.keyField(),u))}}}return e.D}function es(n){const e=$e(n);if(!e.C)if("F"===e.limitType)e.C=iT(e.path,e.collectionGroup,vh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of vh(e))t.push(new _h(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Al(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Al(e.startAt.position,e.startAt.inclusive):null;e.C=iT(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function KC(n,e,t){return new oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ri(n,e){return ey(es(n),es(e))&&n.limitType===e.limitType}function YC(n){return`${yh(es(n))}|lt:${n.limitType}`}function Tp(n){return`Query(target=${function O1(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${ru(r.value)}`;var r}).join(", ")}]`),Wm(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>ru(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>ru(t)).join(",")),`Target(${e})`}(es(n))}; limitType=${n.limitType})`}function y0(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):je.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,d){const m=ty(i,u,d);return i.inclusive?m<=0:m<0}(t.startAt,vh(t),r)||t.endAt&&!function(i,u,d){const m=ty(i,u,d);return i.inclusive?m>=0:m>0}(t.endAt,vh(t),r)));var t,r}function JC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ny(n){return(e,t)=>{let r=!1;for(const i of vh(n)){const u=QC(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function QC(n,e,t){const r=n.field.isKeyField()?je.comparator(e.key,t.key):function(i,u,d){const m=u.data.field(i),v=d.data.field(i);return null!==m&&null!==v?nu(m,v):Ke()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ke()}}function _0(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tu(e)?"-0":e}}function XC(n){return{integerValue:""+n}}function v0(n,e){return UC(e)?XC(e):_0(n,e)}class ry{constructor(){this._=void 0}}function dT(n,e,t){return n instanceof zs?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof ac?b0(n,e):n instanceof Sl?fT(n,e):function(r,i){const u=iy(r,i),d=eE(u)+eE(r.k);return Km(u)&&Km(r.k)?XC(d):_0(r.M,d)}(n,e)}function hT(n,e,t){return n instanceof ac?b0(n,e):n instanceof Sl?fT(n,e):t}function iy(n,e){return n instanceof bh?Km(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class zs extends ry{}class ac extends ry{constructor(e){super(),this.elements=e}}function b0(n,e){const t=tE(e);for(const r of n.elements)t.some(i=>aa(i,r))||t.push(r);return{arrayValue:{values:t}}}class Sl extends ry{constructor(e){super(),this.elements=e}}function fT(n,e){let t=tE(e);for(const r of n.elements)t=t.filter(i=>!aa(i,r));return{arrayValue:{values:t}}}class bh extends ry{constructor(e,t){super(),this.M=e,this.k=t}}function eE(n){return Gn(n.integerValue||n.doubleValue)}function tE(n){return _p(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class wh{constructor(e,t){this.field=e,this.transform=t}}class gT{constructor(e,t){this.version=e,this.transformResults=t}}class vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ch(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ap{}function mT(n,e,t){n instanceof Eh?function(r,i,u){const d=r.value.clone(),m=E0(r.fieldTransforms,i,u.transformResults);d.setAll(m),i.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof xl?function(r,i,u){if(!Ch(r.precondition,i))return void i.convertToUnknownDocument(u.version);const d=E0(r.fieldTransforms,i,u.transformResults),m=i.data;m.setAll(C0(r)),m.setAll(d),i.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function w0(n,e,t){var i;n instanceof Eh?function(r,i,u){if(!Ch(r.precondition,i))return;const d=r.value.clone(),m=rE(r.fieldTransforms,u,i);d.setAll(m),i.convertToFoundDocument(oy(i),d).setHasLocalMutations()}(n,e,t):n instanceof xl?function(r,i,u){if(!Ch(r.precondition,i))return;const d=rE(r.fieldTransforms,u,i),m=i.data;m.setAll(C0(r)),m.setAll(d),i.convertToFoundDocument(oy(i),m).setHasLocalMutations()}(n,e,t):Ch(n.precondition,i=e)&&i.convertToNoDocument(It.min())}function nE(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=iy(r.transform,i||null);null!=u&&(null==t&&(t=Yr.empty()),t.set(r.field,u))}return t||null}function sy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&wl(t,r,(i,u)=>function pT(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ac&&r instanceof ac||t instanceof Sl&&r instanceof Sl?wl(t.elements,r.elements,aa):t instanceof bh&&r instanceof bh?aa(t.k,r.k):t instanceof zs&&r instanceof zs);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function oy(n){return n.isFoundDocument()?n.version:It.min()}class Eh extends Ap{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class xl extends Ap{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}}function C0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function E0(n,e,t){const r=new Map;Tt(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],d=u.transform,m=e.data.field(u.field);r.set(u.field,hT(d,m,t[i]))}return r}function rE(n,e,t){const r=new Map;for(const i of n){const u=i.transform,d=t.data.field(i.field);r.set(i.field,dT(u,d,e))}return r}class Sp extends Ap{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class iE extends Ap{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class P1{constructor(e){this.count=e}}var Qn,zt;function sE(n){switch(n){default:return Ke();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function oE(n){if(void 0===n)return On("GRPC error has no .code"),le.UNKNOWN;switch(n){case Qn.OK:return le.OK;case Qn.CANCELLED:return le.CANCELLED;case Qn.UNKNOWN:return le.UNKNOWN;case Qn.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Qn.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Qn.INTERNAL:return le.INTERNAL;case Qn.UNAVAILABLE:return le.UNAVAILABLE;case Qn.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Qn.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Qn.NOT_FOUND:return le.NOT_FOUND;case Qn.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Qn.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Qn.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Qn.ABORTED:return le.ABORTED;case Qn.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Qn.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Qn.DATA_LOSS:return le.DATA_LOSS;default:return Ke()}}(zt=Qn||(Qn={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";class Ml{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cl(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return RC(this.inner)}size(){return this.innerSize}}const k1=new Zn(je.comparator);function Io(){return k1}const R1=new Zn(je.comparator);function aE(...n){let e=R1;for(const t of n)e=e.insert(t.key,t);return e}function xp(){return new Ml(n=>n.toString(),(n,e)=>n.isEqual(e))}const ay=new Zn(je.comparator),yT=new wn(je.comparator);function on(...n){let e=yT;for(const t of n)e=e.add(t);return e}const uE=new wn(Mt);function ua(){return uE}class Ih{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Ol.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ih(It.min(),r,ua(),Io(),on())}}class Ol{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ol(_r.EMPTY_BYTE_STRING,t,on(),on(),on())}}class Dh{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class cE{constructor(e,t){this.targetId=e,this.$=t}}class uy{constructor(e,t,r=_r.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class cy{constructor(){this.B=0,this.L=vT(),this.U=_r.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=on(),t=on(),r=on();return this.L.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ke()}}),new Ol(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=vT()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class ly{constructor(e){this.nt=e,this.st=new Map,this.it=Io(),this.rt=_T(),this.ot=new wn(Mt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:Ke()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const u=i.target;if(d0(u))if(0===r){const d=new je(u.path);this.ct(t,d,bn.newNoDocument(d,It.min()))}else Tt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,d)=>{const m=this.wt(d);if(m){if(u.current&&d0(m.target)){const v=new je(m.target.path);null!==this.it.get(v)||this.It(d,v)||this.ct(d,v,bn.newNoDocument(v,e))}u.j&&(t.set(d,u.H()),u.J())}});let r=on();this.rt.forEach((u,d)=>{let m=!0;d.forEachWhile(v=>{const E=this.wt(v);return!E||2===E.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.it.forEach((u,d)=>d.setReadTime(e));const i=new Ih(e,t,this.ot,this.it,r);return this.it=Io(),this.rt=_T(),this.ot=new wn(Mt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new cy,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new wn(Mt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Re("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new cy),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function _T(){return new Zn(je.comparator)}function vT(){return new Zn(je.comparator)}const N1={asc:"ASCENDING",desc:"DESCENDING"},F1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class lE{constructor(e,t){this.databaseId=e,this.N=t}}function Mp(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dE(n,e){return n.N?e.toBase64():e.toUint8Array()}function bT(n,e){return Mp(n,e.toTimestamp())}function Pr(n){return Tt(!!n),It.fromTimestamp(function(e){const t=Xa(e);return new Fn(t.seconds,t.nanos)}(n))}function dy(n,e){return(t=n,new qt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function I0(n){const e=qt.fromString(n);return Tt(o(e)),e}function Th(n,e){return dy(n.databaseId,e.path)}function ca(n,e){const t=I0(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new je(wT(t))}function D0(n,e){return dy(n.databaseId,e)}function T0(n){const e=I0(n);return 4===e.length?qt.emptyPath():wT(e)}function Pl(n){return new qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wT(n){return Tt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function A0(n,e,t){return{name:Th(n,e),fields:t.value.mapValue.fields}}function hy(n,e,t){const r=ca(n,e.name),i=Pr(e.updateTime),u=new Yr({mapValue:{fields:e.fields}}),d=bn.newFoundDocument(r,i,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function fy(n,e){let t;if(e instanceof Eh)t={update:A0(n,e.key,e.value)};else if(e instanceof Sp)t={delete:Th(n,e.key)};else if(e instanceof xl)t={update:A0(n,e.key,e.data),updateMask:s(e.fieldMask)};else{if(!(e instanceof iE))return Ke();t={verify:Th(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const d=u.transform;if(d instanceof zs)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ac)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Sl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof bh)return{fieldPath:u.field.canonicalString(),increment:d.k};throw Ke()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:bT(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Ke()),t;var i}function hE(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?vr.updateTime(Pr(i.updateTime)):void 0!==i.exists?vr.exists(i.exists):vr.none():vr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,d){let m=null;"setToServerValue"in d?(Tt("REQUEST_TIME"===d.setToServerValue),m=new zs):"appendMissingElements"in d?m=new ac(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new Sl(d.removeAllFromArray.values||[]):"increment"in d?m=new bh(u,d.increment):Ke();const v=sr.fromServerFormat(d.fieldPath);return new wh(v,m)}(n,i)):[];var i;if(e.update){const i=ca(n,e.update.name),u=new Yr({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new El((e.updateMask.fieldPaths||[]).map(E=>sr.fromServerFormat(E)));return new xl(i,u,d,t,r)}return new Eh(i,u,t,r)}if(e.delete){const i=ca(n,e.delete);return new Sp(i,t)}if(e.verify){const i=ca(n,e.verify);return new iE(i,t)}return Ke()}function fE(n,e){return{documents:[D0(n,e.path)]}}function DT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=D0(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=D0(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(v){if(0===v.length)return;const E=v.map(S=>function(M){if("=="===M.op){if(vp(M.value))return{unaryFilter:{field:Op(M.field),op:"IS_NAN"}};if(o0(M.value))return{unaryFilter:{field:Op(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(vp(M.value))return{unaryFilter:{field:Op(M.field),op:"IS_NOT_NAN"}};if(o0(M.value))return{unaryFilter:{field:Op(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Op(M.field),op:ST(M.op),value:M.value}}}(S));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(e.filters);i&&(t.structuredQuery.where=i);const u=function(v){if(0!==v.length)return v.map(E=>{return{field:Op((S=E).field),direction:U1(S.dir)};var S})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(E=e.limit,n.N||Wm(E)?E:{value:E});var E,m,v;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function TT(n){let e=T0(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Tt(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let u=[];t.where&&(u=AT(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(S=>{return new _h(Pp((M=S).field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let m=null;t.limit&&(m=function(S){let M;return M="object"==typeof S?S.value:S,Wm(M)?null:M}(t.limit));let v=null;var S;t.startAt&&(v=new Al((S=t.startAt).values||[],!!S.before));let E=null;return t.endAt&&(E=function(S){return new Al(S.values||[],!S.before)}(t.endAt)),cT(e,i,d,u,m,"F",v,E)}function AT(n){return n?void 0!==n.unaryFilter?[B1(n)]:void 0!==n.fieldFilter?[V1(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>AT(e)).reduce((e,t)=>e.concat(t)):Ke():[]}function U1(n){return N1[n]}function ST(n){return F1[n]}function Op(n){return{fieldPath:n.canonicalString()}}function Pp(n){return sr.fromServerFormat(n.fieldPath)}function V1(n){return Or.create(Pp(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ke()}}(n.fieldFilter.op),n.fieldFilter.value)}function B1(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Pp(n.unaryFilter.field);return Or.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Pp(n.unaryFilter.field);return Or.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Pp(n.unaryFilter.field);return Or.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Pp(n.unaryFilter.field);return Or.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ke()}}function s(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function o(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function a(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=h(e)),e=l(n.get(t),e);return h(e)}function l(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function h(n){return n+"\x01\x01"}function p(n){const e=n.length;if(Tt(e>=2),2===e)return Tt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),qt.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&Ke(),n.charAt(d+1)){case"\x01":const m=n.substring(u,d);let v;0===i.length?v=m:(i+=m,v=i,i=""),r.push(v);break;case"\x10":i+=n.substring(u,d),i+="\0";break;case"\x11":i+=n.substring(u,d+1);break;default:Ke()}u=d+2}return new qt(r)}const _=["userId","batchId"];function w(n,e){return[n,a(e)]}function C(n,e,t){return[n,a(e),t]}const A={},x=["prefixPath","collectionGroup","readTime","documentId"],N=["prefixPath","collectionGroup","documentId"],V=["collectionGroup","readTime","prefixPath","documentId"],J=["canonicalId","targetId"],ye=["targetId","path"],Ne=["path","targetId"],He=["collectionId","parent"],nt=["indexId","uid"],Te=["uid","sequenceNumber"],ft=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jt=["indexId","uid","orderedDocumentKey"],an=["userId","collectionPath","documentId"],bs=["userId","collectionPath","largestBatchId"],kl=["userId","collectionGroup","largestBatchId"],py=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],S0=[...py,"documentOverlays"],gy=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],x0=[...gy,"indexConfiguration","indexState","indexEntries"],my="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yy{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,r)=>{t(e)})}static reject(e){return new de((t,r)=>{r(e)})}static waitFor(e){return new de((t,r)=>{let i=0,u=0,d=!1;e.forEach(m=>{++i,m.next(()=>{++u,d&&u===i&&t()},v=>r(v))}),d=!0,u===i&&t()})}static or(e){let t=de.resolve(!1);for(const r of e)t=t.next(i=>i?de.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}}class Ah{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Mr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new M0(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=xT(r.target.error);this.At.reject(new M0(e,i))}}static open(e,t,r,i){try{return new Ah(t,e.transaction(i,r))}catch(u){throw new M0(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Re("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new mP(t)}}class ws{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===ws.Vt((0,Dt.z$)())&&On("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Re("SimpleDb","Removing database:",e),Rp(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Dt.hl)())return!1;if(ws.St())return!0;const e=(0,Dt.z$)(),t=ws.Vt(e),r=0<t&&t<10,i=ws.Dt(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,se.Z)(function*(){return t.db||(Re("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{i(new M0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const m=d.target.error;i("VersionError"===m.name?new Me(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Me(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new M0(e,m))},u.onupgradeneeded=d=>{Re("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Pt.kt(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{Re("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,se.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.Nt(e);const v=Ah.open(u.db,e,d?"readonly":"readwrite",r),E=i(v).next(S=>(v.bt(),S)).catch(S=>(v.abort(S),de.reject(S))).toPromise();return E.catch(()=>{}),yield v.Rt,E}catch(v){const E="FirebaseError"!==v.name&&m<3;if(Re("SimpleDb","Transaction failed with error:",v.message,"Retrying:",E),u.close(),!E)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class gP{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Rp(this.Ft.delete())}}class M0 extends Me{constructor(e,t){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function kp(n){return"IndexedDbTransactionError"===n.name}class mP{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Re("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Re("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Rp(r)}add(e){return Re("SimpleDb","ADD",this.store.name,e,e),Rp(this.store.add(e))}get(e){return Rp(this.store.get(e)).next(t=>(void 0===t&&(t=null),Re("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Re("SimpleDb","DELETE",this.store.name,e),Rp(this.store.delete(e))}count(){return Re("SimpleDb","COUNT",this.store.name),Rp(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.Kt(i,(d,m)=>{u.push(m)}).next(()=>u)}{const i=this.store.getAll(r.range);return new de((u,d)=>{i.onerror=m=>{d(m.target.error)},i.onsuccess=m=>{u(m.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new de((i,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Qt(e,t){Re("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(u,d,m)=>m.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new de((r,i)=>{t.onerror=u=>{const d=xT(u.target.error);i(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}Kt(e,t){const r=[];return new de((i,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void i();const v=new gP(m),E=t(m.primaryKey,m.value,v);if(E instanceof de){const S=E.catch(M=>(v.done(),de.reject(M)));r.push(S)}v.isDone?i():null===v.Lt?m.continue():m.continue(v.Lt)}}).next(()=>de.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Rp(n){return new de((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=xT(r.target.error);t(i)}})}let j1=!1;function xT(n){const e=ws.Vt((0,Dt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return j1||(j1=!0,setTimeout(()=>{throw r},0)),r}}return n}class H1 extends yy{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function wi(n,e){const t=$e(n);return ws.xt(t.Ht,e)}class MT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&mT(u,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&w0(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&w0(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(It.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),on())}isEqual(e){return this.batchId===e.batchId&&wl(this.mutations,e.mutations,(t,r)=>sy(t,r))&&wl(this.baseMutations,e.baseMutations,(t,r)=>sy(t,r))}}class OT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Tt(e.mutations.length===r.length);let i=ay;const u=e.mutations;for(let d=0;d<u.length;d++)i=i.insert(u[d].key,r[d].version);return new OT(e,t,r,i)}}class PT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Sh{constructor(e,t,r,i,u=It.min(),d=It.min(),m=_r.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new Sh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Sh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Sh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class $1{constructor(e){this.Jt=e}}function q1(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:pE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Th(i=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Mp(i,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Np(e.version)};else{if(!e.isUnknownDocument())return Ke();r.unknownDocument={path:t.path.toArray(),version:Np(e.version)}}var i,u;return r}function pE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Np(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Fp(n){const e=new Fn(n.seconds,n.nanoseconds);return It.fromTimestamp(e)}function _y(n,e){const t=(e.baseMutations||[]).map(u=>hE(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const d=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(d.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>hE(n.Jt,u)),i=Fn.fromMillis(e.localWriteTimeMs);return new MT(e.batchId,i,t,r)}function O0(n){const e=Fp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Fp(n.lastLimboFreeSnapshotVersion):It.min();let r;var i;return void 0!==n.query.documents?(Tt(1===(i=n.query).documents.length),r=es(Dp(T0(i.documents[0])))):r=es(TT(n.query)),new Sh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,_r.fromBase64String(n.resumeToken))}function G1(n,e){const t=Np(e.snapshotVersion),r=Np(e.lastLimboFreeSnapshotVersion);let i;i=d0(e.target)?fE(n.Jt,e.target):DT(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:yh(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function kT(n){const e=TT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?KC(e,e.limit,"L"):e}function RT(n,e){return new PT(e.largestBatchId,hE(n.Jt,e.overlayMutation))}function Z1(n,e){const t=e.path.lastSegment();return[n,a(e.path.popLast()),t]}class _P{getBundleMetadata(e,t){return z1(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Fp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return z1(e).put({bundleId:(r=t).id,createTime:Np(Pr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return W1(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:kT(i.bundledQuery),readTime:Fp(i.readTime)};var i})}saveNamedQuery(e,t){return W1(e).put({name:(r=t).name,readTime:Np(Pr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function z1(n){return wi(n,"bundles")}function W1(n){return wi(n,"namedQueries")}class NT{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new NT(e,t.uid||"")}getOverlay(e,t){return P0(e).get(Z1(this.userId,t)).next(r=>r?RT(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((u,d)=>{const m=new PT(t,d);i.push(this.Xt(e,m))}),de.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(a(d.getCollectionPath())));const u=[];return i.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(P0(e).Qt("collectionPathOverlayIndex",m))}),de.waitFor(u)}getOverlaysForCollection(e,t,r){const i=xp(),u=a(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return P0(e).qt("collectionPathOverlayIndex",d).next(m=>{for(const v of m){const E=RT(this.M,v);i.set(E.getKey(),E)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=xp();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return P0(e).Wt({index:"collectionGroupOverlayIndex",range:m},(v,E,S)=>{const M=RT(this.M,E);u.size()<i||M.largestBatchId===d?(u.set(M.getKey(),M),d=M.largestBatchId):S.done()}).next(()=>u)}Xt(e,t){return P0(e).put(function(r,i,u){const[d,m,v]=Z1(i,u.mutation.key);return{userId:i,collectionPath:m,documentId:v,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:fy(r.Jt,u.mutation)}}(this.M,this.userId,t))}}function P0(n){return wi(n,"documentOverlays")}class Lp{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Gn(e.integerValue));else if("doubleValue"in e){const r=Gn(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),tu(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(ic(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?Ym(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Ke()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),je.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function vP(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function K1(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=vP(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Lp.fe=new Lp;class bP{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=K1(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=K1(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class wP{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class CP{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class k0{constructor(){this.De=new bP,this.Ce=new wP(this.De),this.xe=new CP(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Up{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Up(this.indexId,this.documentKey,this.arrayValue,r)}}function Vp(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Y1(n.arrayValue,e.arrayValue),0!==t?t:(t=Y1(n.directionalValue,e.directionalValue),0!==t?t:je.comparator(n.documentKey,e.documentKey)))}function Y1(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class EP{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=Jm(e);if(void 0!==t&&!this.Be(t))return!1;const r=Tl(e);let i=0,u=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const d=r[i];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[u++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(u>=this.Me.length||!this.Ue(this.Me[u++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class IP{constructor(){this.qe=new FT}addToCollectionParentIndex(e,t){return this.qe.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(Zs.min())}updateCollectionGroup(e,t,r){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class FT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new wn(qt.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wn(qt.comparator)).toArray()}}const gE=new Uint8Array(0);class DP{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new FT,this.Ge=new Ml(r=>yh(r),(r,i)=>ey(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const u={collectionId:r,parent:a(i)};return J1(e).put(u)}return de.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Zm(t),""],!1,!0);return J1(e).qt(i).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(p(d.parent))}return r})}addFieldIndex(e,t){const r=mE(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var u;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=mE(e),i=yE(e),u=R0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=R0(e);let i=!0;const u=new Map;return de.forEach(this.Qe(t),d=>this.je(e,d).next(m=>{i&&(i=!!m),u.set(d,m)})).next(()=>{if(i){let d=on();const m=[];return de.forEach(u,(v,E)=>{var S;Re("IndexedDbIndexManager",`Using index ${S=v,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(_t=>`${_t.fieldPath}:${_t.kind}`).join(",")}`} to execute ${yh(t)}`);const M=function(_t,st){const Ot=Jm(st);if(void 0===Ot)return null;for(const Gt of h0(_t,Ot.fieldPath))switch(Gt.op){case"array-contains-any":return Gt.value.arrayValue.values||[];case"array-contains":return[Gt.value]}return null}(E,v),U=function(_t,st){const Ot=new Map;for(const Gt of Tl(st))for(const Nr of h0(_t,Gt.fieldPath))switch(Nr.op){case"==":case"in":Ot.set(Gt.fieldPath.canonicalString(),Nr.value);break;case"not-in":case"!=":return Ot.set(Gt.fieldPath.canonicalString(),Nr.value),Array.from(Ot.values())}return null}(E,v),q=function(_t,st){const Ot=[];let Gt=!0;for(const Nr of Tl(st)){const ou=0===Nr.kind?Ip(_t,Nr.fieldPath,_t.startAt):sT(_t,Nr.fieldPath,_t.startAt);Ot.push(ou.value),Gt&&(Gt=ou.inclusive)}return new Al(Ot,Gt)}(E,v),K=function(_t,st){const Ot=[];let Gt=!0;for(const Nr of Tl(st)){const ou=0===Nr.kind?sT(_t,Nr.fieldPath,_t.endAt):Ip(_t,Nr.fieldPath,_t.endAt);Ot.push(ou.value),Gt&&(Gt=ou.inclusive)}return new Al(Ot,Gt)}(E,v),Se=this.We(v,E,q),Fe=this.We(v,E,K),rt=this.ze(v,E,U),ct=this.He(v.indexId,M,Se,q.inclusive,Fe,K.inclusive,rt);return de.forEach(ct,_t=>r.Gt(_t,t.limit).next(st=>{st.forEach(Ot=>{const Gt=je.fromSegments(Ot.documentKey);d.has(Gt)||(d=d.add(Gt),m.push(Gt))})}))}).next(()=>m)}return de.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,i,u,d,m){const v=(null!=t?t.length:1)*Math.max(r.length,u.length),E=v/(null!=t?t.length:1),S=[];for(let M=0;M<v;++M){const U=t?this.Je(t[M/E]):gE,q=this.Ye(e,U,r[M%E],i),K=this.Xe(e,U,u[M%E],d),Se=m.map(Fe=>this.Ye(e,U,Fe,!0));S.push(...this.createRange(q,K,Se))}return S}Ye(e,t,r,i){const u=new Up(e,je.empty(),t,r);return i?u:u.ke()}Xe(e,t,r,i){const u=new Up(e,je.empty(),t,r);return i?u.ke():u}je(e,t){const r=new EP(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{let d=null;for(const m of u)r.$e(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;return de.forEach(this.Qe(t),i=>this.je(e,i).next(u=>{u?0!==r&&u.fields.length<function(d){let m=new wn(sr.comparator),v=!1;for(const E of d.filters){const S=E;S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?v=!0:m=m.add(S.field))}for(const E of d.orderBy)E.field.isKeyField()||(m=m.add(E.field));return m.size+(v?1:0)}(i)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new k0;for(const i of Tl(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const d=r.Ne(i.kind);Lp.fe.Zt(u,d)}return r.Se()}Je(e){const t=new k0;return Lp.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new k0;return Lp.fe.Zt(gh(this.databaseId,t),r.Ne(function(i){const u=Tl(i);return 0===u.length?0:u[u.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let i=[];i.push(new k0);let u=0;for(const d of Tl(e)){const m=r[u++];for(const v of i)if(this.en(t,d.fieldPath)&&_p(m))i=this.nn(i,d,m);else{const E=v.Ne(d.kind);Lp.fe.Zt(m,E)}}return this.sn(i)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],u=[];for(const d of r.arrayValue.values||[])for(const m of i){const v=new k0;v.seed(m.Se()),Lp.fe.Zt(d,v.Ne(t.kind)),u.push(v)}return u}en(e,t){return!!e.filters.find(r=>r instanceof Or&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=mE(e),i=yE(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const d=[];return de.forEach(u,m=>i.get([m.indexId,this.uid]).next(v=>{d.push(function(E,S){const M=S?new mh(S.sequenceNumber,new Zs(Fp(S.readTime),new je(p(S.documentKey)),S.largestBatchId)):mh.empty(),U=E.fields.map(([q,K])=>new Qm(sr.fromServerFormat(q),K));return new Cp(E.indexId,E.collectionGroup,U,M)}(m,v))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:Mt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=mE(e),u=yE(e);return this.rn(e).next(d=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>de.forEach(m,v=>{return u.put({indexId:v.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:Np((U=r).readTime),documentKey:a(U.documentKey.path),largestBatchId:U.largestBatchId});var U})))}updateIndexEntries(e,t){const r=new Map;return de.forEach(t,(i,u)=>{const d=r.get(i.collectionGroup);return(d?de.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(m=>(r.set(i.collectionGroup,m),de.forEach(m,v=>this.on(e,i,v).next(E=>{const S=this.un(u,v);return E.isEqual(S)?de.resolve():this.an(e,u,v,E,S)}))))})}cn(e,t,r,i){return R0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return R0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=R0(e);let u=new wn(Vp);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(d,m)=>{u=u.add(new Up(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}un(e,t){let r=new wn(Vp);const i=this.Ze(t,e);if(null==i)return r;const u=Jm(t);if(null!=u){const d=e.data.field(u.fieldPath);if(_p(d))for(const m of d.arrayValue.values||[])r=r.add(new Up(t.indexId,e.key,this.Je(m),i))}else r=r.add(new Up(t.indexId,e.key,gE,i));return r}an(e,t,r,i,u){Re("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,v,E,S,M){const U=m.getIterator(),q=v.getIterator();let K=Ep(U),Se=Ep(q);for(;K||Se;){let Fe=!1,rt=!1;if(K&&Se){const ct=E(K,Se);ct<0?rt=!0:ct>0&&(Fe=!0)}else null!=K?rt=!0:Fe=!0;Fe?(S(Se),Se=Ep(q)):rt?(M(K),K=Ep(U)):(K=Ep(U),Se=Ep(q))}}(i,u,Vp,m=>{d.push(this.cn(e,t,r,m))},m=>{d.push(this.hn(e,t,r,m))}),de.waitFor(d)}rn(e){let t=1;return yE(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>Vp(d,m)).filter((d,m,v)=>!m||0!==Vp(d,v[m-1]));const i=[];i.push(e);for(const d of r){const m=Vp(d,e),v=Vp(d,t);if(0===m)i[0]=e.ke();else if(m>0&&v<0)i.push(d),i.push(d.ke());else if(v>0)break}i.push(t);const u=[];for(let d=0;d<i.length;d+=2)u.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,gE,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,gE,[]]));return u}getMinOffset(e,t){let r;return de.forEach(this.Qe(t),i=>this.je(e,i).next(u=>{u?(!r||c0(u.indexState.offset,r)<0)&&(r=u.indexState.offset):r=Zs.min()})).next(()=>r)}}function J1(n){return wi(n,"collectionParents")}function R0(n){return wi(n,"indexEntries")}function mE(n){return wi(n,"indexConfiguration")}function yE(n){return wi(n,"indexState")}const Q1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ws{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ws(e,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function X1(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let m=0;const v=r.Wt({range:d},(S,M,U)=>(m++,U.delete()));u.push(v.next(()=>{Tt(1===m)}));const E=[];for(const S of t.mutations){const M=C(e,S.key.path,t.batchId);u.push(i.delete(M)),E.push(S.key)}return de.waitFor(u).next(()=>E)}function _E(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ke();e=n.noDocument}return JSON.stringify(e).length}Ws.DEFAULT_COLLECTION_PERCENTILE=10,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ws.DEFAULT=new Ws(41943040,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ws.DISABLED=new Ws(-1,0,0);class LT{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){Tt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new LT(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xh(e).Wt({index:"userMutationsIndex",range:r},(i,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=vy(e),d=xh(e);return d.add({}).next(m=>{Tt("number"==typeof m);const v=new MT(m,t,r,i),E=function(U,q,K){const Se=K.baseMutations.map(rt=>fy(U.Jt,rt)),Fe=K.mutations.map(rt=>fy(U.Jt,rt));return{userId:q,batchId:K.batchId,localWriteTimeMs:K.localWriteTime.toMillis(),baseMutations:Se,mutations:Fe}}(this.M,this.userId,v),S=[];let M=new wn((U,q)=>Mt(U.canonicalString(),q.canonicalString()));for(const U of i){const q=C(this.userId,U.key.path,m);M=M.add(U.key.path.popLast()),S.push(d.put(E)),S.push(u.put(q,A))}return M.forEach(U=>{S.push(this.indexManager.addToCollectionParentIndex(e,U))}),e.addOnCommittedListener(()=>{this.ln[m]=v.keys()}),de.waitFor(S).next(()=>v)})}lookupMutationBatch(e,t){return xh(e).get(t).next(r=>r?(Tt(r.userId===this.userId),_y(this.M,r)):null)}fn(e,t){return this.ln[t]?de.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return xh(e).Wt({index:"userMutationsIndex",range:i},(d,m,v)=>{m.userId===this.userId&&(Tt(m.batchId>=r),u=_y(this.M,m)),v.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return xh(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xh(e).qt("userMutationsIndex",t).next(r=>r.map(i=>_y(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=w(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return vy(e).Wt({range:i},(d,m,v)=>{const[E,S,M]=d,U=p(S);if(E===this.userId&&t.path.isEqual(U))return xh(e).get(M).next(q=>{if(!q)throw Ke();Tt(q.userId===this.userId),u.push(_y(this.M,q))});v.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wn(Mt);const i=[];return t.forEach(u=>{const d=w(this.userId,u.path),m=IDBKeyRange.lowerBound(d),v=vy(e).Wt({range:m},(E,S,M)=>{const[U,q,K]=E,Se=p(q);U===this.userId&&u.path.isEqual(Se)?r=r.add(K):M.done()});i.push(v)}),de.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=w(this.userId,r),d=IDBKeyRange.lowerBound(u);let m=new wn(Mt);return vy(e).Wt({range:d},(v,E,S)=>{const[M,U,q]=v,K=p(U);M===this.userId&&r.isPrefixOf(K)?K.length===i&&(m=m.add(q)):S.done()}).next(()=>this.dn(e,m))}dn(e,t){const r=[],i=[];return t.forEach(u=>{i.push(xh(e).get(u).next(d=>{if(null===d)throw Ke();Tt(d.userId===this.userId),r.push(_y(this.M,d))}))}),de.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return X1(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),de.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return de.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return vy(e).Wt({range:r},(u,d,m)=>{if(u[0]===this.userId){const v=p(u[1]);i.push(v)}else m.done()}).next(()=>{Tt(0===i.length)})})}containsKey(e,t){return ex(e,this.userId,t)}wn(e){return tx(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ex(n,e,t){const r=w(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return vy(n).Wt({range:u,jt:!0},(m,v,E)=>{const[S,M,U]=m;S===e&&M===i&&(d=!0),E.done()}).next(()=>d)}function xh(n){return wi(n,"mutations")}function vy(n){return wi(n,"documentMutations")}function tx(n){return wi(n,"mutationQueues")}class Bp{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Bp(0)}static yn(){return new Bp(-1)}}class TP{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new Bp(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>It.fromTimestamp(new Fn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>by(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(Tt(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return by(e).Wt((d,m)=>{const v=O0(m);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(i++,u.push(this.removeTargetData(e,v)))}).next(()=>de.waitFor(u)).next(()=>i)}forEachTarget(e,t){return by(e).Wt((r,i)=>{const u=O0(i);t(u)})}pn(e){return nx(e).get("targetGlobalKey").next(t=>(Tt(null!==t),t))}In(e,t){return nx(e).put("targetGlobalKey",t)}Tn(e,t){return by(e).put(G1(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=yh(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return by(e).Wt({range:i,index:"queryTargetsIndex"},(d,m,v)=>{const E=O0(m);ey(t,E.target)&&(u=E,v.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=Mh(e);return t.forEach(d=>{const m=a(d.path);i.push(u.put({targetId:r,path:m})),i.push(this.referenceDelegate.addReference(e,r,d))}),de.waitFor(i)}removeMatchingKeys(e,t,r){const i=Mh(e);return de.forEach(t,u=>{const d=a(u.path);return de.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Mh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Mh(e);let u=on();return i.Wt({range:r,jt:!0},(d,m,v)=>{const E=p(d[1]),S=new je(E);u=u.add(S)}).next(()=>u)}containsKey(e,t){const r=a(t.path),i=IDBKeyRange.bound([r],[Zm(r)],!1,!0);let u=0;return Mh(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([d,m],v,E)=>{0!==d&&(u++,E.done())}).next(()=>u>0)}Et(e,t){return by(e).get(t).next(r=>r?O0(r):null)}}function by(n){return wi(n,"targets")}function nx(n){return wi(n,"targetGlobal")}function Mh(n){return wi(n,"targetDocuments")}function jp(n){return UT.apply(this,arguments)}function UT(){return UT=(0,se.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==my)throw n;Re("LocalStore","Unexpectedly lost primary lease")}),UT.apply(this,arguments)}function rx([n,e],[t,r]){const i=Mt(n,t);return 0===i?Mt(e,r):i}class AP{constructor(e){this.An=e,this.buffer=new wn(rx),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();rx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class SP{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Re("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,se.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){kp(i)?Re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield jp(i)}yield t.Sn(e)}))}}class xP{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return de.resolve(vs.A);const r=new AP(t);return this.Dn.forEachTarget(e,i=>r.Pn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.Pn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(Q1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q1):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,u,d,m,v,E;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,d=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,m=Date.now(),this.removeTargets(e,r,t))).next(M=>(u=M,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(E=Date.now(),n0()<=Xo.in.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-S}ms\n\tDetermined least recently used ${i} in `+(m-d)+`ms\n\tRemoved ${u} targets in `+(v-m)+`ms\n\tRemoved ${M} documents in `+(E-v)+`ms\nTotal Duration: ${E-S}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:M})))}}class MP{constructor(e,t){this.db=e,this.garbageCollector=new xP(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return vE(e,r)}removeReference(e,t,r){return vE(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return vE(e,t)}On(e,t){return function(r,i){let u=!1;return tx(r).zt(d=>ex(r,d,i).next(m=>(m&&(u=!0),de.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Mn(e,(d,m)=>{if(m<=t){const v=this.On(e,d).next(E=>{if(!E)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,It.min()),Mh(e).delete([0,a(d.path)])))});i.push(v)}}).next(()=>de.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return vE(e,t)}Mn(e,t){const r=Mh(e);let i,u=vs.A;return r.Wt({index:"documentTargetsIndex"},([d,m],{path:v,sequenceNumber:E})=>{0===d?(u!==vs.A&&t(new je(p(i)),u),u=E,i=v):u=vs.A}).next(()=>{u!==vs.A&&t(new je(p(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function vE(n,e){return Mh(n).put((r=n.currentSequenceNumber,{targetId:0,path:a(e.path),sequenceNumber:r}));var r}class ix{constructor(){this.changes=new Ml(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?de.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class OP{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Hp(e).put(r)}removeEntry(e,t,r){return Hp(e).delete(function(i,u){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],pE(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=bn.newInvalidDocument(t);return Hp(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(N0(t))},(i,u)=>{r=this.$n(t,u)}).next(()=>r)}Bn(e,t){let r={size:0,document:bn.newInvalidDocument(t)};return Hp(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(N0(t))},(i,u)=>{r={document:this.$n(t,u),size:_E(u)}}).next(()=>r)}getEntries(e,t){let r=Io();return this.Ln(e,t,(i,u)=>{const d=this.$n(i,u);r=r.insert(i,d)}).next(()=>r)}Un(e,t){let r=Io(),i=new Zn(je.comparator);return this.Ln(e,t,(u,d)=>{const m=this.$n(u,d);r=r.insert(u,m),i=i.insert(u,_E(d))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return de.resolve();let i=new wn(ax);t.forEach(v=>i=i.add(v));const u=IDBKeyRange.bound(N0(i.first()),N0(i.last())),d=i.getIterator();let m=d.getNext();return Hp(e).Wt({index:"documentKeyIndex",range:u},(v,E,S)=>{const M=je.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;m&&ax(m,M)<0;)r(m,null),m=d.getNext();m&&m.isEqual(M)&&(r(m,E),m=d.hasNext()?d.getNext():null),m?S.Ut(N0(m)):S.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),pE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Hp(e).qt(IDBKeyRange.bound(i,u,!0)).next(d=>{let m=Io();for(const v of d){const E=this.$n(je.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);m=m.insert(E.key,E)}return m})}getAllFromCollectionGroup(e,t,r,i){let u=Io();const d=ox(t,r),m=ox(t,Zs.max());return Hp(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(v,E,S)=>{const M=this.$n(je.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);u=u.insert(M.key,M),u.size===i&&S.done()}).next(()=>u)}newChangeBuffer(e){return new PP(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return sx(e).get("remoteDocumentGlobalKey").next(t=>(Tt(!!t),t))}Fn(e,t){return sx(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function yP(n,e){let t;if(e.document)t=hy(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=je.fromSegments(e.noDocument.path),i=Fp(e.noDocument.readTime);t=bn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ke();{const r=je.fromSegments(e.unknownDocument.path),i=Fp(e.unknownDocument.version);t=bn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Fn(r[0],r[1]);return It.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(It.min()))return r}return bn.newInvalidDocument(e)}}class PP extends ix{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Ml(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new wn((u,d)=>Mt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const m=this.Gn.get(u);if(t.push(this.Kn.removeEntry(e,u,m.readTime)),d.isValidDocument()){const v=q1(this.Kn.M,d);i=i.add(u.path.popLast()),r+=_E(v)-m.size,t.push(this.Kn.addEntry(e,u,v))}else if(r-=m.size,this.trackRemovals){const v=q1(this.Kn.M,d.convertToNoDocument(It.min()));t.push(this.Kn.addEntry(e,u,v))}}),i.forEach(u=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Kn.updateMetadata(e,r)),de.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((u,d)=>{this.Gn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function sx(n){return wi(n,"remoteDocumentGlobal")}function Hp(n){return wi(n,"remoteDocumentsV14")}function N0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ox(n,e){const t=e.documentKey.path.toArray();return[n,pE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ax(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(i=Mt(t[u],r[u]),i)return i;return i=Mt(t.length,r.length),i||(i=Mt(t[t.length-2],r[r.length-2]),i||Mt(t[t.length-1],r[r.length-1]))}class kP{constructor(e){this.M=e}kt(e,t,r,i){const u=new Ah("createOrUpgrade",t);var m;r<1&&i>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_,{unique:!0}),m.createObjectStore("documentMutations"),ux(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=de.resolve();return r<3&&i>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),ux(e)),d=d.next(()=>function(m){const v=m.store("targetGlobal"),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:It.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",E)}(u))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(m,v){return v.store("mutations").qt().next(E=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_,{unique:!0});const S=v.store("mutations"),M=E.map(U=>S.put(U));return de.waitFor(M)})}(e,u))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.Qn(u))),r<6&&i>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.jn(u)))),r<7&&i>=7&&(d=d.next(()=>this.Wn(u))),r<8&&i>=8&&(d=d.next(()=>this.zn(e,u))),r<9&&i>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.Hn(u))),r<11&&i>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(m){const v=m.createObjectStore("documentOverlays",{keyPath:an});v.createIndex("collectionPathOverlayIndex",bs,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",kl,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(m){const v=m.createObjectStore("remoteDocumentsV14",{keyPath:x});v.createIndex("documentKeyIndex",N),v.createIndex("collectionGroupIndex",V)}(e)).next(()=>this.Jn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>{!function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:nt}).createIndex("sequenceNumberIndex",Te,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:ft}).createIndex("documentKeyIndex",jt,{unique:!1})}(e)})),d}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=_E(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>de.forEach(i,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(m=>de.forEach(m,v=>{Tt(v.userId===u.userId);const E=_y(this.M,v);return X1(e,u.userId,E).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.Wt((d,m)=>{const v=new qt(d),E=[0,a(v)];u.push(t.get(E).next(S=>S?de.resolve():t.put({targetId:0,path:a(v),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>de.waitFor(u))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:He});const r=t.store("collectionParents"),i=new FT,u=d=>{if(i.add(d)){const m=d.lastSegment(),v=d.popLast();return r.put({collectionId:m,parent:a(v)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,m)=>{const v=new qt(d);return u(v.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,m,v],E)=>{const S=p(m);return u(S.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const u=O0(i),d=G1(this.M,u);return t.put(d)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((u,d)=>{const m=t.store("remoteDocumentsV14"),v=(E=d,E.document?new je(qt.fromString(E.document.name).popFirst(5)):E.noDocument?je.fromSegments(E.noDocument.path):E.unknownDocument?je.fromSegments(E.unknownDocument.path):Ke()).path.toArray();var E;const S={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(m.put(S))}).next(()=>de.waitFor(i))}}function ux(n){n.createObjectStore("targetDocuments",{keyPath:ye}).createIndex("documentTargetsIndex",Ne,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",J,{unique:!0}),n.createObjectStore("targetGlobal")}const VT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class BT{constructor(e,t,r,i,u,d,m,v,E,S,M=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=u,this.window=d,this.document=m,this.Xn=E,this.Zn=S,this.ts=M,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=U=>Promise.resolve(),!BT.vt())throw new Me(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new MP(this,i),this.hs=t+"main",this.M=new $1(v),this.ls=new ws(this.hs,this.ts,new kP(this.M)),this.fs=new TP(this.referenceDelegate,this.M),this.ds=new OP(this.M),this._s=new _P,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===S&&On("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(le.FAILED_PRECONDITION,VT);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new vs(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,se.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,se.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,se.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>bE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(kp(e))return Re("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return F0(e).get("owner").next(t=>de.resolve(this.Ps(t)))}Vs(e){return bE(e).delete(this.clientId)}vs(){var e=this;return(0,se.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=wi(r,"clientMetadata");return i.qt().next(u=>{const d=e.Ds(u,18e5),m=u.filter(v=>-1===d.indexOf(v));return de.forEach(m,v=>i.delete(v.clientId)).next(()=>m)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?de.resolve(!0):F0(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new Me(le.FAILED_PRECONDITION,VT);return!1}}return!(!this.networkEnabled||!this.inForeground)||bE(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,m=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Re("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,se.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new H1(t,vs.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>bE(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return LT.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new DP(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return NT.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Re("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=14===(d=this.ts)?x0:13===d?gy:12===d?S0:11===d?py:void Ke();var d;let m;return this.ls.runTransaction(e,i,u,v=>(m=new H1(v,this.es?this.es.next():vs.A),"readwrite-primary"===t?this.Es(m).next(E=>!!E||this.As(m)).next(E=>{if(!E)throw On(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Me(le.FAILED_PRECONDITION,my);return r(m)}).next(E=>this.bs(m).next(()=>E)):this.$s(m).next(()=>r(m)))).then(v=>(m.raiseOnCommittedEvent(),v))}$s(e){return F0(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Me(le.FAILED_PRECONDITION,VT)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return F0(e).put("owner",t)}static vt(){return ws.vt()}Rs(e){const t=F0(e);return t.get("owner").next(r=>this.Ps(r)?(Re("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):de.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(On(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Dt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Re("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return On("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){On("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function F0(n){return wi(n,"owner")}function bE(n){return wi(n,"clientMetadata")}function jT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class RP{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const u of r)u.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const u of t)u.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return je.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):WC(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new je(t)).next(r=>{let i=aE();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let u=aE();return this.indexManager.getCollectionParents(e,i).next(d=>de.forEach(d,m=>{const v=(E=t,S=m.child(i),new oc(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,S;return this.zs(e,v,r).next(E=>{E.forEach((S,M)=>{u=u.insert(S,M)})})}).next(()=>u))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(u=>(i=u,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const d of u)for(const m of d.mutations){const v=m.key;let E=i.get(v);null==E&&(E=bn.newInvalidDocument(v),i=i.insert(v,E)),w0(m,E,d.localWriteTime),E.isFoundDocument()||(i=i.remove(v))}}).next(()=>(i.forEach((u,d)=>{y0(t,d)||(i=i.remove(u))}),i))}}class HT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=on(),i=on();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new HT(e,t.fromCache,r,i)}}class cx{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,i){return this.ti(e,t).next(u=>u||this.ei(e,t,i,r)).next(u=>u||this.ni(e,t))}ti(e,t){return de.resolve(null)}ei(e,t,r,i){return function lT(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(It.min())?this.ni(e,t):this.Zs.Ks(e,r).next(u=>{const d=this.si(t,u);return this.ii(t,d,r,i)?this.ni(e,t):(n0()<=Xo.in.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Tp(t)),this.ri(e,d,t,jC(i,-1)))})}si(e,t){let r=new wn(ny(e));return t.forEach((i,u)=>{y0(e,u)&&(r=r.add(u))}),r}ii(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}ni(e,t){return n0()<=Xo.in.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",Tp(t)),this.Zs.Qs(e,t,Zs.min())}ri(e,t,r,i){return this.Zs.Qs(e,r,i).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class NP{constructor(e,t,r,i){this.persistence=e,this.oi=t,this.M=i,this.ui=new Zn(Mt),this.ai=new Ml(u=>yh(u),ey),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new RP(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function lx(n,e,t,r){return new NP(n,e,t,r)}function dx(n,e){return $T.apply(this,arguments)}function $T(){return $T=(0,se.Z)(function*(n,e){const t=$e(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(u=>(i=u,t.li(e),t.Bs.getAllMutationBatches(r))).next(u=>{const d=[],m=[];let v=on();for(const E of i){d.push(E.batchId);for(const S of E.mutations)v=v.add(S.key)}for(const E of u){m.push(E.batchId);for(const S of E.mutations)v=v.add(S.key)}return t.fi.Ks(r,v).next(E=>({di:E,removedBatchIds:d,addedBatchIds:m}))})})}),$T.apply(this,arguments)}function FP(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.hi.newChangeBuffer({trackRemovals:!0});return function(d,m,v,E){const S=v.batch,M=S.keys();let U=de.resolve();return M.forEach(q=>{U=U.next(()=>E.getEntry(m,q)).next(K=>{const Se=v.docVersions.get(q);Tt(null!==Se),K.version.compareTo(Se)<0&&(S.applyToRemoteDocument(K,v),K.isValidDocument()&&(K.setReadTime(v.commitVersion),E.addEntry(K)))})}),U.next(()=>d.Bs.removeMutationBatch(m,S))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,i))})}function hx(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function LP(n,e){const t=$e(n),r=e.snapshotVersion;let i=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.hi.newChangeBuffer({trackRemovals:!0});i=t.ui;const m=[];e.targetChanges.forEach((E,S)=>{const M=i.get(S);if(!M)return;m.push(t.fs.removeMatchingKeys(u,E.removedDocuments,S).next(()=>t.fs.addMatchingKeys(u,E.addedDocuments,S)));let U=M.withSequenceNumber(u.currentSequenceNumber);var q,K,Se;e.targetMismatches.has(S)?U=U.withResumeToken(_r.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,r)),i=i.insert(S,U),K=U,Se=E,(0===(q=M).resumeToken.approximateByteSize()||K.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||Se.addedDocuments.size+Se.modifiedDocuments.size+Se.removedDocuments.size>0)&&m.push(t.fs.updateTargetData(u,U))});let v=Io();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(fx(u,d,e.documentUpdates).next(E=>{v=E})),!r.isEqual(It.min())){const E=t.fs.getLastRemoteSnapshotVersion(u).next(S=>t.fs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(E)}return de.waitFor(m).next(()=>d.apply(u)).next(()=>t.fi.Gs(u,v)).next(()=>v)}).then(u=>(t.ui=i,u))}function fx(n,e,t){let r=on();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let u=Io();return t.forEach((d,m)=>{const v=i.get(d);m.isNoDocument()&&m.version.isEqual(It.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):Re("LocalStore","Ignoring outdated watch update for ",d,". Current version:",v.version," Watch version:",m.version)}),u})}function UP(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function wy(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(u=>u?(i=u,de.resolve(i)):t.fs.allocateTargetId(r).next(d=>(i=new Sh(e,d,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function Cy(n,e,t){return qT.apply(this,arguments)}function qT(){return qT=(0,se.Z)(function*(n,e,t){const r=$e(n),i=r.ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!kp(d))throw d;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),qT.apply(this,arguments)}function wE(n,e,t){const r=$e(n);let i=It.min(),u=on();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,v,E){const S=$e(m),M=S.ai.get(E);return void 0!==M?de.resolve(S.ui.get(M)):S.fs.getTargetData(v,E)}(r,d,es(e)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(d,m.targetId).next(v=>{u=v})}).next(()=>r.oi.Qs(d,e,t?i:It.min(),t?u:on())).next(m=>(mx(r,JC(e),m),{documents:m,_i:u})))}function px(n,e){const t=$e(n),r=$e(t.fs),i=t.ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(d=>d?d.target:null))}function gx(n,e){const t=$e(n),r=t.ci.get(e)||It.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.hi.getAllFromCollectionGroup(i,e,jC(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(mx(t,e,i),i))}function mx(n,e,t){let r=It.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.ci.set(e,r)}function GT(){return GT=(0,se.Z)(function*(n,e,t,r){const i=$e(n);let u=on(),d=Io();for(const E of t){const S=e.wi(E.metadata.name);E.document&&(u=u.add(S));const M=e.mi(E);M.setReadTime(e.gi(E.metadata.readTime)),d=d.insert(S,M)}const m=i.hi.newChangeBuffer({trackRemovals:!0}),v=yield wy(i,(E=r,es(Dp(qt.fromString(`__bundle__/docs/${E}`)))));var E;return i.persistence.runTransaction("Apply bundle documents","readwrite",E=>fx(E,m,d).next(S=>(m.apply(E),S)).next(S=>i.fs.removeMatchingKeysForTargetId(E,v.targetId).next(()=>i.fs.addMatchingKeys(E,u,v.targetId)).next(()=>i.fi.Gs(E,S)).next(()=>S)))}),GT.apply(this,arguments)}function BP(n,e){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,se.Z)(function*(n,e,t=on()){const r=yield wy(n,es(kT(e.bundledQuery))),i=$e(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const d=Pr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i._s.saveNamedQuery(u,e);const m=r.withResumeToken(_r.EMPTY_BYTE_STRING,d);return i.ui=i.ui.insert(m.targetId,m),i.fs.updateTargetData(u,m).next(()=>i.fs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.fs.addMatchingKeys(u,t,r.targetId)).next(()=>i._s.saveNamedQuery(u,e))})}),ZT.apply(this,arguments)}class jP{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return de.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:Pr(r.createTime)}),de.resolve()}getNamedQuery(e,t){return de.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:kT(r.bundledQuery),readTime:Pr(r.readTime)}),de.resolve();var r}}class HP{constructor(){this.overlays=new Zn(je.comparator),this.Ii=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.Xt(e,t,u)}),de.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.Ii.delete(r)),de.resolve()}getOverlaysForCollection(e,t,r){const i=xp(),u=t.length+1,d=new je(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const v=m.getNext().value,E=v.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===u&&v.largestBatchId>r&&i.set(v.getKey(),v)}return de.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new Zn((E,S)=>E-S);const d=this.overlays.getIterator();for(;d.hasNext();){const E=d.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let S=u.get(E.largestBatchId);null===S&&(S=xp(),u=u.insert(E.largestBatchId,S)),S.set(E.getKey(),E)}}const m=xp(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((E,S)=>m.set(E,S)),!(m.size()>=i)););return de.resolve(m)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const d=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new PT(t,r));let u=this.Ii.get(t);void 0===u&&(u=on(),this.Ii.set(t,u)),this.Ii.set(t,u.add(r.key))}}class zT{constructor(){this.Ti=new wn(Ci.Ei),this.Ai=new wn(Ci.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new Ci(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new Ci(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new je(new qt([])),r=new Ci(t,e),i=new Ci(t,e+1),u=[];return this.Ai.forEachInRange([r,i],d=>{this.Pi(d),u.push(d.key)}),u}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new je(new qt([])),r=new Ci(t,e),i=new Ci(t,e+1);let u=on();return this.Ai.forEachInRange([r,i],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new Ci(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ci{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return je.comparator(e.key,t.key)||Mt(e.Ci,t.Ci)}static Ri(e,t){return Mt(e.Ci,t.Ci)||je.comparator(e.key,t.key)}}class $P{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new wn(Ci.Ei)}checkEmpty(e){return de.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const u=this.xi;this.xi++;const d=new MT(u,t,r,i);this.Bs.push(d);for(const m of i)this.Ni=this.Ni.add(new Ci(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return de.resolve(d)}lookupMutationBatch(e,t){return de.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Mi(t+1),u=i<0?0:i;return de.resolve(this.Bs.length>u?this.Bs[u]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return de.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ci(t,0),i=new Ci(t,Number.POSITIVE_INFINITY),u=[];return this.Ni.forEachInRange([r,i],d=>{const m=this.ki(d.Ci);u.push(m)}),de.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wn(Mt);return t.forEach(i=>{const u=new Ci(i,0),d=new Ci(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([u,d],m=>{r=r.add(m.Ci)})}),de.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;je.isDocumentKey(u)||(u=u.child(""));const d=new Ci(new je(u),0);let m=new wn(Mt);return this.Ni.forEachWhile(v=>{const E=v.key.path;return!!r.isPrefixOf(E)&&(E.length===i&&(m=m.add(v.Ci)),!0)},d),de.resolve(this.Oi(m))}Oi(e){const t=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Tt(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return de.forEach(t.mutations,i=>{const u=new Ci(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new Ci(t,0),i=this.Ni.firstAfterOrEqual(r);return de.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return de.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class qP{constructor(e){this.$i=e,this.docs=new Zn(je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,d=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return de.resolve(r?r.document.mutableCopy():bn.newInvalidDocument(t))}getEntries(e,t){let r=Io();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():bn.newInvalidDocument(i))}),de.resolve(r)}getAllFromCollection(e,t,r){let i=Io();const u=new je(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:m,value:{document:v}}=d.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||c0(HC(v),r)<=0||(i=i.insert(v.key,v.mutableCopy()))}return de.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Ke()}Bi(e,t){return de.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new GP(this)}getSize(e){return de.resolve(this.size)}}class GP extends ix{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),de.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class ZP{constructor(e){this.persistence=e,this.Li=new Ml(t=>yh(t),ey),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Ui=0,this.qi=new zT,this.targetCount=0,this.Ki=Bp.gn()}forEachTarget(e,t){return this.Li.forEach((r,i)=>t(i)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),de.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new Bp(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Tn(t),de.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Li.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Li.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)}),de.waitFor(u).next(()=>i)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return de.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),de.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(d=>{u.push(i.markPotentiallyOrphaned(e,d))}),de.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),de.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return de.resolve(r)}containsKey(e,t){return de.resolve(this.qi.containsKey(t))}}class zP{constructor(e,t){this.Gi={},this.overlays={},this.es=new vs(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new ZP(this),this.indexManager=new IP,this.ds=new qP(r=>this.referenceDelegate.Qi(r)),this.M=new $1(t),this._s=new jP(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new HP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new $P(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Re("MemoryPersistence","Starting transaction:",e);const i=new WP(this.es.next());return this.referenceDelegate.ji(),r(i).next(u=>this.referenceDelegate.Wi(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}zi(e,t){return de.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class WP extends yy{constructor(e){super(),this.currentSequenceNumber=e}}class WT{constructor(e){this.persistence=e,this.Hi=new zT,this.Ji=null}static Yi(e){return new WT(e)}get Xi(){if(this.Ji)return this.Ji;throw Ke()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),de.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),de.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Xi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Xi,r=>{const i=je.fromPath(r);return this.Zi(e,i).next(u=>{u||t.removeEntry(i,It.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return de.or([()=>de.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function yx(n,e){return`firestore_clients_${n}_${e}`}function _x(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function KT(n,e){return`firestore_targets_${n}_${e}`}class CE{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static tr(e,t,r){const i=JSON.parse(r);let u,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(u=new Me(i.error.code,i.error.message))),d?new CE(e,t,i.state,u):(On("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class L0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Me(r.error.code,r.error.message))),u?new L0(e,r.state,i):(On("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class EE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=ua();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=UC(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return i?new EE(e,u):(On("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class YT{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new YT(t.clientId,t.onlineState):(On("SharedClientState",`Failed to parse online state: ${e}`),null)}}class JT{constructor(){this.activeTargetIds=ua()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QT{constructor(e,t,r,i,u){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Zn(Mt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.hr=yx(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new JT),this.dr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,se.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.ir)continue;const u=e.getItem(yx(e.persistenceKey,i));if(u){const d=EE.tr(i,u);d&&(e.ar=e.ar.insert(d.clientId,d))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const i=e.pr(r);i&&e.Ir(i)}for(const i of e.cr)e.ur(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(KT(this.persistenceKey,e));if(r){const i=L0.tr(e,r);i&&(t=i.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(KT(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ar(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Re("SharedClientState","READ",e,t),t}setItem(e,t){Re("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Re("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Re("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void On("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,se.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Sr(i,null)}{const i=t.Dr(r.key,r.newValue);if(i)return t.Sr(i.clientId,i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Cr(r.key,r.newValue);if(i)return t.Nr(i)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const i=t.kr(r.key,r.newValue);if(i)return t.Mr(i)}}else if(r.key===t.mr){if(null!==r.newValue){const i=t.pr(r.newValue);if(i)return t.Ir(i)}}else if(r.key===t.lr){const i=function(u){let d=vs.A;if(null!=u)try{const m=JSON.parse(u);Tt("number"==typeof m),d=m}catch(m){On("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);i!==vs.A&&t.sequenceNumberHandler(i)}else if(r.key===t.gr){const i=t.Or(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.Fr(u)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const i=new CE(this.currentUser,e,t,r),u=_x(this.persistenceKey,this.currentUser,e);this.setItem(u,i.er())}Ar(e){const t=_x(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const i=KT(this.persistenceKey,e),u=new L0(e,t,r);this.setItem(i,u.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return EE.tr(r,t)}Cr(e,t){const r=this._r.exec(e),i=Number(r[1]);return CE.tr(new Kr(void 0!==r[2]?r[2]:null),i,t)}kr(e,t){const r=this.wr.exec(e),i=Number(r[1]);return L0.tr(i,t)}pr(e){return YT.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,se.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Re("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),u=this.Tr(r),d=[],m=[];return u.forEach(v=>{i.has(v)||d.push(v)}),i.forEach(v=>{u.has(v)||m.push(v)}),this.syncEngine.Lr(d,m).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=ua();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class vx{constructor(){this.Ur=new JT,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new JT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class KP{Kr(e){}shutdown(){}}class bx{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const YP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class JP{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class QP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,u){const d=this.ho(e,t);Re("RestConnection","Sending: ",d,r);const m={};return this.lo(m,i,u),this.fo(e,d,m,r).then(v=>(Re("RestConnection","Received: ",v),v),v=>{throw fp("RestConnection",`${e} failed with error: `,v,"url: ",d,"request:",r),v})}_o(e,t,r,i,u){return this.co(e,t,r,i,u)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+fh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}ho(e,t){return`${this.uo}/v1/${t}:${YP[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((u,d)=>{const m=new SC;m.listenOnce(dp.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case e0.NO_ERROR:const E=m.getResponseJson();Re("Connection","XHR received:",JSON.stringify(E)),u(E);break;case e0.TIMEOUT:Re("Connection",'RPC "'+e+'" timed out'),d(new Me(le.DEADLINE_EXCEEDED,"Request time out"));break;case e0.HTTP_ERROR:const S=m.getStatus();if(Re("Connection",'RPC "'+e+'" failed with status:',S,"response text:",m.getResponseText()),S>0){const M=m.getResponseJson().error;if(M&&M.status&&M.message){const U=function(q){const K=q.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(K)>=0?K:le.UNKNOWN}(M.status);d(new Me(U,M.message))}else d(new Me(le.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Me(le.UNAVAILABLE,"Connection failed."));break;default:Ke()}}finally{Re("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(i);m.send(t,"POST",v,r,15)})}wo(e,t,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=QD(),d=XD(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new AC({})),this.lo(m.initMessageHeaders,t,r),(0,Dt.uI)()||(0,Dt.b$)()||(0,Dt.d)()||(0,Dt.w1)()||(0,Dt.Mn)()||(0,Dt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const v=i.join("");Re("Connection","Creating WebChannel: "+v,m);const E=u.createWebChannel(v,m);let S=!1,M=!1;const U=new JP({Jr:K=>{M?Re("Connection","Not sending because WebChannel is closed:",K):(S||(Re("Connection","Opening WebChannel transport."),E.open(),S=!0),Re("Connection","WebChannel sending:",K),E.send(K))},Yr:()=>E.close()}),q=(K,Se,Fe)=>{K.listen(Se,rt=>{try{Fe(rt)}catch(ct){setTimeout(()=>{throw ct},0)}})};return q(E,hp.EventType.OPEN,()=>{M||Re("Connection","WebChannel transport opened.")}),q(E,hp.EventType.CLOSE,()=>{M||(M=!0,Re("Connection","WebChannel transport closed"),U.ro())}),q(E,hp.EventType.ERROR,K=>{M||(M=!0,fp("Connection","WebChannel transport errored:",K),U.ro(new Me(le.UNAVAILABLE,"The operation could not be completed")))}),q(E,hp.EventType.MESSAGE,K=>{var Se;if(!M){const Fe=K.data[0];Tt(!!Fe);const rt=Fe,ct=rt.error||(null===(Se=rt[0])||void 0===Se?void 0:Se.error);if(ct){Re("Connection","WebChannel received error:",ct);const _t=ct.status;let st=function(Gt){const Nr=Qn[Gt];if(void 0!==Nr)return oE(Nr)}(_t),Ot=ct.message;void 0===st&&(st=le.INTERNAL,Ot="Unknown error status: "+_t+" with message "+ct.message),M=!0,U.ro(new Me(st,Ot)),E.close()}else Re("Connection","WebChannel received:",Fe),U.oo(Fe)}}),q(d,TC.STAT_EVENT,K=>{K.stat===t0.PROXY?Re("Connection","Detected buffering proxy"):K.stat===t0.NOPROXY&&Re("Connection","Detected no buffering proxy")}),setTimeout(()=>{U.io()},0),U}}function wx(){return"undefined"!=typeof window?window:null}function IE(){return"undefined"!=typeof document?document:null}function U0(n){return new lE(n,!0)}class XT{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=i,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Cx{constructor(e,t,r,i,u,d,m,v){this.Yn=e,this.Vo=r,this.vo=i,this.So=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new XT(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,se.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,se.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,se.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(On(t.toString()),On("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===le.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new Me(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro((0,se.Z)(function*(){e.state=0,e.start()}))}jo(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XP extends Cx{constructor(e,t,r,i,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.M=u}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function ET(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:Ke(),i=e.targetChange.targetIds||[],u=function(v,E){return v.N?(Tt(void 0===E||"string"==typeof E),_r.fromBase64String(E||"")):(Tt(void 0===E||E instanceof Uint8Array),_r.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(v){const E=void 0===v.code?le.UNKNOWN:oE(v.code);return new Me(E,v.message||"")}(d);t=new uy(r,i,u,m||null)}else if("documentChange"in e){const r=e.documentChange,i=ca(n,r.document.name),u=Pr(r.document.updateTime),d=new Yr({mapValue:{fields:r.document.fields}}),m=bn.newFoundDocument(i,u,d);t=new Dh(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=ca(n,r.document),u=r.readTime?Pr(r.readTime):It.min(),d=bn.newNoDocument(i,u);t=new Dh([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=ca(n,r.document);t=new Dh([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ke();{const r=e.filter,u=new P1(r.count||0);t=new cE(r.targetId,u)}}var v;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return It.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?It.min():u.readTime?Pr(u.readTime):It.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=Pl(this.M),t.addTarget=function(i,u){let d;const m=u.target;return d=d0(m)?{documents:fE(i,m)}:{query:DT(i,m)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=dE(i,u.resumeToken):u.snapshotVersion.compareTo(It.min())>0&&(d.readTime=Mp(i,u.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function L1(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ke()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=Pl(this.M),t.removeTarget=e,this.Lo(t)}}class ek extends Cx{constructor(e,t,r,i,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.M=u,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function IT(n,e){return n&&n.length>0?(Tt(void 0!==e),n.map(t=>function(r,i){let u=Pr(r.updateTime?r.updateTime:i);return u.isEqual(It.min())&&(u=Pr(i)),new gT(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Pr(e.commitTime);return this.listener.tu(r,t)}return Tt(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Pl(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>fy(this.M,r))};this.Lo(t)}}class tk extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new Me(le.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.So.co(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Me(le.UNKNOWN,i.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.So._o(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Me(le.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class nk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(On(t),this.uu=!1):Re("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class rk{constructor(e,t,r,i,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=u,this.gu.Kr(m=>{r.enqueueAndForget((0,se.Z)(function*(){var v;Oh(d)&&(Re("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,se.Z)(function*(E){const S=$e(E);S.wu.add(4),yield Ey(S),S.yu.set("Unknown"),S.wu.delete(4),yield V0(S)}),function(E){return v.apply(this,arguments)})(d))}))}),this.yu=new nk(r,i)}}function V0(n){return eA.apply(this,arguments)}function eA(){return eA=(0,se.Z)(function*(n){if(Oh(n))for(const e of n.mu)yield e(!0)}),eA.apply(this,arguments)}function Ey(n){return tA.apply(this,arguments)}function tA(){return tA=(0,se.Z)(function*(n){for(const e of n.mu)yield e(!1)}),tA.apply(this,arguments)}function DE(n,e){const t=$e(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),iA(t)?rA(t):Dy(t).Mo()&&nA(t,e))}function B0(n,e){const t=$e(n),r=Dy(t);t._u.delete(e),r.Mo()&&Ex(t,e),0===t._u.size&&(r.Mo()?r.$o():Oh(t)&&t.yu.set("Unknown"))}function nA(n,e){n.pu.Z(e.targetId),Dy(n).Ho(e)}function Ex(n,e){n.pu.Z(e),Dy(n).Jo(e)}function rA(n){n.pu=new ly({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),Dy(n).start(),n.yu.au()}function iA(n){return Oh(n)&&!Dy(n).ko()&&n._u.size>0}function Oh(n){return 0===$e(n).wu.size}function Ix(n){n.pu=void 0}function ik(n){return sA.apply(this,arguments)}function sA(){return sA=(0,se.Z)(function*(n){n._u.forEach((e,t)=>{nA(n,e)})}),sA.apply(this,arguments)}function sk(n,e){return oA.apply(this,arguments)}function oA(){return oA=(0,se.Z)(function*(n,e){Ix(n),iA(n)?(n.yu.lu(e),rA(n)):n.yu.set("Unknown")}),oA.apply(this,arguments)}function ok(n,e,t){return aA.apply(this,arguments)}function aA(){return aA=(0,se.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof uy&&2===e.state&&e.cause)try{yield(r=(0,se.Z)(function*(i,u){const d=u.cause;for(const m of u.targetIds)i._u.has(m)&&(yield i.remoteSyncer.rejectListen(m,d),i._u.delete(m),i.pu.removeTarget(m))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield TE(n,r)}else if(e instanceof Dh?n.pu.ut(e):e instanceof cE?n.pu._t(e):n.pu.ht(e),!t.isEqual(It.min()))try{const r=yield hx(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const d=i.pu.yt(u);return d.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const E=i._u.get(v);E&&i._u.set(v,E.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach(m=>{const v=i._u.get(m);if(!v)return;i._u.set(m,v.withResumeToken(_r.EMPTY_BYTE_STRING,v.snapshotVersion)),Ex(i,m);const E=new Sh(v.target,m,1,v.sequenceNumber);nA(i,E)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Re("RemoteStore","Failed to raise snapshot:",r),yield TE(n,r)}var r}),aA.apply(this,arguments)}function TE(n,e,t){return uA.apply(this,arguments)}function uA(){return uA=(0,se.Z)(function*(n,e,t){if(!kp(e))throw e;n.wu.add(1),yield Ey(n),n.yu.set("Offline"),t||(t=()=>hx(n.localStore)),n.asyncQueue.enqueueRetryable((0,se.Z)(function*(){Re("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield V0(n)}))}),uA.apply(this,arguments)}function Dx(n,e){return e().catch(t=>TE(n,t,e))}function Iy(n){return cA.apply(this,arguments)}function cA(){return cA=(0,se.Z)(function*(n){const e=$e(n),t=Ph(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;ak(e);)try{const i=yield UP(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,uk(e,i)}catch(i){yield TE(e,i)}Tx(e)&&Ax(e)}),cA.apply(this,arguments)}function ak(n){return Oh(n)&&n.du.length<10}function uk(n,e){n.du.push(e);const t=Ph(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function Tx(n){return Oh(n)&&!Ph(n).ko()&&n.du.length>0}function Ax(n){Ph(n).start()}function ck(n){return lA.apply(this,arguments)}function lA(){return lA=(0,se.Z)(function*(n){Ph(n).nu()}),lA.apply(this,arguments)}function lk(n){return dA.apply(this,arguments)}function dA(){return dA=(0,se.Z)(function*(n){const e=Ph(n);for(const t of n.du)e.Zo(t.mutations)}),dA.apply(this,arguments)}function dk(n,e,t){return hA.apply(this,arguments)}function hA(){return hA=(0,se.Z)(function*(n,e,t){const r=n.du.shift(),i=OT.from(r,e,t);yield Dx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Iy(n)}),hA.apply(this,arguments)}function hk(n,e){return fA.apply(this,arguments)}function fA(){return fA=(0,se.Z)(function*(n,e){var t;e&&Ph(n).Xo&&(yield(t=(0,se.Z)(function*(r,i){if(sE(u=i.code)&&u!==le.ABORTED){const d=r.du.shift();Ph(r).Fo(),yield Dx(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield Iy(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),Tx(n)&&Ax(n)}),fA.apply(this,arguments)}function Sx(n,e){return pA.apply(this,arguments)}function pA(){return pA=(0,se.Z)(function*(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const r=Oh(t);t.wu.add(3),yield Ey(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield V0(t)}),pA.apply(this,arguments)}function gA(n,e){return mA.apply(this,arguments)}function mA(){return mA=(0,se.Z)(function*(n,e){const t=$e(n);e?(t.wu.delete(2),yield V0(t)):e||(t.wu.add(2),yield Ey(t),t.yu.set("Unknown"))}),mA.apply(this,arguments)}function Dy(n){return n.Iu||(n.Iu=function(e,t,r){const i=$e(e);return i.iu(),new XP(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:ik.bind(null,n),eo:sk.bind(null,n),zo:ok.bind(null,n)}),n.mu.push(function(){var e=(0,se.Z)(function*(t){t?(n.Iu.Fo(),iA(n)?rA(n):n.yu.set("Unknown")):(yield n.Iu.stop(),Ix(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Ph(n){return n.Tu||(n.Tu=function(e,t,r){const i=$e(e);return i.iu(),new ek(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:ck.bind(null,n),eo:hk.bind(null,n),eu:lk.bind(null,n),tu:dk.bind(null,n)}),n.mu.push(function(){var e=(0,se.Z)(function*(t){t?(n.Tu.Fo(),yield Iy(n)):(yield n.Tu.stop(),n.du.length>0&&(Re("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class yA{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,u){const d=Date.now()+r,m=new yA(e,t,d,i,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ty(n,e){if(On("AsyncQueue",`${e}: ${n}`),kp(n))return new Me(le.UNAVAILABLE,`${e}: ${n}`);throw n}class Ay{constructor(e){this.comparator=e?(t,r)=>e(t,r)||je.comparator(t.key,r.key):(t,r)=>je.comparator(t.key,r.key),this.keyedMap=aE(),this.sortedSet=new Zn(this.comparator)}static emptySet(e){return new Ay(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ay)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ay;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class xx{constructor(){this.Eu=new Zn(je.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):Ke():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Sy{constructor(e,t,r,i,u,d,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,i){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new Sy(e,t,Ay.emptySet(t),u,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ri(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class fk{constructor(){this.Ru=void 0,this.listeners=[]}}class pk{constructor(){this.queries=new Ml(e=>YC(e),Ri),this.onlineState="Unknown",this.bu=new Set}}function _A(n,e){return vA.apply(this,arguments)}function vA(){return vA=(0,se.Z)(function*(n,e){const t=$e(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new fk),i)try{u.Ru=yield t.onListen(r)}catch(d){const m=Ty(d,`Initialization of query '${Tp(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Pu(t.onlineState),u.Ru&&e.Vu(u.Ru)&&CA(t)}),vA.apply(this,arguments)}function bA(n,e){return wA.apply(this,arguments)}function wA(){return wA=(0,se.Z)(function*(n,e){const t=$e(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),wA.apply(this,arguments)}function gk(n,e){const t=$e(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const m of d.listeners)m.Vu(i)&&(r=!0);d.Ru=i}}r&&CA(t)}function mk(n,e,t){const r=$e(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function CA(n){n.bu.forEach(e=>{e.next()})}class EA{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Sy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Sy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class yk{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class Mx{constructor(e){this.M=e}wi(e){return ca(this.M,e)}mi(e){return e.metadata.exists?hy(this.M,e.document,!1):bn.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return Pr(e)}}class _k{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ox(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=qt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new Mx(this.M);for(const i of e)if(i.metadata.queries){const u=r.wi(i.metadata.name);for(const d of i.metadata.queries){const m=(t.get(d)||on()).add(u);t.set(d,m)}}return t}complete(){var e=this;return(0,se.Z)(function*(){const t=yield function VP(n,e,t,r){return GT.apply(this,arguments)}(e.localStore,new Mx(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const i of e.queries)yield BP(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Ox(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Px{constructor(e){this.key=e}}class kx{constructor(e){this.key=e}}class Rx{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=on(),this.mutatedKeys=on(),this.Gu=ny(e),this.Qu=new Ay(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new xx,i=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,d=i,m=!1;const v="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,E="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,M)=>{const U=i.get(S),q=y0(this.query,M)?M:null,K=!!U&&this.mutatedKeys.has(U.key),Se=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Fe=!1;U&&q?U.data.isEqual(q.data)?K!==Se&&(r.track({type:3,doc:q}),Fe=!0):this.Hu(U,q)||(r.track({type:2,doc:q}),Fe=!0,(v&&this.Gu(q,v)>0||E&&this.Gu(q,E)<0)&&(m=!0)):!U&&q?(r.track({type:0,doc:q}),Fe=!0):U&&!q&&(r.track({type:1,doc:U}),Fe=!0,(v||E)&&(m=!0)),Fe&&(q?(d=d.add(q),u=Se?u.add(S):u.delete(S)):(d=d.delete(S),u=u.delete(S)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const S="F"===this.query.limitType?d.last():d.first();d=d.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{Qu:d,zu:r,ii:m,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Au();u.sort((E,S)=>function(M,U){const q=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke()}};return q(M)-q(U)}(E.type,S.type)||this.Gu(E.doc,S.doc)),this.Ju(r);const d=t?this.Yu():[],m=0===this.Ku.size&&this.current?1:0,v=m!==this.qu;return this.qu=m,0!==u.length||v?{snapshot:new Sy(this.query,e.Qu,i,u,e.mutatedKeys,0===m,v,!1),Xu:d}:{Xu:d}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new xx,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=on(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new kx(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new Px(r))}),t}ta(e){this.Uu=e._i,this.Ku=on();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return Sy.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class vk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class bk{constructor(e){this.key=e,this.na=!1}}class wk{constructor(e,t,r,i,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.sa={},this.ia=new Ml(m=>YC(m),Ri),this.ra=new Map,this.oa=new Set,this.ua=new Zn(je.comparator),this.aa=new Map,this.ca=new zT,this.ha={},this.la=new Map,this.fa=Bp.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function Ck(n,e){return IA.apply(this,arguments)}function IA(){return IA=(0,se.Z)(function*(n,e){const t=zA(n);let r,i;const u=t.ia.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.ea();else{const d=yield wy(t.localStore,es(e));t.isPrimaryClient&&DE(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield DA(t,e,r,"current"===m)}return i}),IA.apply(this,arguments)}function DA(n,e,t,r){return TA.apply(this,arguments)}function TA(){return TA=(0,se.Z)(function*(n,e,t,r){n._a=(S,M,U)=>{return(q=(0,se.Z)(function*(K,Se,Fe,rt){let ct=Se.view.Wu(Fe);ct.ii&&(ct=yield wE(K.localStore,Se.query,!1).then(({documents:Ot})=>Se.view.Wu(Ot,ct)));const _t=rt&&rt.targetChanges.get(Se.targetId),st=Se.view.applyChanges(ct,K.isPrimaryClient,_t);return FA(K,Se.targetId,st.Xu),st.snapshot}),function(K,Se,Fe,rt){return q.apply(this,arguments)})(n,S,M,U);var q};const i=yield wE(n.localStore,e,!0),u=new Rx(e,i._i),d=u.Wu(i.documents),m=Ol.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=u.applyChanges(d,n.isPrimaryClient,m);FA(n,t,v.Xu);const E=new vk(e,t,u);return n.ia.set(e,E),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),v.snapshot}),TA.apply(this,arguments)}function Ek(n,e){return AA.apply(this,arguments)}function AA(){return AA=(0,se.Z)(function*(n,e){const t=$e(n),r=t.ia.get(e),i=t.ra.get(r.targetId);if(i.length>1)return t.ra.set(r.targetId,i.filter(u=>!Ri(u,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Cy(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),B0(t.remoteStore,r.targetId),xy(t,r.targetId)}).catch(jp))):(xy(t,r.targetId),yield Cy(t.localStore,r.targetId,!0))}),AA.apply(this,arguments)}function SA(){return SA=(0,se.Z)(function*(n,e,t){const r=WA(n);try{const i=yield function(u,d){const m=$e(u),v=Fn.now(),E=d.reduce((M,U)=>M.add(U.key),on());let S;return m.persistence.runTransaction("Locally write mutations","readwrite",M=>m.fi.Ks(M,E).next(U=>{S=U;const q=[];for(const K of d){const Se=nE(K,S.get(K.key));null!=Se&&q.push(new xl(K.key,Se,u0(Se.value.mapValue),vr.exists(!0)))}return m.Bs.addMutationBatch(M,v,q,d)})).then(M=>(M.applyToLocalDocumentSet(S),{batchId:M.batchId,changes:S}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,d,m){let v=u.ha[u.currentUser.toKey()];v||(v=new Zn(Mt)),v=v.insert(d,m),u.ha[u.currentUser.toKey()]=v}(r,i.batchId,t),yield Rl(r,i.changes),yield Iy(r.remoteStore)}catch(i){const u=Ty(i,"Failed to persist write");t.reject(u)}}),SA.apply(this,arguments)}function Nx(n,e){return xA.apply(this,arguments)}function xA(){return xA=(0,se.Z)(function*(n,e){const t=$e(n);try{const r=yield LP(t.localStore,e);e.targetChanges.forEach((i,u)=>{const d=t.aa.get(u);d&&(Tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.na=!0:i.modifiedDocuments.size>0?Tt(d.na):i.removedDocuments.size>0&&(Tt(d.na),d.na=!1))}),yield Rl(t,r,e)}catch(r){yield jp(r)}}),xA.apply(this,arguments)}function Fx(n,e,t){const r=$e(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ia.forEach((u,d)=>{const m=d.view.Pu(e);m.snapshot&&i.push(m.snapshot)}),function(u,d){const m=$e(u);m.onlineState=d;let v=!1;m.queries.forEach((E,S)=>{for(const M of S.listeners)M.Pu(d)&&(v=!0)}),v&&CA(m)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Dk(n,e,t){return MA.apply(this,arguments)}function MA(){return MA=(0,se.Z)(function*(n,e,t){const r=$e(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.aa.get(e),u=i&&i.key;if(u){let d=new Zn(je.comparator);d=d.insert(u,bn.newNoDocument(u,It.min()));const m=on().add(u),v=new Ih(It.min(),new Map,new wn(Mt),d,m);yield Nx(r,v),r.ua=r.ua.remove(u),r.aa.delete(e),LA(r)}else yield Cy(r.localStore,e,!1).then(()=>xy(r,e,t)).catch(jp)}),MA.apply(this,arguments)}function Tk(n,e){return OA.apply(this,arguments)}function OA(){return OA=(0,se.Z)(function*(n,e){const t=$e(n),r=e.batch.batchId;try{const i=yield FP(t.localStore,e);NA(t,r,null),RA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Rl(t,i)}catch(i){yield jp(i)}}),OA.apply(this,arguments)}function Ak(n,e,t){return PA.apply(this,arguments)}function PA(){return PA=(0,se.Z)(function*(n,e,t){const r=$e(n);try{const i=yield function(u,d){const m=$e(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let E;return m.Bs.lookupMutationBatch(v,d).next(S=>(Tt(null!==S),E=S.keys(),m.Bs.removeMutationBatch(v,S))).next(()=>m.Bs.performConsistencyCheck(v)).next(()=>m.fi.Ks(v,E))})}(r.localStore,e);NA(r,e,t),RA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Rl(r,i)}catch(i){yield jp(i)}}),PA.apply(this,arguments)}function kA(){return kA=(0,se.Z)(function*(n,e){const t=$e(n);Oh(t.remoteStore)||Re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=$e(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.Bs.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const i=t.la.get(r)||[];i.push(e),t.la.set(r,i)}catch(r){const i=Ty(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),kA.apply(this,arguments)}function RA(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function NA(n,e,t){const r=$e(n);let i=r.ha[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function xy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||Lx(n,r)})}function Lx(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(B0(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),LA(n))}function FA(n,e,t){for(const r of t)r instanceof Px?(n.ca.addReference(r.key,e),xk(n,r)):r instanceof kx?(Re("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||Lx(n,r.key)):Ke()}function xk(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(Re("SyncEngine","New document in limbo: "+t),n.oa.add(r),LA(n))}function LA(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new je(qt.fromString(e)),r=n.fa.next();n.aa.set(r,new bk(t)),n.ua=n.ua.insert(t,r),DE(n.remoteStore,new Sh(es(Dp(t.path)),r,2,vs.A))}}function Rl(n,e,t){return UA.apply(this,arguments)}function UA(){return UA=(0,se.Z)(function*(n,e,t){const r=$e(n),i=[],u=[],d=[];var m;r.ia.isEmpty()||(r.ia.forEach((m,v)=>{d.push(r._a(v,e,t).then(E=>{if(E){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,E.fromCache?"not-current":"current"),i.push(E);const S=HT.Ys(v.targetId,E);u.push(S)}}))}),yield Promise.all(d),r.sa.zo(i),yield(m=(0,se.Z)(function*(v,E){const S=$e(v);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>de.forEach(E,U=>de.forEach(U.Hs,q=>S.persistence.referenceDelegate.addReference(M,U.targetId,q)).next(()=>de.forEach(U.Js,q=>S.persistence.referenceDelegate.removeReference(M,U.targetId,q)))))}catch(M){if(!kp(M))throw M;Re("LocalStore","Failed to update sequence numbers: "+M)}for(const M of E){const U=M.targetId;if(!M.fromCache){const q=S.ui.get(U),Se=q.withLastLimboFreeSnapshotVersion(q.snapshotVersion);S.ui=S.ui.insert(U,Se)}}}),function(v,E){return m.apply(this,arguments)})(r.localStore,u))}),UA.apply(this,arguments)}function Mk(n,e){return VA.apply(this,arguments)}function VA(){return VA=(0,se.Z)(function*(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const r=yield dx(t.localStore,e);t.currentUser=e,(i=t).la.forEach(d=>{d.forEach(m=>{m.reject(new Me(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Rl(t,r.di)}var i}),VA.apply(this,arguments)}function Ok(n,e){const t=$e(n),r=t.aa.get(e);if(r&&r.na)return on().add(r.key);{let i=on();const u=t.ra.get(e);if(!u)return i;for(const d of u){const m=t.ia.get(d);i=i.unionWith(m.view.ju)}return i}}function Pk(n,e){return BA.apply(this,arguments)}function BA(){return BA=(0,se.Z)(function*(n,e){const t=$e(n),r=yield wE(t.localStore,e.query,!0),i=e.view.ta(r);return t.isPrimaryClient&&FA(t,e.targetId,i.Xu),i}),BA.apply(this,arguments)}function kk(n,e){return jA.apply(this,arguments)}function jA(){return jA=(0,se.Z)(function*(n,e){const t=$e(n);return gx(t.localStore,e).then(r=>Rl(t,r))}),jA.apply(this,arguments)}function Rk(n,e,t,r){return HA.apply(this,arguments)}function HA(){return HA=(0,se.Z)(function*(n,e,t,r){const i=$e(n),u=yield function(d,m){const v=$e(d),E=$e(v.Bs);return v.persistence.runTransaction("Lookup mutation documents","readonly",S=>E.fn(S,m).next(M=>M?v.fi.Ks(S,M):de.resolve(null)))}(i.localStore,e);var m;null!==u?("pending"===t?yield Iy(i.remoteStore):"acknowledged"===t||"rejected"===t?(NA(i,e,r||null),RA(i,e),m=e,$e($e(i.localStore).Bs)._n(m)):Ke(),yield Rl(i,u)):Re("SyncEngine","Cannot apply mutation batch with id: "+e)}),HA.apply(this,arguments)}function $A(){return $A=(0,se.Z)(function*(n,e){const t=$e(n);if(zA(t),WA(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield Ux(t,r.toArray());t.da=!0,yield gA(t.remoteStore,!0);for(const u of i)DE(t.remoteStore,u)}else if(!1===e&&!1!==t.da){const r=[];let i=Promise.resolve();t.ra.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(xy(t,d),Cy(t.localStore,d,!0))),B0(t.remoteStore,d)}),yield i,yield Ux(t,r),function(u){const d=$e(u);d.aa.forEach((m,v)=>{B0(d.remoteStore,v)}),d.ca.Si(),d.aa=new Map,d.ua=new Zn(je.comparator)}(t),t.da=!1,yield gA(t.remoteStore,!1)}}),$A.apply(this,arguments)}function Ux(n,e,t){return qA.apply(this,arguments)}function qA(){return qA=(0,se.Z)(function*(n,e,t){const r=$e(n),i=[],u=[];for(const d of e){let m;const v=r.ra.get(d);if(v&&0!==v.length){m=yield wy(r.localStore,es(v[0]));for(const E of v){const S=r.ia.get(E),M=yield Pk(r,S);M.snapshot&&u.push(M.snapshot)}}else{const E=yield px(r.localStore,d);m=yield wy(r.localStore,E),yield DA(r,Vx(E),d,!1)}i.push(m)}return r.sa.zo(u),i}),qA.apply(this,arguments)}function Vx(n){return cT(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Fk(n){const e=$e(n);return $e($e(e.localStore).persistence).Fs()}function Lk(n,e,t,r){return GA.apply(this,arguments)}function GA(){return GA=(0,se.Z)(function*(n,e,t,r){const i=$e(n);if(i.da)return void Re("SyncEngine","Ignoring unexpected query state notification.");const u=i.ra.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield gx(i.localStore,JC(u[0])),m=Ih.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Rl(i,d,m);break}case"rejected":yield Cy(i.localStore,e,!0),xy(i,e,r);break;default:Ke()}}),GA.apply(this,arguments)}function Uk(n,e,t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,se.Z)(function*(n,e,t){const r=zA(n);if(r.da){for(const i of e){if(r.ra.has(i)){Re("SyncEngine","Adding an already active target "+i);continue}const u=yield px(r.localStore,i),d=yield wy(r.localStore,u);yield DA(r,Vx(u),d.targetId,!1),DE(r.remoteStore,d)}for(const i of t)r.ra.has(i)&&(yield Cy(r.localStore,i,!1).then(()=>{B0(r.remoteStore,i),xy(r,i)}).catch(jp))}}),ZA.apply(this,arguments)}function zA(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ok.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dk.bind(null,e),e.sa.zo=gk.bind(null,e.eventManager),e.sa.wa=mk.bind(null,e.eventManager),e}function WA(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ak.bind(null,e),e}class Bx{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,se.Z)(function*(){t.M=U0(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return lx(this.persistence,new cx,e.initialUser,this.M)}ya(e){return new zP(WT.Yi,this.M)}ga(e){return new vx}terminate(){var e=this;return(0,se.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jx extends Bx{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,se.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield WA(r.Ta.syncEngine),yield Iy(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return lx(this.persistence,new cx,e.initialUser,this.M)}pa(e){return new SP(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=jT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ws.withCacheSize(this.cacheSizeBytes):Ws.DEFAULT;return new BT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,wx(),IE(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new vx}}class Bk extends jx{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,se.Z)(function*(){yield t().call(r,e);const i=r.Ta.syncEngine;r.sharedClientState instanceof QT&&(r.sharedClientState.syncEngine={$r:Rk.bind(null,i),Br:Lk.bind(null,i),Lr:Uk.bind(null,i),Fs:Fk.bind(null,i),Fr:kk.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var u=(0,se.Z)(function*(d){yield function Nk(n,e){return $A.apply(this,arguments)}(r.Ta.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}ga(e){const t=wx();if(!QT.vt(t))throw new Me(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=jT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new QT(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class KA{initialize(e,t){var r=this;return(0,se.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Fx(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Mk.bind(null,r.syncEngine),yield gA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new pk}createDatastore(e){const t=U0(e.databaseInfo.databaseId),r=new QP(e.databaseInfo);return new tk(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=m=>Fx(this.syncEngine,m,0),d=bx.vt()?new bx:new KP,new rk(t,r,i,u,d);var t,r,i,u,d}createSyncEngine(e,t){return function(r,i,u,d,m,v,E){const S=new wk(r,i,u,d,m,v);return E&&(S.da=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,se.Z)(function*(t){const r=$e(t);Re("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield Ey(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Hx(n,e=10240){let t=0;return{read:()=>(0,se.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,se.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class AE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class jk{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new Mr,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,se.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,se.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,se.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),i=Number(r);isNaN(i)&&e.va(`length string (${r}) is not valid number`);const u=yield e.Sa(i);return new yk(JSON.parse(u),t.length+i)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,se.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,se.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,se.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Hk{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,se.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Me(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,se.Z)(function*(u,d){const m=$e(u),v=Pl(m.M)+"/documents",E={documents:d.map(q=>Th(m.M,q))},S=yield m._o("BatchGetDocuments",v,E),M=new Map;S.forEach(q=>{const K=function CT(n,e){return"found"in e?function(t,r){Tt(!!r.found);const i=ca(t,r.found.name),u=Pr(r.found.updateTime),d=new Yr({mapValue:{fields:r.found.fields}});return bn.newFoundDocument(i,u,d)}(n,e):"missing"in e?function(t,r){Tt(!!r.missing),Tt(!!r.readTime);const i=ca(t,r.missing),u=Pr(r.readTime);return bn.newNoDocument(i,u)}(n,e):Ke()}(m.M,q);M.set(K.key.toString(),K)});const U=[];return d.forEach(q=>{const K=M.get(q.toString());Tt(!!K),U.push(K)}),U}),function(u,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Sp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,se.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=je.fromPath(i);e.mutations.push(new iE(u,e.precondition(u)))}),yield(r=(0,se.Z)(function*(i,u){const d=$e(i),m=Pl(d.M)+"/documents",v={writes:u.map(E=>fy(d.M,E))};yield d.co("Commit",m,v)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ke();t=It.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Me(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?vr.updateTime(t):vr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(It.min()))throw new Me(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vr.updateTime(t)}return vr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class $k{constructor(e,t,r,i,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=u,this.xa=r.maxAttempts,this.No=new XT(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,se.Z)(function*(){const t=new Hk(e.datastore),r=e.ka(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.Ma(u)}))}).catch(i=>{e.Ma(i)})}))}ka(e){try{const t=this.updateFunction(e);return!Wm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!sE(t)}return!1}}class qk{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Kr.UNAUTHENTICATED,this.clientId=Gm.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,se.Z)(function*(m){Re("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Re("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,se.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ty(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function $x(n,e){return YA.apply(this,arguments)}function YA(){return YA=(0,se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,se.Z)(function*(u){r.isEqual(u)||(yield dx(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),YA.apply(this,arguments)}function qx(n,e){return JA.apply(this,arguments)}function JA(){return JA=(0,se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield QA(n);Re("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Sx(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>Sx(e.remoteStore,u)),n.onlineComponents=e}),JA.apply(this,arguments)}function QA(n){return XA.apply(this,arguments)}function XA(){return XA=(0,se.Z)(function*(n){return n.offlineComponents||(Re("FirestoreClient","Using default OfflineComponentProvider"),yield $x(n,new Bx)),n.offlineComponents}),XA.apply(this,arguments)}function SE(n){return eS.apply(this,arguments)}function eS(){return eS=(0,se.Z)(function*(n){return n.onlineComponents||(Re("FirestoreClient","Using default OnlineComponentProvider"),yield qx(n,new KA)),n.onlineComponents}),eS.apply(this,arguments)}function Gx(n){return QA(n).then(e=>e.persistence)}function tS(n){return QA(n).then(e=>e.localStore)}function Zx(n){return SE(n).then(e=>e.remoteStore)}function nS(n){return SE(n).then(e=>e.syncEngine)}function My(n){return rS.apply(this,arguments)}function rS(){return rS=(0,se.Z)(function*(n){const e=yield SE(n),t=e.eventManager;return t.onListen=Ck.bind(null,e.syncEngine),t.onUnlisten=Ek.bind(null,e.syncEngine),t}),rS.apply(this,arguments)}function zx(n,e,t={}){const r=new Mr;return n.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return function(i,u,d,m,v){const E=new AE({next:M=>{u.enqueueAndForget(()=>bA(i,S));const U=M.docs.has(d);!U&&M.fromCache?v.reject(new Me(le.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&M.fromCache&&m&&"server"===m.source?v.reject(new Me(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(M)},error:M=>v.reject(M)}),S=new EA(Dp(d.path),E,{includeMetadataChanges:!0,ku:!0});return _A(i,S)}(yield My(n),n.asyncQueue,e,t,r)})),r.promise}function Wx(n,e,t={}){const r=new Mr;return n.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return function(i,u,d,m,v){const E=new AE({next:M=>{u.enqueueAndForget(()=>bA(i,S)),M.fromCache&&"server"===m.source?v.reject(new Me(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(M)},error:M=>v.reject(M)}),S=new EA(d,E,{includeMetadataChanges:!0,ku:!0});return _A(i,S)}(yield My(n),n.asyncQueue,e,t,r)})),r.promise}const Kx=new Map;function iS(n,e,t){if(!t)throw new Me(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Yx(n,e,t,r){if(!0===e&&!0===r)throw new Me(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Jx(n){if(!je.isDocumentKey(n))throw new Me(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Qx(n){if(je.isDocumentKey(n))throw new Me(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Ke()}function Yt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=xE(n);throw new Me(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Xx(n,e){if(e<=0)throw new Me(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class eM{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Yx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class j0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eM({}),this._settingsFrozen=!1,e instanceof eu?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Me(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(i.options.projectId)}(e))}get app(){if(!this._app)throw new Me(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eM(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new $m;switch(t.type){case"gapi":const r=t.client;return Tt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new OC(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Me(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Kx.get(e);t&&(Re("ComponentProvider","Removing Datastore"),Kx.delete(e),t.terminate())}(this),Promise.resolve()}}class Ln{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ln(this.firestore,e,this._key)}}class ts{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ts(this.firestore,e,this._query)}}class uc extends ts{constructor(e,t,r){super(e,t,Dp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ln(this.firestore,null,new je(e))}withConverter(e){return new uc(this.firestore,e,this._path)}}function tM(n,e,...t){if(n=(0,Dt.m9)(n),iS("collection","path",e),n instanceof j0){const r=qt.fromString(e,...t);return Qx(r),new uc(n,null,r)}{if(!(n instanceof Ln||n instanceof uc))throw new Me(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qt.fromString(e,...t));return Qx(r),new uc(n.firestore,null,r)}}function ME(n,e,...t){if(n=(0,Dt.m9)(n),1===arguments.length&&(e=Gm.R()),iS("doc","path",e),n instanceof j0){const r=qt.fromString(e,...t);return Jx(r),new Ln(n,null,new je(r))}{if(!(n instanceof Ln||n instanceof uc))throw new Me(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qt.fromString(e,...t));return Jx(r),new Ln(n.firestore,n instanceof uc?n.converter:null,new je(r))}}function nM(n,e){return n=(0,Dt.m9)(n),e=(0,Dt.m9)(e),(n instanceof Ln||n instanceof uc)&&(e instanceof Ln||e instanceof uc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function rM(n,e){return n=(0,Dt.m9)(n),e=(0,Dt.m9)(e),n instanceof ts&&e instanceof ts&&n.firestore===e.firestore&&Ri(n._query,e._query)&&n.converter===e.converter}class tR{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new XT(this,"async_queue_retry"),this.Qa=()=>{const t=IE();t&&Re("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=IE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=IE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new Mr;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,se.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!kp(t))throw t;Re("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,On("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const i=yA.createAndSchedule(this,e,t,r,u=>this.Ha(u));return this.La.push(i),i}ja(){this.Ua&&Ke()}verifyOperationInProgress(){}Ja(){var e=this;return(0,se.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function sS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class nR{constructor(){this._progressObserver={},this._taskCompletionResolver=new Mr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class zn extends j0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new tR,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||iM(this),this._firestoreClient.terminate()}}function kr(n){return n._firestoreClient||iM(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function iM(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new rT(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new qk(n._authCredentials,n._appCheckCredentials,n._queue,r)}function sM(n,e,t){const r=new Mr;return n.asyncQueue.enqueue((0,se.Z)(function*(){try{yield $x(n,t),yield qx(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(u=i).name?u.code===le.FAILED_PRECONDITION||u.code===le.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var u})).then(()=>r.promise)}function oM(n){if(n._initialized||n._terminated)throw new Me(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Nl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cc(_r.fromBase64String(e))}catch(t){throw new Me(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new cc(_r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $p{constructor(e){this._methodName=e}}class OE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}}const hR=/^__.*__$/;class fR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new xl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Eh(e,this.data,t,this.fieldTransforms)}}class aM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new xl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function uM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke()}}class PE{constructor(e,t,r,i,u,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===u&&this.tc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new PE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return NE(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(uM(this.ec)&&hR.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class pR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||U0(e)}lc(e,t,r,i=!1){return new PE({ec:e,methodName:t,hc:r,path:sr.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function qp(n){const e=n._freezeSettings(),t=U0(n._databaseId);return new pR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function kE(n,e,t,r,i,u={}){const d=n.lc(u.merge||u.mergeFields?2:0,e,t,i);cS("Data must be an object, but it was:",d,r);const m=dM(r,d);let v,E;if(u.merge)v=new El(d.fieldMask),E=d.fieldTransforms;else if(u.mergeFields){const S=[];for(const M of u.mergeFields){const U=lS(e,M,t);if(!d.contains(U))throw new Me(le.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);fM(S,U)||S.push(U)}v=new El(S),E=d.fieldTransforms.filter(M=>v.covers(M.field))}else v=null,E=d.fieldTransforms;return new fR(new Yr(m),v,E)}class H0 extends $p{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof H0}}function cM(n,e,t){return new PE({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class oS extends $p{_toFieldTransform(e){return new wh(e.path,new zs)}isEqual(e){return e instanceof oS}}class gR extends $p{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=cM(this,e,!0),r=this.fc.map(u=>Gp(u,t)),i=new ac(r);return new wh(e.path,i)}isEqual(e){return this===e}}class mR extends $p{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=cM(this,e,!0),r=this.fc.map(u=>Gp(u,t)),i=new Sl(r);return new wh(e.path,i)}isEqual(e){return this===e}}class yR extends $p{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new bh(e.M,v0(e.M,this.dc));return new wh(e.path,t)}isEqual(e){return this===e}}function aS(n,e,t,r){const i=n.lc(1,e,t);cS("Data must be an object, but it was:",i,r);const u=[],d=Yr.empty();Cl(r,(v,E)=>{const S=RE(e,v,t);E=(0,Dt.m9)(E);const M=i.oc(S);if(E instanceof H0)u.push(S);else{const U=Gp(E,M);null!=U&&(u.push(S),d.set(S,U))}});const m=new El(u);return new aM(d,m,i.fieldTransforms)}function uS(n,e,t,r,i,u){const d=n.lc(1,e,t),m=[lS(e,r,t)],v=[i];if(u.length%2!=0)throw new Me(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<u.length;U+=2)m.push(lS(e,u[U])),v.push(u[U+1]);const E=[],S=Yr.empty();for(let U=m.length-1;U>=0;--U)if(!fM(E,m[U])){const q=m[U];let K=v[U];K=(0,Dt.m9)(K);const Se=d.oc(q);if(K instanceof H0)E.push(q);else{const Fe=Gp(K,Se);null!=Fe&&(E.push(q),S.set(q,Fe))}}const M=new El(E);return new aM(S,M,d.fieldTransforms)}function lM(n,e,t,r=!1){return Gp(t,n.lc(r?4:3,e))}function Gp(n,e){if(hM(n=(0,Dt.m9)(n)))return cS("Unsupported field value:",e,n),dM(n,e);if(n instanceof $p)return function(t,r){if(!uM(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const d of t){let m=Gp(d,r.uc(u));null==m&&(m={nullValue:"NULL_VALUE"}),i.push(m),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Dt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return v0(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Fn.fromDate(t);return{timestampValue:Mp(r.M,i)}}if(t instanceof Fn){const i=new Fn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Mp(r.M,i)}}if(t instanceof OE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof cc)return{bytesValue:dE(r.M,t._byteString)};if(t instanceof Ln){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.ac(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:dy(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${xE(t)}`)}(n,e)}function dM(n,e){const t={};return RC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cl(n,(r,i)=>{const u=Gp(i,e.sc(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function hM(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Fn||n instanceof OE||n instanceof cc||n instanceof Ln||n instanceof $p)}function cS(n,e,t){if(!hM(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=xE(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function lS(n,e,t){if((e=(0,Dt.m9)(e))instanceof Nl)return e._internalPath;if("string"==typeof e)return RE(n,e);throw NE("Field path arguments must be of type string or ",n,!1,void 0,t)}const _R=new RegExp("[~\\*/\\[\\]]");function RE(n,e,t){if(e.search(_R)>=0)throw NE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Nl(...e.split("."))._internalPath}catch(r){throw NE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function NE(n,e,t,r,i){const u=r&&!r.isEmpty(),d=void 0!==i;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(u||d)&&(v+=" (found",u&&(v+=` in field ${r}`),d&&(v+=` in document ${i}`),v+=")"),new Me(le.INVALID_ARGUMENT,m+n+v)}function fM(n,e){return n.some(t=>t.isEqual(e))}class $0{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(FE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class vR extends $0{data(){return super.data()}}function FE(n,e){return"string"==typeof e?RE(n,e):e instanceof Nl?e._internalPath:e._delegate._internalPath}class Zp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fl extends $0{constructor(e,t,r,i,u,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new q0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(FE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class q0 extends Fl{data(e={}){return super.data(e)}}class kh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Zp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new q0(this._firestore,this._userDataWriter,r.key,r,new Zp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new q0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Zp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const m=new q0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Zp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,E=-1;return 0!==d.type&&(v=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),E=u.indexOf(d.doc.key)),{type:bR(d.type),doc:m,oldIndex:v,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke()}}function pM(n,e){return n instanceof Fl&&e instanceof Fl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof kh&&e instanceof kh&&n._firestore===e._firestore&&rM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function gM(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Me(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class G0{}function Rh(n,...e){for(const t of e)n=t._apply(n);return n}class wR extends G0{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=qp(e.firestore),r=function(i,u,d,m,v,E,S){let M;if(v.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new Me(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){wM(S,E);const q=[];for(const K of S)q.push(bM(m,i,K));M={arrayValue:{values:q}}}else M=bM(m,i,S)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||wM(S,E),M=lM(d,"where",S,"in"===E||"not-in"===E);const U=Or.create(v,E,M);return function(q,K){if(K.S()){const Fe=m0(q);if(null!==Fe&&!Fe.isEqual(K.field))throw new Me(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Fe.toString()}' and '${K.field.toString()}'`);const rt=g0(q);null!==rt&&CM(0,K.field,rt)}const Se=function(Fe,rt){for(const ct of Fe.filters)if(rt.indexOf(ct.op)>=0)return ct.op;return null}(q,function(Fe){switch(Fe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(K.op));if(null!==Se)throw new Me(le.INVALID_ARGUMENT,Se===K.op?`Invalid query. You cannot use more than one '${K.op.toString()}' filter.`:`Invalid query. You cannot use '${K.op.toString()}' filters with '${Se.toString()}' filters.`)}(i,U),U}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new ts(e.firestore,e.converter,function(i,u){const d=i.filters.concat([u]);return new oc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class ER extends G0{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Me(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Me(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new _h(i,u);return function(m,v){if(null===g0(m)){const E=m0(m);null!==E&&CM(0,E,v.field)}}(r,d),d}(e._query,this._c,this.gc);return new ts(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new oc(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class mM extends G0{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new ts(e.firestore,e.converter,KC(e._query,this.yc,this.Ic))}}class yM extends G0{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=vM(e,this.type,this.Tc,this.Ec);return new ts(e.firestore,e.converter,(i=t,new oc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class _M extends G0{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=vM(e,this.type,this.Tc,this.Ec);return new ts(e.firestore,e.converter,(i=t,new oc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function vM(n,e,t,r){if(t[0]=(0,Dt.m9)(t[0]),t[0]instanceof $0)return function(i,u,d,m,v){if(!m)throw new Me(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const E=[];for(const S of vh(i))if(S.field.isKeyField())E.push(gh(u,m.key));else{const M=m.data.field(S.field);if(zm(M))throw new Me(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const U=S.field.canonicalString();throw new Me(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${U}' (used as the orderBy) does not exist.`)}E.push(M)}return new Al(E,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=qp(n.firestore);return function(u,d,m,v,E,S){const M=u.explicitOrderBy;if(E.length>M.length)throw new Me(le.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const U=[];for(let q=0;q<E.length;q++){const K=E[q];if(M[q].field.isKeyField()){if("string"!=typeof K)throw new Me(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof K}`);if(!WC(u)&&-1!==K.indexOf("/"))throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${K}' contains a slash.`);const Se=u.path.child(qt.fromString(K));if(!je.isDocumentKey(Se))throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${Se}' is not because it contains an odd number of segments.`);const Fe=new je(Se);U.push(gh(d,Fe))}else{const Se=lM(m,v,K);U.push(Se)}}return new Al(U,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function bM(n,e,t){if("string"==typeof(t=(0,Dt.m9)(t))){if(""===t)throw new Me(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WC(e)&&-1!==t.indexOf("/"))throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(qt.fromString(t));if(!je.isDocumentKey(r))throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gh(n,new je(r))}if(t instanceof Ln)return gh(n,t._key);throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xE(t)}.`)}function wM(n,e){if(!Array.isArray(n)||0===n.length)throw new Me(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Me(le.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function CM(n,e,t){if(!t.isEqual(e))throw new Me(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const OR={maxAttempts:5};class dS{convertValue(e,t="none"){switch(Il(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ic(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ke()}}convertObject(e,t){const r={};return Cl(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new OE(Gn(e.latitude),Gn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=bi(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(oa(e));default:return null}}convertTimestamp(e){const t=Xa(e);return new Fn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=qt.fromString(e);Tt(o(r));const i=new eu(r.get(1),r.get(3)),u=new je(r.popFirst(5));return i.isEqual(t)||On(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function LE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class PR extends dS{constructor(e){super(),this.firestore=e}convertBytes(e){return new cc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,t)}}class EM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=qp(e)}set(e,t,r){this._verifyNotCommitted();const i=Nh(e,this._firestore),u=LE(i.converter,t,r),d=kE(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,vr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=Nh(e,this._firestore);let d;return d="string"==typeof(t=(0,Dt.m9)(t))||t instanceof Nl?uS(this._dataReader,"WriteBatch.update",u._key,t,r,i):aS(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,vr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Nh(e,this._firestore);return this._mutations=this._mutations.concat(new Sp(t._key,vr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nh(n,e){if((n=(0,Dt.m9)(n)).firestore!==e)throw new Me(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class zp extends dS{constructor(e){super(),this.firestore=e}convertBytes(e){return new cc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,t)}}function IM(n,e,t){n=Yt(n,Ln);const r=Yt(n.firestore,zn),i=LE(n.converter,e,t);return Oy(r,[kE(qp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,vr.none())])}function DM(n,e,t,...r){n=Yt(n,Ln);const i=Yt(n.firestore,zn),u=qp(i);let d;return d="string"==typeof(e=(0,Dt.m9)(e))||e instanceof Nl?uS(u,"updateDoc",n._key,e,t,r):aS(u,"updateDoc",n._key,e),Oy(i,[d.toMutation(n._key,vr.exists(!0))])}function TM(n,...e){var t,r,i;n=(0,Dt.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||sS(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges};if(sS(e[d])){const M=e[d];e[d]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[d+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[d+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let v,E,S;if(n instanceof Ln)E=Yt(n.firestore,zn),S=Dp(n._key.path),v={next:M=>{e[d]&&e[d](hS(E,n,M))},error:e[d+1],complete:e[d+2]};else{const M=Yt(n,ts);E=Yt(M.firestore,zn),S=M._query;const U=new zp(E);v={next:q=>{e[d]&&e[d](new kh(E,U,M,q))},error:e[d+1],complete:e[d+2]},gM(n._query)}return function(M,U,q,K){const Se=new AE(K),Fe=new EA(U,Se,q);return M.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return _A(yield My(M),Fe)})),()=>{Se.Aa(),M.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return bA(yield My(M),Fe)}))}}(kr(E),S,m,v)}function Oy(n,e){return function(t,r){const i=new Mr;return t.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return function Ik(n,e,t){return SA.apply(this,arguments)}(yield nS(t),r,i)})),i.promise}(kr(n),e)}function hS(n,e,t){const r=t.docs.get(e._key),i=new zp(n);return new Fl(n,i,e._key,r,new Zp(t.hasPendingWrites,t.fromCache),e.converter)}class HR extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=qp(e)}get(e){const t=Nh(e,this._firestore),r=new PR(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Ke();const u=i[0];if(u.isFoundDocument())return new $0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new $0(this._firestore,r,t._key,null,t.converter);throw Ke()})}set(e,t,r){const i=Nh(e,this._firestore),u=LE(i.converter,t,r),d=kE(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const u=Nh(e,this._firestore);let d;return d="string"==typeof(t=(0,Dt.m9)(t))||t instanceof Nl?uS(this._dataReader,"Transaction.update",u._key,t,r,i):aS(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=Nh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Nh(e,this._firestore),r=new zp(this._firestore);return super.get(e).then(i=>new Fl(this._firestore,r,t._key,i._document,new Zp(!1,!1),t.converter))}}function fS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function SM(){if("undefined"==typeof Uint8Array)throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function xM(){if(!function FC(){return"undefined"!=typeof atob}())throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){fh=$s.SDK_VERSION,(0,$s._registerComponent)(new Wu.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),u=new zn(i,new nT(t.getProvider("auth-internal")),new PC(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,$s.registerVersion)(xC,"3.4.9",n),(0,$s.registerVersion)(xC,"3.4.9","esm2017")}();class Z0{constructor(e){this._delegate=e}static fromBase64String(e){return xM(),new Z0(cc.fromBase64String(e))}static fromUint8Array(e){return SM(),new Z0(cc.fromUint8Array(e))}toBase64(){return xM(),this._delegate.toBase64()}toUint8Array(){return SM(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function pS(n){return function JR(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class QR{enableIndexedDbPersistence(e,t){return function iR(n,e){oM(n=Yt(n,zn));const t=kr(n),r=n._freezeSettings(),i=new KA;return sM(t,i,new jx(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function sR(n){oM(n=Yt(n,zn));const e=kr(n),t=n._freezeSettings(),r=new KA;return sM(e,r,new Bk(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function oR(n){if(n._initialized&&!n._terminated)throw new Me(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Mr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,se.Z)(function*(){try{yield(t=(0,se.Z)(function*(r){if(!ws.vt())return Promise.resolve();const i=r+"main";yield ws.delete(i)}),function(r){return t.apply(this,arguments)})(jT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class MM{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof eu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&fp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Xk(n,e,t,r={}){var i;const u=(n=Yt(n,j0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&fp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=Kr.MOCK_USER;else{d=(0,Dt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Me(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Kr(v)}n._authCredentials=new tT(new gp(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function uR(n){return function Gk(n){return n.asyncQueue.enqueue((0,se.Z)(function*(){const e=yield Gx(n),t=yield Zx(n);return e.setNetworkEnabled(!0),function(r){const i=$e(r);return i.wu.delete(0),V0(i)}(t)}))}(kr(n=Yt(n,zn)))}(this._delegate)}disableNetwork(){return function cR(n){return function Zk(n){return n.asyncQueue.enqueue((0,se.Z)(function*(){const e=yield Gx(n),t=yield Zx(n);return e.setNetworkEnabled(!1),(r=(0,se.Z)(function*(i){const u=$e(i);u.wu.add(0),yield Ey(u),u.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(kr(n=Yt(n,zn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Yx("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function aR(n){return function(e){const t=new Mr;return e.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return function Sk(n,e){return kA.apply(this,arguments)}(yield nS(e),t)})),t.promise}(kr(n=Yt(n,zn)))}(this._delegate)}onSnapshotsInSync(e){return function jR(n,e){return function Kk(n,e){const t=new AE(e);return n.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return r=yield My(n),i=t,$e(r).bu.add(i),void i.next();var r,i})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return r=yield My(n),i=t,void $e(r).bu.delete(i);var r,i}))}}(kr(n=Yt(n,zn)),sS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Py(this,tM(this._delegate,e))}catch(t){throw Cs(t,"collection()","Firestore.collection()")}}doc(e){try{return new la(this,ME(this._delegate,e))}catch(t){throw Cs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Es(this,function eR(n,e){if(n=Yt(n,j0),iS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ts(n,null,(t=e,new oc(qt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Cs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function $R(n,e,t){n=Yt(n,zn);const r=Object.assign(Object.assign({},OR),t);return function(i){if(i.maxAttempts<1)throw new Me(le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function Yk(n,e,t){const r=new Mr;return n.asyncQueue.enqueueAndForget((0,se.Z)(function*(){const i=yield(u=n,SE(u).then(d=>d.datastore));var u;new $k(n.asyncQueue,i,t,e,r).run()})),r.promise}(kr(n),i=>e(new HR(n,i)),r)}(this._delegate,t=>e(new OM(this,t)))}batch(){return kr(this._delegate),new PM(new EM(this._delegate,e=>Oy(this._delegate,e)))}loadBundle(e){return function lR(n,e){const t=kr(n=Yt(n,zn)),r=new nR;return function Jk(n,e,t,r){const i=function(u,d){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,v=function(v,E){if(v instanceof Uint8Array)return Hx(v,E);if(v instanceof ArrayBuffer)return Hx(new Uint8Array(v),E);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new jk(v,d);var v}(t,U0(e));n.asyncQueue.enqueueAndForget((0,se.Z)(function*(){!function Vk(n,e,t){const r=$e(n);var i;(i=(0,se.Z)(function*(u,d,m){try{const v=yield d.getMetadata();if(yield function(U,q){const K=$e(U),Se=Pr(q.createTime);return K.persistence.runTransaction("hasNewerBundle","readonly",Fe=>K._s.getBundleMetadata(Fe,q.id)).then(Fe=>!!Fe&&Fe.createTime.compareTo(Se)>=0)}(u.localStore,v))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(U=v).totalDocuments,bytesLoaded:U.totalBytes,totalDocuments:U.totalDocuments,totalBytes:U.totalBytes}),Promise.resolve(new Set);m._updateProgress(Ox(v));const E=new _k(v,u.localStore,d.M);let S=yield d.ma();for(;S;){const U=yield E.Fu(S);U&&m._updateProgress(U),S=yield d.ma()}const M=yield E.complete();return yield Rl(u,M.Lu,void 0),yield function(U,q){const K=$e(U);return K.persistence.runTransaction("Save bundle","readwrite",Se=>K._s.saveBundleMetadata(Se,q))}(u.localStore,v),m._completeWith(M.progress),Promise.resolve(M.Bu)}catch(v){return fp("SyncEngine",`Loading bundle failed with ${v}`),m._failWith(v),Promise.resolve(new Set)}var U}),function(u,d,m){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield nS(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function dR(n,e){return function Qk(n,e){return n.asyncQueue.enqueue((0,se.Z)(function*(){return function(t,r){const i=$e(t);return i.persistence.runTransaction("Get named query","readonly",u=>i._s.getNamedQuery(u,r))}(yield tS(n),e)}))}(kr(n=Yt(n,zn)),e).then(t=>t?new ts(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Es(this,t):null)}}class UE extends dS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Z0(new cc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return la.forKey(t,this.firestore,null)}}class OM{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new UE(e)}get(e){const t=Kp(e);return this._delegate.get(t).then(r=>new z0(this._firestore,new Fl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Kp(e);return r?(fS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Kp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Kp(e);return this._delegate.delete(t),this}}class PM{constructor(e){this._delegate=e}set(e,t,r){const i=Kp(e);return r?(fS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Kp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Kp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Wp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new q0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new W0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Wp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new Wp(e,new UE(e),t),i.set(t,u)),u}}Wp.INSTANCES=new WeakMap;class la{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new UE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new la(t,new Ln(t._delegate,r,new je(e)))}static forKey(e,t,r){return new la(t,new Ln(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Py(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Py(this.firestore,tM(this._delegate,e))}catch(t){throw Cs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Dt.m9)(e))instanceof Ln&&nM(this._delegate,e)}set(e,t){t=fS("DocumentReference.set",t);try{return t?IM(this._delegate,e,t):IM(this._delegate,e)}catch(r){throw Cs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?DM(this._delegate,e):DM(this._delegate,e,t,...r)}catch(i){throw Cs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function VR(n){return Oy(Yt(n.firestore,zn),[new Sp(n._key,vr.none())])}(this._delegate)}onSnapshot(...e){const t=kM(e),r=RM(e,i=>new z0(this.firestore,new Fl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return TM(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function RR(n){n=Yt(n,Ln);const e=Yt(n.firestore,zn),t=kr(e),r=new zp(e);return function zk(n,e){const t=new Mr;return n.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return(r=(0,se.Z)(function*(i,u,d){try{const m=yield function(v,E){const S=$e(v);return S.persistence.runTransaction("read document","readonly",M=>S.fi.Ls(M,E))}(i,u);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Me(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const v=Ty(m,`Failed to get document '${u} from cache`);d.reject(v)}}),function(i,u,d){return r.apply(this,arguments)})(yield tS(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Fl(e,r,n._key,i,new Zp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function NR(n){n=Yt(n,Ln);const e=Yt(n.firestore,zn);return zx(kr(e),n._key,{source:"server"}).then(t=>hS(e,n,t))}(this._delegate):function kR(n){n=Yt(n,Ln);const e=Yt(n.firestore,zn);return zx(kr(e),n._key).then(t=>hS(e,n,t))}(this._delegate),t.then(r=>new z0(this.firestore,new Fl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new la(this.firestore,this._delegate.withConverter(e?Wp.getInstance(this.firestore,e):null))}}function Cs(n,e,t){return n.message=n.message.replace(e,t),n}function kM(n){for(const e of n)if("object"==typeof e&&!pS(e))return e;return{}}function RM(n,e){var t,r;let i;return i=pS(n[0])?n[0]:pS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class z0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new la(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return pM(this._delegate,e._delegate)}}class W0 extends z0{data(e){const t=this._delegate.data(e);return function r0(n,e){n||Ke()}(void 0!==t),t}}class Es{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new UE(e)}where(e,t,r){try{return new Es(this.firestore,Rh(this._delegate,function CR(n,e,t){const r=e,i=FE("where",n);return new wR(i,r,t)}(e,t,r)))}catch(i){throw Cs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Es(this.firestore,Rh(this._delegate,function IR(n,e="asc"){const t=e,r=FE("orderBy",n);return new ER(r,t)}(e,t)))}catch(r){throw Cs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Es(this.firestore,Rh(this._delegate,function DR(n){return Xx("limit",n),new mM("limit",n,"F")}(e)))}catch(t){throw Cs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Es(this.firestore,Rh(this._delegate,function TR(n){return Xx("limitToLast",n),new mM("limitToLast",n,"L")}(e)))}catch(t){throw Cs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Es(this.firestore,Rh(this._delegate,function AR(...n){return new yM("startAt",n,!0)}(...e)))}catch(t){throw Cs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Es(this.firestore,Rh(this._delegate,function SR(...n){return new yM("startAfter",n,!1)}(...e)))}catch(t){throw Cs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Es(this.firestore,Rh(this._delegate,function xR(...n){return new _M("endBefore",n,!1)}(...e)))}catch(t){throw Cs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Es(this.firestore,Rh(this._delegate,function MR(...n){return new _M("endAt",n,!0)}(...e)))}catch(t){throw Cs(t,"endAt()","Query.endAt()")}}isEqual(e){return rM(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function LR(n){n=Yt(n,ts);const e=Yt(n.firestore,zn),t=kr(e),r=new zp(e);return function Wk(n,e){const t=new Mr;return n.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return(r=(0,se.Z)(function*(i,u,d){try{const m=yield wE(i,u,!0),v=new Rx(u,m._i),E=v.Wu(m.documents),S=v.applyChanges(E,!1);d.resolve(S.snapshot)}catch(m){const v=Ty(m,`Failed to execute query '${u} against cache`);d.reject(v)}}),function(i,u,d){return r.apply(this,arguments)})(yield tS(n),e,t);var r})),t.promise}(t,n._query).then(i=>new kh(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function UR(n){n=Yt(n,ts);const e=Yt(n.firestore,zn),t=kr(e),r=new zp(e);return Wx(t,n._query,{source:"server"}).then(i=>new kh(e,r,n,i))}(this._delegate):function FR(n){n=Yt(n,ts);const e=Yt(n.firestore,zn),t=kr(e),r=new zp(e);return gM(n._query),Wx(t,n._query).then(i=>new kh(e,r,n,i))}(this._delegate),t.then(r=>new gS(this.firestore,new kh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=kM(e),r=RM(e,i=>new gS(this.firestore,new kh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return TM(this._delegate,t,r)}withConverter(e){return new Es(this.firestore,this._delegate.withConverter(e?Wp.getInstance(this.firestore,e):null))}}class eN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new W0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Es(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new W0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new eN(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new W0(this._firestore,r))})}isEqual(e){return pM(this._delegate,e._delegate)}}class Py extends Es{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new la(this.firestore,e):null}doc(e){try{return new la(this.firestore,void 0===e?ME(this._delegate):ME(this._delegate,e))}catch(t){throw Cs(t,"doc()","CollectionReference.doc()")}}add(e){return function BR(n,e){const t=Yt(n.firestore,zn),r=ME(n),i=LE(n.converter,e);return Oy(t,[kE(qp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,vr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new la(this.firestore,t))}isEqual(e){return nM(this._delegate,e._delegate)}withConverter(e){return new Py(this.firestore,this._delegate.withConverter(e?Wp.getInstance(this.firestore,e):null))}}function Kp(n){return Yt(n,Ln)}class mS{constructor(...e){this._delegate=new Nl(...e)}static documentId(){return new mS(sr.keyField().canonicalString())}isEqual(e){return(e=(0,Dt.m9)(e))instanceof Nl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Yp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function GR(){return new oS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Yp(e)}static delete(){const e=function qR(){return new H0("deleteField")}();return e._methodName="FieldValue.delete",new Yp(e)}static arrayUnion(...e){const t=function ZR(...n){return new gR("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Yp(t)}static arrayRemove(...e){const t=function zR(...n){return new mR("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Yp(t)}static increment(e){const t=function WR(n){return new yR("increment",n)}(e);return t._methodName="FieldValue.increment",new Yp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const tN={Firestore:MM,GeoPoint:OE,Timestamp:Fn,Blob:Z0,Transaction:OM,WriteBatch:PM,DocumentReference:la,DocumentSnapshot:z0,Query:Es,QueryDocumentSnapshot:W0,QuerySnapshot:gS,CollectionReference:Py,FieldPath:mS,FieldValue:Yp,setLogLevel:function XR(n){!function eT(n){rc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function NM(n,e){return function iN(n,e=Lw.z){return new Zi.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function yS(n,e){return NM(n,e).pipe((0,mt.U)(t=>({payload:t,type:"query"})))}function VE(n,e){return yS(n,e).pipe(Uu(void 0),cm(),(0,mt.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const v=i.find(S=>S.doc.ref.isEqual(d.ref)),E=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(d.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(d.metadata)||!v&&E&&JSON.stringify(E.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),u}))}function FM(n,e,t){return VE(n,t).pipe(pi((r,i)=>function oN(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function aN(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return _S(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return _S(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return _S(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),function wD(n,e=Ua.y){return n=null!=n?n:mr,(0,fi.e)((t,r)=>{let i,u=!0;t.subscribe((0,Ut.x)(r,d=>{const m=e(d);(u||!n(i,m))&&(u=!1,i=m,r.next(d))}))})}(),(0,mt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function _S(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function LM(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function rN(n){(function nN(n,e){n.INTERNAL.registerComponent(new Wu.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},tN)))})(n,(e,t)=>new MM(e,t,new QR)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(Uw.Z);class UM{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=VE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,mt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Uu(void 0),cm(),rr(([r,i])=>i.length>0||!r),(0,mt.U)(([r,i])=>i),xn.iC)}auditTrail(e){return this.stateChanges(e).pipe(pi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=LM(e);return FM(this.query,t,this.afs.schedulers.outsideAngular).pipe(xn.iC)}valueChanges(e={}){return yS(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),xn.iC)}get(e){return(0,rn.D)(this.query.get(e)).pipe(xn.iC)}add(e){return this.ref.add(e)}doc(e){return new VM(this.ref.doc(e),this.afs)}}class VM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=HM(r,t);return new UM(i,u,this.afs)}snapshotChanges(){return function sN(n,e){return NM(n,e).pipe(Uu(void 0),cm(),(0,mt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(xn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,mt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,rn.D)(this.ref.get(e)).pipe(xn.iC)}}class uN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?VE(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),rr(t=>t.length>0),xn.iC):VE(this.query,this.afs.schedulers.outsideAngular).pipe(xn.iC)}auditTrail(e){return this.stateChanges(e).pipe(pi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=LM(e);return FM(this.query,t,this.afs.schedulers.outsideAngular).pipe(xn.iC)}valueChanges(e={}){return yS(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),xn.iC)}get(e){return(0,rn.D)(this.query.get(e)).pipe(xn.iC)}}const BM=new c.OlP("angularfire2.enableFirestorePersistence"),jM=new c.OlP("angularfire2.firestore.persistenceSettings"),cN=new c.OlP("angularfire2.firestore.settings"),lN=new c.OlP("angularfire2.firestore.use-emulator");function HM(n,e=(t=>t)){return{query:e(n),ref:n}}let $M=(()=>{class n{constructor(t,r,i,u,d,m,v,E,S,M,U,q,K,Se,Fe,rt,ct){this.schedulers=v;const _t=(0,yi.on)(t,m,r),st=S;M&&rv(_t,m,U,K,Se,Fe,q,rt),[this.firestore,this.persistenceEnabled$]=(0,yi.cc)(`${_t.name}.firestore`,"AngularFirestore",_t.name,()=>{const Ot=m.runOutsideAngular(()=>_t.firestore());if(u&&Ot.settings(u),st&&Ot.useEmulator(...st),i&&!Ro(d)){const Gt=()=>{try{return(0,rn.D)(Ot.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(Nr){return"undefined"!=typeof console&&console.warn(Nr),ht(!1)}};return[Ot,m.runOutsideAngular(Gt)]}return[Ot,ht(!1)]},[u,st,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=HM(i,r),m=this.schedulers.ngZone.run(()=>u);return new UM(m,d,this)}collectionGroup(t,r){const i=r||(d=>d),u=this.firestore.collectionGroup(t);return new uN(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new VM(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(yi.Dh),c.LFG(yi.xv,8),c.LFG(BM,8),c.LFG(cN,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(xn.HU),c.LFG(jM,8),c.LFG(lN,8),c.LFG(ll,8),c.LFG(um,8),c.LFG(Q_,8),c.LFG(X_,8),c.LFG(ev,8),c.LFG(tv,8),c.LFG(nv,8),c.LFG(ih,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),dN=(()=>{class n{constructor(){cl.Z.registerVersion("angularfire",xn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:BM,useValue:!0},{provide:jM,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[$M]}),n})();var qM=function(n,e,t,r){return new(t||(t=Promise))(function(u,d){function m(S){try{E(r.next(S))}catch(M){d(M)}}function v(S){try{E(r.throw(S))}catch(M){d(M)}}function E(S){S.done?u(S.value):function i(u){return u instanceof t?u:new t(function(d){d(u)})}(S.value).then(m,v)}E((r=r.apply(n,e||[])).next())})};const GM="application/font-woff",ZM="image/jpeg",hN={woff:GM,woff2:GM,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:ZM,jpeg:ZM,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"};function BE(n){const e=function fN(n){const e=/\.([^./]*?)$/g.exec(n);return e?e[1]:""}(n).toLowerCase();return hN[e]||""}function vS(n){return-1!==n.search(/^(data:)/)}function jE(n,e){return`data:${e};base64,${n}`}function gN(n){return n.split(/,/)[1]}const mN=function(){let e=0;return()=>(e+=1,`u${`0000${(Math.random()*Math.pow(36,4)<<0).toString(36)}`.slice(-4)}${e}`)}();function Fh(n){const e=[];for(let t=0,r=n.length;t<r;t+=1)e.push(n[t]);return e}function HE(n,e){const t=window.getComputedStyle(n).getPropertyValue(e);return parseFloat(t.replace("px",""))}function bS(n){return new Promise((e,t)=>{const r=new Image;r.onload=()=>e(r),r.onerror=t,r.crossOrigin="anonymous",r.decoding="sync",r.src=n})}const wS={};function CS(n,e){const t=function CN(n){let e=n.replace(/\?.*/,"");return/ttf|otf|eot|woff2?/i.test(e)&&(e=e.replace(/.*\//,"")),e}(n);if(null!=wS[t])return wS[t];e.cacheBust&&(n+=(/\?/.test(n)?"&":"?")+(new Date).getTime());const i=window.fetch(n).then(u=>u.blob().then(d=>({blob:d,contentType:u.headers.get("Content-Type")||""}))).then(({blob:u,contentType:d})=>new Promise((m,v)=>{const E=new FileReader;E.onloadend=()=>m({contentType:d,blob:E.result}),E.onerror=v,E.readAsDataURL(u)})).then(({blob:u,contentType:d})=>({contentType:d,blob:gN(u)})).catch(u=>{let d="";if(e.imagePlaceholder){const v=e.imagePlaceholder.split(/,/);v&&v[1]&&(d=v[1])}let m=`Failed to fetch resource: ${n}`;return u&&(m="string"==typeof u?u:u.message),m&&console.error(m),{blob:d,contentType:""}});return wS[t]=i,i}function zM(n,e,t){const r=window.getComputedStyle(n,t),i=r.getPropertyValue("content");if(""===i||"none"===i)return;const u=mN();try{e.className=`${e.className} ${u}`}catch(m){return}const d=document.createElement("style");d.appendChild(function DN(n,e,t){const r=`.${n}:${e}`,i=t.cssText?function EN(n){const e=n.getPropertyValue("content");return`${n.cssText} content: '${e.replace(/'|"/g,"")}';`}(t):function IN(n){return Fh(n).map(e=>`${e}: ${n.getPropertyValue(e)}${n.getPropertyPriority(e)?" !important":""};`).join(" ")}(t);return document.createTextNode(`${r}{${i}}`)}(u,t,r)),e.appendChild(d)}var ky=function(n,e,t,r){return new(t||(t=Promise))(function(u,d){function m(S){try{E(r.next(S))}catch(M){d(M)}}function v(S){try{E(r.throw(S))}catch(M){d(M)}}function E(S){S.done?u(S.value):function i(u){return u instanceof t?u:new t(function(d){d(u)})}(S.value).then(m,v)}E((r=r.apply(n,e||[])).next())})};function WM(n,e,t){return ky(this,void 0,void 0,function*(){return t||!e.filter||e.filter(n)?Promise.resolve(n).then(r=>function xN(n,e){return ky(this,void 0,void 0,function*(){return n instanceof HTMLCanvasElement?function AN(n){return ky(this,void 0,void 0,function*(){const e=n.toDataURL();return"data:,"===e?Promise.resolve(n.cloneNode(!1)):bS(e)})}(n):n instanceof HTMLVideoElement&&n.poster?function SN(n,e){return ky(this,void 0,void 0,function*(){return Promise.resolve(n.poster).then(t=>CS(t,e)).then(t=>jE(t.blob,BE(n.poster)||t.contentType)).then(t=>bS(t))})}(n,e):Promise.resolve(n.cloneNode(!1))})}(r,e)).then(r=>function ON(n,e,t){var r;return ky(this,void 0,void 0,function*(){const i=(n=>null!=n.tagName&&"SLOT"===n.tagName.toUpperCase())(n)&&n.assignedNodes?Fh(n.assignedNodes()):Fh((null!==(r=n.shadowRoot)&&void 0!==r?r:n).childNodes);return 0===i.length||n instanceof HTMLVideoElement?Promise.resolve(e):i.reduce((u,d)=>u.then(()=>WM(d,t)).then(m=>{m&&e.appendChild(m)}),Promise.resolve()).then(()=>e)})}(n,r,e)).then(r=>function RN(n,e){return ky(this,void 0,void 0,function*(){return e instanceof Element?Promise.resolve().then(()=>function PN(n,e){const t=window.getComputedStyle(n),r=e.style;!r||(t.cssText?r.cssText=t.cssText:Fh(t).forEach(i=>{r.setProperty(i,t.getPropertyValue(i),t.getPropertyPriority(i))}))}(n,e)).then(()=>function TN(n,e){zM(n,e,":before"),zM(n,e,":after")}(n,e)).then(()=>function kN(n,e){n instanceof HTMLTextAreaElement&&(e.innerHTML=n.value),n instanceof HTMLInputElement&&e.setAttribute("value",n.value)}(n,e)).then(()=>e):Promise.resolve(e)})}(n,r)):Promise.resolve(null)})}const KM=/url\((['"]?)([^'"]+?)\1\)/g,FN=/url\([^)]+\)\s*format\((["'])([^"']+)\1\)/g,LN=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function VN(n){const e=[];return n.replace(KM,(t,r,i)=>(e.push(i),t)),e.filter(t=>!vS(t))}function YM(n){return-1!==n.search(KM)}function JM(n,e,t){return function(n,e,t,r){return new(t||(t=Promise))(function(u,d){function m(S){try{E(r.next(S))}catch(M){d(M)}}function v(S){try{E(r.throw(S))}catch(M){d(M)}}function E(S){S.done?u(S.value):function i(u){return u instanceof t?u:new t(function(d){d(u)})}(S.value).then(m,v)}E((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){if(!YM(n))return Promise.resolve(n);const r=function jN(n,{preferredFontFormat:e}){return e?n.replace(LN,t=>{for(;;){const[r,,i]=FN.exec(t)||[];if(!i)return"";if(i===e)return`src: ${r};`}}):n}(n,t);return Promise.resolve(r).then(VN).then(i=>i.reduce((u,d)=>u.then(m=>function BN(n,e,t,r,i){const u=t?function pN(n,e){if(n.match(/^[a-z]+:\/\//i))return n;if(n.match(/^\/\//))return window.location.protocol+n;if(n.match(/^[a-z]+:/i))return n;const t=document.implementation.createHTMLDocument(),r=t.createElement("base"),i=t.createElement("a");return t.head.appendChild(r),t.body.appendChild(i),e&&(r.href=e),i.href=n,i.href}(e,t):e;return Promise.resolve(u).then(d=>i?i(d):CS(d,r)).then(d=>"string"==typeof d?jE(d,BE(e)):jE(d.blob,BE(e)||d.contentType)).then(d=>n.replace(function UN(n){const e=n.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}(e),`$1${d}$3`)).then(d=>d,()=>u)}(m,d,e,t)),Promise.resolve(r)))})}var $E=function(n,e,t,r){return new(t||(t=Promise))(function(u,d){function m(S){try{E(r.next(S))}catch(M){d(M)}}function v(S){try{E(r.throw(S))}catch(M){d(M)}}function E(S){S.done?u(S.value):function i(u){return u instanceof t?u:new t(function(d){d(u)})}(S.value).then(m,v)}E((r=r.apply(n,e||[])).next())})};function QM(n,e){return $E(this,void 0,void 0,function*(){return n instanceof Element?Promise.resolve(n).then(t=>function HN(n,e){var t;return $E(this,void 0,void 0,function*(){const r=null===(t=n.style)||void 0===t?void 0:t.getPropertyValue("background");return r?Promise.resolve(r).then(i=>JM(i,null,e)).then(i=>(n.style.setProperty("background",i,n.style.getPropertyPriority("background")),n)):Promise.resolve(n)})}(t,e)).then(t=>function $N(n,e){return $E(this,void 0,void 0,function*(){if((!(n instanceof HTMLImageElement)||vS(n.src))&&(!(n instanceof SVGImageElement)||vS(n.href.baseVal)))return Promise.resolve(n);const t=n instanceof HTMLImageElement?n.src:n.href.baseVal;return Promise.resolve(t).then(r=>CS(r,e)).then(r=>jE(r.blob,BE(t)||r.contentType)).then(r=>new Promise((i,u)=>{n.onload=i,n.onerror=u,n instanceof HTMLImageElement?(n.srcset="",n.src=r):n.href.baseVal=r})).then(()=>n,()=>n)})}(t,e)).then(t=>function qN(n,e){return $E(this,void 0,void 0,function*(){const r=Fh(n.childNodes).map(i=>QM(i,e));return Promise.all(r).then(()=>n)})}(t,e)):Promise.resolve(n)})}var K0=function(n,e,t,r){return new(t||(t=Promise))(function(u,d){function m(S){try{E(r.next(S))}catch(M){d(M)}}function v(S){try{E(r.throw(S))}catch(M){d(M)}}function E(S){S.done?u(S.value):function i(u){return u instanceof t?u:new t(function(d){d(u)})}(S.value).then(m,v)}E((r=r.apply(n,e||[])).next())})};const XM={};function eO(n){const e=XM[n];if(null!=e)return e;const t=window.fetch(n).then(r=>({url:n,cssText:r.text()}));return XM[n]=t,t}function tO(n){return K0(this,void 0,void 0,function*(){return n.cssText.then(e=>{let t=e;const r=/url\(["']?([^"')]+)["']?\)/g,u=(t.match(/url\([^)]+\)/g)||[]).map(d=>{let m=d.replace(r,"$1");return m.startsWith("https://")||(m=new URL(m,n.url).href),window.fetch(m).then(v=>v.blob()).then(v=>new Promise((E,S)=>{const M=new FileReader;M.onloadend=()=>{t=t.replace(d,`url(${M.result})`),E([d,M.result])},M.onerror=S,M.readAsDataURL(v)}))});return Promise.all(u).then(()=>t)})})}function nO(n){if(null==n)return[];const e=[];let r=n.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const v=i.exec(r);if(null===v)break;e.push(v[0])}r=r.replace(i,"");const u=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,m=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let v=u.exec(r);if(null===v){if(v=m.exec(r),null===v)break;u.lastIndex=m.lastIndex}else m.lastIndex=u.lastIndex;e.push(v[0])}return e}function zN(n){return n.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>YM(e.style.getPropertyValue("src")))}function YN(n,e){return K0(this,void 0,void 0,function*(){return(null!=e.fontEmbedCSS?Promise.resolve(e.fontEmbedCSS):function KN(n,e){return K0(this,void 0,void 0,function*(){return function WN(n){return K0(this,void 0,void 0,function*(){return new Promise((e,t)=>{null==n.ownerDocument&&t(new Error("Provided element is not within a Document")),e(Fh(n.ownerDocument.styleSheets))}).then(e=>function ZN(n){return K0(this,void 0,void 0,function*(){const e=[],t=[];return n.forEach(r=>{if("cssRules"in r)try{Fh(r.cssRules).forEach((i,u)=>{if(i.type===CSSRule.IMPORT_RULE){let d=u+1;const v=eO(i.href).then(E=>E?tO(E):"").then(E=>nO(E).forEach(S=>{try{r.insertRule(S,S.startsWith("@import")?d+=1:r.cssRules.length)}catch(M){console.error("Error inserting rule from remote css",{rule:S,error:M})}})).catch(E=>{console.error("Error loading remote css",E.toString())});t.push(v)}})}catch(i){const u=n.find(d=>null==d.href)||document.styleSheets[0];null!=r.href&&t.push(eO(r.href).then(d=>d?tO(d):"").then(d=>nO(d).forEach(m=>{u.insertRule(m,r.cssRules.length)})).catch(d=>{console.error("Error loading remote stylesheet",d.toString())})),console.error("Error inlining remote css file",i.toString())}}),Promise.all(t).then(()=>(n.forEach(r=>{if("cssRules"in r)try{Fh(r.cssRules).forEach(i=>{e.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${r.href}`,i.toString())}}),e))})}(e)).then(zN)})}(n).then(t=>Promise.all(t.map(r=>JM(r.cssText,r.parentStyleSheet?r.parentStyleSheet.href:null,e)))).then(t=>t.join("\n"))})}(n,e)).then(t=>{const r=document.createElement("style"),i=document.createTextNode(t);return r.appendChild(i),n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),n})})}var Jp=function(n,e,t,r){return new(t||(t=Promise))(function(u,d){function m(S){try{E(r.next(S))}catch(M){d(M)}}function v(S){try{E(r.throw(S))}catch(M){d(M)}}function E(S){S.done?u(S.value):function i(u){return u instanceof t?u:new t(function(d){d(u)})}(S.value).then(m,v)}E((r=r.apply(n,e||[])).next())})};function ES(n,e={}){const t=e.width||function yN(n){const e=HE(n,"border-left-width"),t=HE(n,"border-right-width");return n.clientWidth+e+t}(n),r=e.height||function _N(n){const e=HE(n,"border-top-width"),t=HE(n,"border-bottom-width");return n.clientHeight+e+t}(n);return{width:t,height:r}}function JN(n,e={}){return Jp(this,void 0,void 0,function*(){const{width:t,height:r}=ES(n,e);return Promise.resolve(n).then(i=>WM(i,e,!0)).then(i=>YN(i,e)).then(i=>QM(i,e)).then(i=>function GN(n,e){const{style:t}=n;e.backgroundColor&&(t.backgroundColor=e.backgroundColor),e.width&&(t.width=`${e.width}px`),e.height&&(t.height=`${e.height}px`);const r=e.style;return null!=r&&Object.keys(r).forEach(i=>{t[i]=r[i]}),n}(i,e)).then(i=>function wN(n,e,t){return qM(this,void 0,void 0,function*(){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),u=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${e}`),i.setAttribute("height",`${t}`),i.setAttribute("viewBox",`0 0 ${e} ${t}`),u.setAttribute("width","100%"),u.setAttribute("height","100%"),u.setAttribute("x","0"),u.setAttribute("y","0"),u.setAttribute("externalResourcesRequired","true"),i.appendChild(u),u.appendChild(n),function bN(n){return qM(this,void 0,void 0,function*(){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(n)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)})}(i)})}(i,t,r))})}const Do=16384;function GE(n,e={}){return Jp(this,void 0,void 0,function*(){return function qE(n,e={}){return Jp(this,void 0,void 0,function*(){return JN(n,e).then(bS).then(t=>{const r=document.createElement("canvas"),i=r.getContext("2d"),u=e.pixelRatio||function vN(){let n,e;try{e=process}catch(r){}const t=e&&e.env?e.env.devicePixelRatio:null;return t&&(n=parseInt(t,10),Number.isNaN(n)&&(n=1)),n||window.devicePixelRatio||1}(),{width:d,height:m}=ES(n,e),v=e.canvasWidth||d,E=e.canvasHeight||m;return r.width=v*u,r.height=E*u,e.skipAutoScale||function QN(n){(n.width>Do||n.height>Do)&&(n.width>Do&&n.height>Do?n.width>n.height?(n.height*=Do/n.width,n.width=Do):(n.width*=Do/n.height,n.height=Do):n.width>Do?(n.height*=Do/n.width,n.width=Do):(n.width*=Do/n.height,n.height=Do))}(r),r.style.width=`${v}`,r.style.height=`${E}`,e.backgroundColor&&(i.fillStyle=e.backgroundColor,i.fillRect(0,0,r.width,r.height)),i.drawImage(t,0,0,r.width,r.height),r})})}(n,e).then(t=>t.toDataURL("image/jpeg",e.quality||1))})}let XN=(()=>{class n{constructor(){}set(t,r){localStorage.setItem(t,r)}get(t){return localStorage.getItem(t)}erase(){localStorage.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lc=(()=>{class n{constructor(t){this.storService=t,this.userId=""}set(t,r){this.storService.set(t,r)}get(t){return this.storService.get(t)}erase(){this.storService.erase()}convertDataUrlToBlob(t){const r=t.split(","),i=r[0].match(/:(.*?);/)[1],u=atob(r[1]);let d=u.length;const m=new Uint8Array(d);for(;d--;)m[d]=u.charCodeAt(d);return new Blob([m],{type:i})}htmlPng(t){GE(t).then(function(r){var i=document.createElement("a");i.download="U-SMART-Gate Pass.jpeg",i.href=r,i.click()}).catch(function(r){console.error("oops, something went wrong!",r)})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(XN))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rO="firebasestorage.googleapis.com",iO="storageBucket";class or extends Dt.ZR{constructor(e,t){super(IS(e),`Firebase Storage: ${t} (${IS(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,or.prototype)}_codeEquals(e){return IS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function IS(n){return"storage/"+n}function DS(){return new or("unknown","An unknown error occurred, please check the error payload for server response.")}function sO(){return new or("canceled","User canceled the upload/download.")}function oO(){return new or("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Ry(n){return new or("invalid-argument",n)}function aO(){return new or("app-deleted","The Firebase app was deleted.")}function uO(n){return new or("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Y0(n,e){return new or("invalid-format","String does not match format '"+n+"': "+e)}function J0(n){throw new or("internal-error","Internal error: "+n)}class ns{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ns.makeFromUrl(e,t)}catch(i){return new ns(e,"")}if(""===r.path)return r;throw function lF(n){return new or("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+i+"(/(.*))?$","i");function E(st){st.path_=decodeURIComponent(st.path)}const M=t.replace(/[.]/g,"\\."),_t=[{regex:m,indices:{bucket:1,path:3},postModify:function u(st){"/"===st.path.charAt(st.path.length-1)&&(st.path_=st.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${M}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:E},{regex:new RegExp(`^https?://${t===rO?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:E}];for(let st=0;st<_t.length;st++){const Ot=_t[st],Gt=Ot.regex.exec(e);if(Gt){let ou=Gt[Ot.indices.path];ou||(ou=""),r=new ns(Gt[Ot.indices.bucket],ou),Ot.postModify(r);break}}if(null==r)throw function cF(n){return new or("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class pF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function ZE(n){return"string"==typeof n||n instanceof String}function cO(n){return TS()&&n instanceof Blob}function TS(){return"undefined"!=typeof Blob}function AS(n,e,t,r){if(r<e)throw Ry(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Ry(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ll(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function lO(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Lh=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Lh||(Lh={})),Lh))();class bF{constructor(e,t,r,i,u,d,m,v,E,S,M){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=m,this.errorCallback_=v,this.timeout_=E,this.progressCallback_=S,this.connectionFactory_=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,q)=>{this.resolve_=U,this.reject_=q,this.start_()})}start_(){const t=(r,i)=>{const u=this.resolve_,d=this.reject_,m=i.connection;if(i.wasSuccessCode)try{const v=this.callback_(m,m.getResponse());!function yF(n){return void 0!==n}(v)?u():u(v)}catch(v){d(v)}else if(null!==m){const v=DS();v.serverResponse=m.getErrorText(),d(this.errorCallback_?this.errorCallback_(m,v):v)}else d(i.canceled?this.appDelete_?aO():sO():function uF(){return new or("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new zE(!1,null,!0)):this.backoffId_=function gF(n,e,t){let r=1,i=null,u=null,d=!1,m=0;function v(){return 2===m}let E=!1;function S(...Fe){E||(E=!0,e.apply(null,Fe))}function M(Fe){i=setTimeout(()=>{i=null,n(q,v())},Fe)}function U(){u&&clearTimeout(u)}function q(Fe,...rt){if(E)return void U();if(Fe)return U(),void S.call(null,Fe,...rt);if(v()||d)return U(),void S.call(null,Fe,...rt);let _t;r<64&&(r*=2),1===m?(m=2,_t=0):_t=1e3*(r+Math.random()),M(_t)}let K=!1;function Se(Fe){K||(K=!0,U(),!E&&(null!==i?(Fe||(m=2),clearTimeout(i),M(0)):Fe||(m=1)))}return M(0),u=setTimeout(()=>{d=!0,Se(!0)},t),Se}((r,i)=>{if(i)return void r(!1,new zE(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const d=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const m=u.getErrorCode()===Lh.NO_ERROR,v=u.getStatus();if(!m||this.isRetryStatusCode_(v)){const S=u.getErrorCode()===Lh.ABORT;return void r(!1,new zE(!1,null,S))}const E=-1!==this.successCodes_.indexOf(v);r(!0,new zE(E,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function mF(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,i=-1!==[408,429].indexOf(e),u=-1!==this.additionalRetryCodes_.indexOf(e);return t||i||u}}class zE{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function AF(...n){const e=function TF(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(TS())return new Blob(n);throw new or("unsupported-environment","This browser doesn't seem to support creating Blobs")}const To={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class SS{constructor(e,t){this.data=e,this.contentType=t||null}}function xS(n,e){switch(n){case To.RAW:return new SS(dO(e));case To.BASE64:case To.BASE64URL:return new SS(hO(n,e));case To.DATA_URL:return new SS(function OF(n){const e=new fO(n);return e.base64?hO(To.BASE64,e.rest):function MF(n){let e;try{e=decodeURIComponent(n)}catch(t){throw Y0(To.DATA_URL,"Malformed data URL.")}return dO(e)}(e.rest)}(e),function PF(n){return new fO(n).contentType}(e))}throw DS()}function dO(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function hO(n,e){switch(n){case To.BASE64:{const i=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(i||u)throw Y0(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case To.BASE64URL:{const i=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(i||u)throw Y0(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function xF(n){return atob(n)}(e)}catch(i){throw Y0(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class fO{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Y0(To.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function kF(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class dc{constructor(e,t){let r=0,i="";cO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(cO(this.data_)){const i=function SF(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new dc(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new dc(r,!0)}}static getBlob(...e){if(TS()){const t=e.map(r=>r instanceof dc?r.data_:r);return new dc(AF.apply(null,t))}{const t=e.map(d=>ZE(d)?xS(To.RAW,d).data:d.data_);let r=0;t.forEach(d=>{r+=d.byteLength});const i=new Uint8Array(r);let u=0;return t.forEach(d=>{for(let m=0;m<d.length;m++)i[u++]=d[m]}),new dc(i,!0)}}uploadData(){return this.data_}}function MS(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function vF(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function pO(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function FF(n,e){return e}class Is{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||FF}}let WE=null;function Q0(){if(WE)return WE;const n=[];n.push(new Is("bucket")),n.push(new Is("generation")),n.push(new Is("metageneration")),n.push(new Is("name","fullPath",!0));const t=new Is("name");t.xform=function e(u,d){return function LF(n){return!ZE(n)||n.length<2?n:pO(n)}(d)},n.push(t);const i=new Is("size");return i.xform=function r(u,d){return void 0!==d?Number(d):d},n.push(i),n.push(new Is("timeCreated")),n.push(new Is("updated")),n.push(new Is("md5Hash",null,!0)),n.push(new Is("cacheControl",null,!0)),n.push(new Is("contentDisposition",null,!0)),n.push(new Is("contentEncoding",null,!0)),n.push(new Is("contentLanguage",null,!0)),n.push(new Is("contentType",null,!0)),n.push(new Is("metadata","customMetadata",!0)),WE=n,WE}function gO(n,e,t){const r=MS(e);return null===r?null:function VF(n,e,t){const r={type:"file"},i=t.length;for(let u=0;u<i;u++){const d=t[u];r[d.local]=d.xform(r,e[d.server])}return function UF(n,e){Object.defineProperty(n,"ref",{get:function t(){const u=new ns(n.bucket,n.fullPath);return e._makeStorageReference(u)}})}(r,n),r}(n,r,t)}function OS(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const u=e[i];u.writable&&(t[u.server]=n[u.local])}return JSON.stringify(t)}const mO="prefixes";class hc{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function fc(n){if(!n)throw DS()}function KE(n,e){return function t(r,i){const u=gO(n,i,e);return fc(null!==u),u}}function Ny(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function oF(){return new or("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function sF(){return new or("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function iF(n){return new or("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function aF(n){return new or("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function X0(n){const e=Ny(n);return function t(r,i){let u=e(r,i);return 404===r.getStatus()&&(u=function rF(n){return new or("object-not-found","Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=i.serverResponse,u}}function _O(n,e,t){const i=Ll(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,m=new hc(i,"GET",KE(n,t),d);return m.errorHandler=X0(e),m}function GF(n,e,t,r,i){const u={};u.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(u.delimiter=t),r&&(u.pageToken=r),i&&(u.maxResults=i);const m=Ll(e.bucketOnlyServerUrl(),n.host,n._protocol),E=n.maxOperationRetryTime,S=new hc(m,"GET",function $F(n,e){return function t(r,i){const u=function HF(n,e,t){const r=MS(t);return null===r?null:function jF(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[mO])for(const i of t[mO]){const u=i.replace(/\/$/,""),d=n._makeStorageReference(new ns(e,u));r.prefixes.push(d)}if(t.items)for(const i of t.items){const u=n._makeStorageReference(new ns(e,i.name));r.items.push(u)}return r}(n,e,r)}(n,e,i);return fc(null!==u),u}}(n,e.bucket),E);return S.urlParams=u,S.errorHandler=Ny(e),S}function bO(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function KF(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class YE{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function PS(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(i){fc(!1)}return fc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const XF={STATE_CHANGED:"state_changed"},Ds={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function kS(n){switch(n){case"running":case"pausing":case"canceling":return Ds.RUNNING;case"paused":return Ds.PAUSED;case"success":return Ds.SUCCESS;case"canceled":return Ds.CANCELED;default:return Ds.ERROR}}class eL{constructor(e,t,r){if(function _F(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function Fy(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class nL extends class tL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Lh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Lh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Lh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw J0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const u in i)i.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,i[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw J0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw J0("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw J0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw J0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function iu(){return new nL}class IO{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Q0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=i,this._transition("error"))},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this._promise=new Promise((i,u)=>{this._resolve=i,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function YF(n,e,t,r,i){const u=e.bucketOnlyServerUrl(),d=bO(e,r,i),m={name:d.fullPath},v=Ll(u,n.host,n._protocol),S={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},M=OS(d,t),K=new hc(v,"POST",function q(Se){let Fe;PS(Se);try{Fe=Se.getResponseHeader("X-Goog-Upload-URL")}catch(rt){fc(!1)}return fc(ZE(Fe)),Fe},n.maxUploadRetryTime);return K.urlParams=m,K.headers=S,K.body=M,K.errorHandler=Ny(e),K}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,iu,e,t);this._request=i,i.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function JF(n,e,t,r){const v=new hc(t,"POST",function u(E){const S=PS(E,["active","final"]);let M=null;try{M=E.getResponseHeader("X-Goog-Upload-Size-Received")}catch(q){fc(!1)}M||fc(!1);const U=Number(M);return fc(!isNaN(U)),new YE(U,r.size(),"final"===S)},n.maxUploadRetryTime);return v.headers={"X-Goog-Upload-Command":"query"},v.errorHandler=Ny(e),v}(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(i,iu,t,r);this._request=u,u.getPromise().then(d=>{d=d,this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new YE(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,u)=>{let d;try{d=function QF(n,e,t,r,i,u,d,m){const v=new YE(0,0);if(d?(v.current=d.current,v.total=d.total):(v.current=0,v.total=r.size()),r.size()!==v.total)throw function hF(){return new or("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const E=v.total-v.current;let S=E;i>0&&(S=Math.min(S,i));const M=v.current,K={"X-Goog-Upload-Command":S===E?"upload, finalize":"upload","X-Goog-Upload-Offset":`${v.current}`},Se=r.slice(M,M+S);if(null===Se)throw oO();const _t=new hc(t,"POST",function Fe(st,Ot){const Gt=PS(st,["active","final"]),Nr=v.current+S,ou=r.size();let GS;return GS="final"===Gt?KE(e,u)(st,Ot):null,new YE(Nr,ou,"final"===Gt,GS)},e.maxUploadRetryTime);return _t.headers=K,_t.body=Se.uploadData(),_t.progressCallback=m||null,_t.errorHandler=Ny(n),_t}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(v){return this._error=v,void this._transition("error")}const m=this._ref.storage._makeRequest(d,iu,i,u);this._request=m,m.getPromise().then(v=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(v.current),v.finalized?(this._metadata=v.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=_O(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,iu,e,t);this._request=i,i.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function wO(n,e,t,r,i){const u=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"},v=function m(){let _t="";for(let st=0;st<2;st++)_t+=Math.random().toString().slice(2);return _t}();d["Content-Type"]="multipart/related; boundary="+v;const E=bO(e,r,i),S=OS(E,t),q=dc.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+S+"\r\n--"+v+"\r\nContent-Type: "+E.contentType+"\r\n\r\n",r,"\r\n--"+v+"--");if(null===q)throw oO();const K={name:E.fullPath},Se=Ll(u,n.host,n._protocol),rt=n.maxUploadRetryTime,ct=new hc(Se,"POST",KE(n,t),rt);return ct.urlParams=K,ct.headers=d,ct.body=q.uploadData(),ct.errorHandler=Ny(e),ct}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,iu,e,t);this._request=i,i.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=sO(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=kS(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const u=new eL(t||void 0,r||void 0,i||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(kS(this._state)){case Ds.SUCCESS:Fy(this._resolve.bind(null,this.snapshot))();break;case Ds.CANCELED:case Ds.ERROR:Fy(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(kS(this._state)){case Ds.RUNNING:case Ds.PAUSED:e.next&&Fy(e.next.bind(e,this.snapshot))();break;case Ds.SUCCESS:e.complete&&Fy(e.complete.bind(e))();break;default:e.error&&Fy(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Qp{constructor(e,t){this._service=e,this._location=t instanceof ns?t:ns.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Qp(e,t)}get root(){const e=new ns(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pO(this._location.path)}get storage(){return this._service}get parent(){const e=function RF(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ns(this._location.bucket,e);return new Qp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw uO(e)}}function TO(n,e,t){return RS.apply(this,arguments)}function RS(){return RS=(0,se.Z)(function*(n,e,t){const i=yield AO(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield TO(n,e,i.nextPageToken))}),RS.apply(this,arguments)}function AO(n,e){null!=e&&"number"==typeof e.maxResults&&AS("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=GF(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,iu)}function pL(n){n._throwIfRoot("getDownloadURL");const e=function ZF(n,e,t){const i=Ll(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,m=new hc(i,"GET",function qF(n,e){return function t(r,i){const u=gO(n,i,e);return fc(null!==u),function BF(n,e,t,r){const i=MS(e);if(null===i||!ZE(i.downloadTokens))return null;const u=i.downloadTokens;if(0===u.length)return null;const d=encodeURIComponent;return u.split(",").map(E=>{const M=n.fullPath;return Ll("/b/"+d(n.bucket)+"/o/"+d(M),t,r)+lO({alt:"media",token:E})})[0]}(u,i,n.host,n._protocol)}}(n,t),d);return m.errorHandler=X0(e),m}(n.storage,n._location,Q0());return n.storage.makeRequestWithTokens(e,iu).then(t=>{if(null===t)throw function fF(){return new or("no-download-url","The given file does not have any download URLs.")}();return t})}function SO(n,e){const t=function NF(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new ns(n._location.bucket,t);return new Qp(n.storage,r)}function xO(n,e){if(n instanceof NS){const t=n;if(null==t._bucket)throw function dF(){return new or("no-default-bucket","No default bucket found. Did you set the '"+iO+"' property when initializing the app?")}();const r=new Qp(t,t._bucket);return null!=e?xO(r,e):r}return void 0!==e?SO(n,e):n}function _L(n,e){if(e&&function mL(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof NS)return function yL(n,e){return new Qp(n,e)}(n,e);throw Ry("To use ref(service, url), the first argument must be a Storage instance.")}return xO(n,e)}function MO(n,e){const t=null==e?void 0:e[iO];return null==t?null:ns.makeFromBucketSpec(t,n)}class NS{constructor(e,t,r,i,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=u,this._bucket=null,this._host=rO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ns.makeFromBucketSpec(i,this._host):MO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ns.makeFromBucketSpec(this._url,e):MO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){AS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){AS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,se.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,se.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qp(this,e)}_makeRequest(e,t,r,i){if(this._deleted)return new pF(aO());{const u=function DF(n,e,t,r,i,u){const d=lO(n.urlParams),m=n.url+d,v=Object.assign({},n.headers);return function EF(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function wF(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function CF(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(v,u),function IF(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,r),new bF(m,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(e,this._appId,r,i,t,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,se.Z)(function*(){const[i,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,u).getPromise()})()}}const OO="@firebase/storage";function RO(n,e){return _L(n=(0,Dt.m9)(n),e)}function xL(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new NS(t,r,i,e,$s.SDK_VERSION)}!function ML(){(0,$s._registerComponent)(new Wu.wA("storage",xL,"PUBLIC").setMultipleInstances(!0)),(0,$s.registerVersion)(OO,"0.9.6",""),(0,$s.registerVersion)(OO,"0.9.6","esm2017")}();class JE{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class NO{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new JE(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new JE(r,this,this._ref))},t)}on(e,t,r,i){let u;return t&&(u="function"==typeof t?d=>t(new JE(d,this,this._ref)):{next:t.next?d=>t.next(new JE(d,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,r||void 0,i||void 0)}}class FO{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Ul(e,this._service))}get items(){return this._delegate.items.map(e=>new Ul(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ul{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function AL(n,e){return SO(n,e)}(this._delegate,e);return new Ul(t,this.storage)}get root(){return new Ul(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Ul(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new NO(function bL(n,e,t){return function cL(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new IO(n,new dc(e),t)}(n=(0,Dt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=To.RAW,r){this._throwIfRoot("putString");const i=xS(t,e),u=Object.assign({},r);return null==u.contentType&&null!=i.contentType&&(u.contentType=i.contentType),new NO(new IO(this._delegate,new dc(i.data,!0),u),this)}listAll(){return function IL(n){return function dL(n){const e={prefixes:[],items:[]};return TO(n,e).then(()=>e)}(n=(0,Dt.m9)(n))}(this._delegate).then(e=>new FO(e,this.storage))}list(e){return function EL(n,e){return AO(n=(0,Dt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new FO(t,this.storage))}getMetadata(){return function wL(n){return function hL(n){n._throwIfRoot("getMetadata");const e=_O(n.storage,n._location,Q0());return n.storage.makeRequestWithTokens(e,iu)}(n=(0,Dt.m9)(n))}(this._delegate)}updateMetadata(e){return function CL(n,e){return function fL(n,e){n._throwIfRoot("updateMetadata");const t=function zF(n,e,t,r){const u=Ll(e.fullServerUrl(),n.host,n._protocol),m=OS(t,r),E=n.maxOperationRetryTime,S=new hc(u,"PATCH",KE(n,r),E);return S.headers={"Content-Type":"application/json; charset=utf-8"},S.body=m,S.errorHandler=X0(e),S}(n.storage,n._location,e,Q0());return n.storage.makeRequestWithTokens(t,iu)}(n=(0,Dt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function DL(n){return pL(n=(0,Dt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function TL(n){return function gL(n){n._throwIfRoot("deleteObject");const e=function WF(n,e){const r=Ll(e.fullServerUrl(),n.host,n._protocol),m=new hc(r,"DELETE",function d(v,E){},n.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=X0(e),m}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,iu)}(n=(0,Dt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw uO(e)}}class LO{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(UO(e))throw Ry("ref() expected a child path but got a URL, use refFromURL instead.");return new Ul(RO(this._delegate,e),this)}refFromURL(e){if(!UO(e))throw Ry("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ns.makeFromUrl(e,this._delegate.host)}catch(t){throw Ry("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ul(RO(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function SL(n,e,t,r={}){!function vL(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Dt.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function UO(n){return/^[A-Za-z]+:\/\//.test(n)}function RL(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new LO(t,r)}function VO(n){const e=function FL(n){return new Zi.y(e=>{const t=d=>e.next(d);t(n.snapshot);const u=n.on("state_changed",t);return n.then(d=>{t(d),e.complete()},d=>{t(n.snapshot),(d=>{e.error(d)})(d)}),function(){u()}}).pipe(function eF(n,e=Lw.z){return(0,fi.e)((t,r)=>{let i=null,u=null,d=null;const m=()=>{if(i){i.unsubscribe(),i=null;const E=u;u=null,r.next(E)}};function v(){const E=d+n,S=e.now();if(S<E)return i=this.schedule(void 0,E-S),void r.add(i);m()}t.subscribe((0,Ut.x)(r,E=>{u=E,d=e.now(),i||(i=e.schedule(v,n),r.add(i))},()=>{m(),r.complete()},void 0,()=>{u=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,mt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function QE(n){return{getDownloadURL:()=>ht(void 0).pipe(xn.fc,Qt(()=>n.getDownloadURL()),xn.iC),getMetadata:()=>ht(void 0).pipe(xn.fc,Qt(()=>n.getMetadata()),xn.iC),delete:()=>(0,rn.D)(n.delete()),child:e=>QE(n.child(e)),updateMetadata:e=>(0,rn.D)(n.updateMetadata(e)),put:(e,t)=>VO(n.put(e,t)),putString:(e,t,r)=>VO(n.putString(e,t,r)),list:e=>(0,rn.D)(n.list(e)),listAll:()=>(0,rn.D)(n.listAll())}}!function NL(n){const e={TaskState:Ds,TaskEvent:XF,StringFormat:To,Storage:LO,Reference:Ul};n.INTERNAL.registerComponent(new Wu.wA("storage-compat",RL,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.14")}(Uw.Z);const LL=new c.OlP("angularfire2.storageBucket"),UL=new c.OlP("angularfire2.storage.maxUploadRetryTime"),VL=new c.OlP("angularfire2.storage.maxOperationRetryTime"),BL=new c.OlP("angularfire2.storage.use-emulator");let BO=(()=>{class n{constructor(t,r,i,u,d,m,v,E,S,M){const U=(0,yi.on)(t,d,r);this.storage=(0,yi.cc)(`${U.name}.storage.${i}`,"AngularFireStorage",U.name,()=>{const q=d.runOutsideAngular(()=>U.storage(i||void 0)),K=S;return K&&q.useEmulator(...K),v&&q.setMaxUploadRetryTime(v),E&&q.setMaxOperationRetryTime(E),q},[v,E])}ref(t){return QE(this.storage.ref(t))}refFromURL(t){return QE(this.storage.refFromURL(t))}upload(t,r,i){return QE(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(yi.Dh),c.LFG(yi.xv,8),c.LFG(LL,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(xn.HU),c.LFG(UL,8),c.LFG(VL,8),c.LFG(BL,8),c.LFG(ih,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),jL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),HL=(()=>{class n{constructor(){cl.Z.registerVersion("angularfire",xn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[BO],imports:[jL]}),n})(),Xp=(()=>{class n{constructor(t,r,i,u,d){this.afAuth=r,this.router=i,this.sharedService=u,this.fireStorage=d,this.time="",this.db=t,this.dataCollection=t.collection("users")}loginUser(t,r){var i=this;return(0,se.Z)(function*(){i.userEmail=yield i.getuserEmail(t),i.afAuth.signInWithEmailAndPassword(i.userEmail,r).then(u=>{console.log(u),i.sharedService.set("userId",t),alert("Login Successful!!"),i.router.navigate(["home"])}).catch(u=>{alert("Incoreect Password!")})})()}getuserEmail(t){var r=this;return(0,se.Z)(function*(){const u=(yield ms(yield r.db.collection("users").doc("totalUsers").get())).data().userId;if(Number(t)<Number(u)+111112){const d=ms(yield r.db.collection("users").doc(t).get());return(yield d).data()||console.log("error"),(yield d).data().userEmail}return alert("Incoreect Security Code!"),"error"})()}getuserData(t){var r=this;return(0,se.Z)(function*(){const u=(yield ms(yield r.db.collection("users").doc(t).get())).data();return r.sharedService.set("userData",JSON.stringify(u)),u})()}addVisitor(t,r){var i=this;return(0,se.Z)(function*(){var u;const m=(yield ms(yield i.db.collection("visitors").doc("totalVisitors").get())).data().visitorId;i.userId=i.sharedService.get("userId");const v=ms(yield i.db.collection("users").doc(i.userId.toString()).get()),E=(yield v).data().checkIns,S=(yield v).data().DailyVisitors,M={vName:t.value.vName,vMobile:t.value.vMobile,vPov:t.value.vPov,empName:t.value.empName,vId:t.value.vId,vIdno:t.value.vIdno,vCaddr:t.value.vCaddr,totalVis:t.value.totalVis,vTab:t.value.vTab,vLap:t.value.vLap,vPen:t.value.vPen,vOther:t.value.vOther,vCompname:t.value.vCompname,vImg:null===(u=i.sharedService.get("urlImg"))||void 0===u?void 0:u.toString(),addVisitor:[],checkinTime:cl.Z.firestore.FieldValue.serverTimestamp(),checkoutTime:"",vDate:"",visitorId:(111111+m+1).toString()},K=(yield i.db.collection("visitors").doc((111111+m+1).toString()).set(M),(yield ms(yield i.db.collection("visitors").doc((111111+m+1).toString()).get())).data().checkinTime);i.date=K.toDate().toString();const Se=i.date.split(" ");for(let ct=1;ct<4;ct++)i.time=i.time+Se[ct]+" ";console.log(i.time),yield i.db.collection("visitors").doc((111111+m+1).toString()).update({vDate:i.time,checkinTime:Se[4]}),i.db.collection("visitors").doc("totalVisitors").set({visitorId:m+1}),i.db.collection("users").doc(i.userId.toString()).update({visitors:cl.Z.firestore.FieldValue.arrayUnion((111111+m+1).toString()),checkIns:E+1,DailyVisitors:S+1});for(let ct=0;ct<r.length;ct++)i.db.collection("visitors").doc((111111+m+1).toString()).update({addVisitor:cl.Z.firestore.FieldValue.arrayUnion(r[ct])});const rt=ms(yield i.db.collection("visitors").doc((111111+m+1).toString()).get());i.visitordata=JSON.stringify((yield rt).data()),i.sharedService.set("data",i.visitordata),yield i.getcheckInOuts()})()}addImgFun(t,r){var i=this;return(0,se.Z)(function*(){const d=(yield ms(yield i.db.collection("visitors").doc("totalVisitors").get())).data().visitorId;i.urlImg=yield(yield i.fireStorage.upload((111111+d+1).toString()+r,t)).ref.getDownloadURL(),i.sharedService.set("urlImg",i.urlImg),console.log(i.urlImg)})()}addGatepass(t,r){var i=this;return(0,se.Z)(function*(){return i.gatepass=yield(yield i.fireStorage.upload(r,t)).ref.getDownloadURL(),i.gatepass})()}getvisitors(t,r){var i=this;return(0,se.Z)(function*(){const d=(yield ms(yield i.db.collection("users").doc(t).get())).data().visitors;i.visitorsData=[];for(let m=0;m<d.length;m++)i.errorData=yield i.getvisitorData(d[m]),(""==i.errorData.checkoutTime&&!r||""!=i.errorData.checkoutTime&&r)&&i.visitorsData.push(i.errorData);return i.visitorsData})()}getvisitorData(t){var r=this;return(0,se.Z)(function*(){return(yield ms(yield r.db.collection("visitors").doc(t).get())).data()})()}checkoutVisitor(t){var r=this;return(0,se.Z)(function*(){yield r.db.collection("visitors").doc(t).update({checkoutTime:cl.Z.firestore.FieldValue.serverTimestamp()});const u=(yield ms(yield r.db.collection("visitors").doc(t).get())).data().checkoutTime;r.date=u.toDate().toString();const d=r.date.split(" ");yield r.db.collection("visitors").doc(t).update({checkoutTime:d[4]}),r.userId=r.sharedService.get("userId");const m=ms(yield r.db.collection("users").doc(r.userId.toString()).get()),v=(yield m).data().checkOuts,E=(yield m).data().checkIns;yield r.db.collection("users").doc(r.userId.toString()).update({checkOuts:v+1,checkIns:E-1}),yield r.getcheckInOuts()})()}getcheckInOuts(){var t=this;return(0,se.Z)(function*(){t.userId=t.sharedService.get("userId");const r=ms(yield t.db.collection("users").doc(t.userId.toString()).get()),i=(yield r).data().checkOuts,u=(yield r).data().checkIns,d=(yield r).data().DailyVisitors;t.sharedService.set("checkOuts",i.toString()),t.sharedService.set("checkIns",u.toString()),t.sharedService.set("dailyVisitors",d.toString())})()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG($M),c.LFG(ll),c.LFG(_n),c.LFG(lc),c.LFG(BO))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $L(n,e){if(1&n&&c._UZ(0,"div",9),2&n){const t=c.oxw();c.Udp("height",t.pbThickness,"px")("color",t.pbColor),c.ekj("ngx-position-absolute",t.loaderId!==t.defaultConfig.masterLoaderId)("loading-foreground",t.showForeground)("foreground-closing",t.foregroundClosing)("fast-closing",t.foregroundClosing&&t.fastFadeOut),c.Q6J("ngClass","ngx-progress-bar-"+t.pbDirection)}}function qL(n,e){if(1&n&&c._UZ(0,"img",10),2&n){const t=c.oxw();c.Udp("width",t.logoSize,"px")("height",t.logoSize,"px")("top",t.logoTop),c.Q6J("ngClass",t.logoPosition)("src",t.trustedLogoUrl,c.LSH)}}function GL(n,e){1&n&&c._UZ(0,"div")}function ZL(n,e){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,GL,1,0,"div",11),c.qZA()),2&n){const t=c.oxw();c.Tol(t.fgSpinnerClass),c.xp6(1),c.Q6J("ngForOf",t.fgDivs)}}function zL(n,e){1&n&&c.GkF(0)}function WL(n,e){if(1&n&&c.YNc(0,zL,1,0,"ng-container",12),2&n){const t=c.oxw();c.Q6J("ngTemplateOutlet",t.fgsTemplate)}}function KL(n,e){1&n&&c._UZ(0,"div")}function YL(n,e){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,KL,1,0,"div",11),c.qZA()),2&n){const t=c.oxw();c.Tol(t.bgSpinnerClass),c.xp6(1),c.Q6J("ngForOf",t.bgDivs)}}function JL(n,e){1&n&&c.GkF(0)}function QL(n,e){if(1&n&&c.YNc(0,JL,1,0,"ng-container",12),2&n){const t=c.oxw();c.Q6J("ngTemplateOutlet",t.bgsTemplate)}}var eb=(()=>(function(n){n.ballScaleMultiple="ball-scale-multiple",n.ballSpin="ball-spin",n.ballSpinClockwise="ball-spin-clockwise",n.ballSpinClockwiseFadeRotating="ball-spin-clockwise-fade-rotating",n.ballSpinFadeRotating="ball-spin-fade-rotating",n.chasingDots="chasing-dots",n.circle="circle",n.cubeGrid="cube-grid",n.doubleBounce="double-bounce",n.fadingCircle="fading-circle",n.foldingCube="folding-cube",n.pulse="pulse",n.rectangleBounce="rectangle-bounce",n.rectangleBounceParty="rectangle-bounce-party",n.rectangleBouncePulseOut="rectangle-bounce-pulse-out",n.rectangleBouncePulseOutRapid="rectangle-bounce-pulse-out-rapid",n.rotatingPlane="rotating-plane",n.squareJellyBox="square-jelly-box",n.squareLoader="square-loader",n.threeBounce="three-bounce",n.threeStrings="three-strings",n.wanderingCubes="wandering-cubes"}(eb||(eb={})),eb))(),Ao=(()=>(function(n){n.bottomCenter="bottom-center",n.bottomLeft="bottom-left",n.bottomRight="bottom-right",n.centerCenter="center-center",n.centerLeft="center-left",n.centerRight="center-right",n.topCenter="top-center",n.topLeft="top-left",n.topRight="top-right"}(Ao||(Ao={})),Ao))(),XE=(()=>(function(n){n.leftToRight="ltr",n.rightToLeft="rtl"}(XE||(XE={})),XE))();const eI="fg-default",tI="bg-default",e2={},Ly=!1,tb=!0,nI="$_router_loader",rI={"ball-scale-multiple":{divs:3,class:"sk-ball-scale-multiple"},"ball-spin":{divs:8,class:"sk-ball-spin"},"ball-spin-clockwise":{divs:8,class:"sk-ball-spin-clockwise"},"ball-spin-clockwise-fade-rotating":{divs:8,class:"sk-ball-spin-clockwise-fade-rotating"},"ball-spin-fade-rotating":{divs:8,class:"sk-ball-spin-fade-rotating"},"chasing-dots":{divs:2,class:"sk-chasing-dots"},circle:{divs:12,class:"sk-circle"},"cube-grid":{divs:9,class:"sk-cube-grid"},"double-bounce":{divs:2,class:"sk-double-bounce"},"fading-circle":{divs:12,class:"sk-fading-circle"},"folding-cube":{divs:4,class:"sk-folding-cube"},pulse:{divs:1,class:"sk-pulse"},"rectangle-bounce":{divs:5,class:"sk-rectangle-bounce"},"rectangle-bounce-party":{divs:5,class:"sk-rectangle-bounce-party"},"rectangle-bounce-pulse-out":{divs:5,class:"sk-rectangle-bounce-pulse-out"},"rectangle-bounce-pulse-out-rapid":{divs:5,class:"sk-rectangle-bounce-pulse-out-rapid"},"rotating-plane":{divs:1,class:"sk-rotating-plane"},"square-jelly-box":{divs:2,class:"sk-square-jelly-box"},"square-loader":{divs:1,class:"sk-square-loader"},"three-bounce":{divs:3,class:"sk-three-bounce"},"three-strings":{divs:3,class:"sk-three-strings"},"wandering-cubes":{divs:2,class:"sk-wandering-cubes"}},r2={bgsColor:"#00ACC1",bgsOpacity:.5,bgsPosition:Ao.bottomRight,bgsSize:60,bgsType:eb.ballSpinClockwise,blur:5,delay:0,fastFadeOut:!1,fgsColor:"#00ACC1",fgsPosition:Ao.centerCenter,fgsSize:60,fgsType:eb.ballSpinClockwise,gap:24,logoPosition:Ao.centerCenter,logoSize:120,logoUrl:"",masterLoaderId:"master",overlayBorderRadius:"0",overlayColor:"rgba(40, 40, 40, 0.8)",pbColor:"#00ACC1",pbDirection:XE.leftToRight,pbThickness:3,hasProgressBar:!0,text:"",textColor:"#FFFFFF",textPosition:Ao.centerCenter,maxTime:-1,minTime:300},qO=new c.OlP("ngxUiLoaderCustom.config");let eg=(()=>{class n{constructor(t){this.config=t,this.defaultConfig=Object.assign({},r2),this.config&&(this.config.minTime&&this.config.minTime<0&&(this.config.minTime=0),this.defaultConfig=Object.assign(Object.assign({},this.defaultConfig),this.config)),this.loaders={},this.showForeground=new $n({loaderId:"",isShow:!1}),this.showForeground$=this.showForeground.asObservable(),this.showBackground=new $n({loaderId:"",isShow:!1}),this.showBackground$=this.showBackground.asObservable(),this.fgClosing=new $n({loaderId:"",isShow:!1}),this.foregroundClosing$=this.fgClosing.asObservable(),this.bgClosing=new $n({loaderId:"",isShow:!1}),this.backgroundClosing$=this.bgClosing.asObservable()}bindLoaderData(t){const r=t===this.defaultConfig.masterLoaderId;if(this.loaders[t]){if(this.loaders[t].isBound)throw new Error(`[ngx-ui-loader] - loaderId "${t}" is duplicated.`);this.loaders[t].isBound=!0,this.loaders[t].isMaster=r,this.hasRunningTask(tb,t)?this.showForeground.next({loaderId:t,isShow:!0}):this.hasRunningTask(Ly,t)&&this.showBackground.next({loaderId:t,isShow:!0})}else this.createLoaderData(t,r,!0)}destroyLoaderData(t){this.stopAllLoader(t),delete this.loaders[t]}getDefaultConfig(){return Object.assign({},this.defaultConfig)}getLoaders(){return JSON.parse(JSON.stringify(this.loaders))}getLoader(t){return this.loaders[t=t||this.defaultConfig.masterLoaderId]?JSON.parse(JSON.stringify(this.loaders[t])):null}startLoader(t,r=eI,i){!this.readyToStart(t,r,!0,i)||this.loaders[t].tasks[r].isOtherRunning||(this.hasRunningTask(Ly,t)&&(this.backgroundCloseout(t),this.showBackground.next({loaderId:t,isShow:!1})),this.showForeground.next({loaderId:t,isShow:!0}))}start(t=eI,r){this.startLoader(this.defaultConfig.masterLoaderId,t,r)}startBackgroundLoader(t,r=tI,i){!this.readyToStart(t,r,!1,i)||!this.hasRunningTask(tb,t)&&!this.loaders[t].tasks[r].isOtherRunning&&this.showBackground.next({loaderId:t,isShow:!0})}startBackground(t=tI,r){this.startBackgroundLoader(this.defaultConfig.masterLoaderId,t,r)}stopLoader(t,r=eI){!this.readyToStop(t,r)||this.hasRunningTask(tb,t)||(this.foregroundCloseout(t),this.showForeground.next({loaderId:t,isShow:!1}),this.hasRunningTask(Ly,t)&&setTimeout(()=>{this.hasRunningTask(Ly,t)&&this.showBackground.next({loaderId:t,isShow:!0})},this.defaultConfig.fastFadeOut?300:500))}stop(t=eI){this.stopLoader(this.defaultConfig.masterLoaderId,t)}stopBackgroundLoader(t,r=tI){!this.readyToStop(t,r)||!this.hasRunningTask(tb,t)&&!this.hasRunningTask(Ly,t)&&(this.backgroundCloseout(t),this.showBackground.next({loaderId:t,isShow:!1}))}stopBackground(t=tI){this.stopBackgroundLoader(this.defaultConfig.masterLoaderId,t)}stopAllLoader(t){this.loaders[t]?(this.hasRunningTask(tb,t)?(this.foregroundCloseout(t),this.showForeground.next({loaderId:t,isShow:!1})):this.hasRunningTask(Ly,t)&&(this.backgroundCloseout(t),this.showBackground.next({loaderId:t,isShow:!1})),this.clearAllTimers(this.loaders[t].tasks),this.loaders[t].tasks={}):console.warn(`[ngx-ui-loader] - loaderId "${t}" does not exist.`)}stopAll(){this.stopAllLoader(this.defaultConfig.masterLoaderId)}hasRunningTask(t,r,i){if(this.loaders[r]){const u=this.loaders[r].tasks;return i?!!u[i]&&!!u[i].startAt:Object.keys(u).some(d=>!!u[d].startAt&&u[d].isForeground===t)}return!1}createLoaderData(t,r,i){this.loaders[t]||(this.loaders[t]={loaderId:t,tasks:{},isMaster:r,isBound:i})}foregroundCloseout(t){this.fgClosing.next({loaderId:t,isShow:!0}),setTimeout(()=>{this.fgClosing.next({loaderId:t,isShow:!1})},this.defaultConfig.fastFadeOut?601:1001)}backgroundCloseout(t){this.bgClosing.next({loaderId:t,isShow:!0}),setTimeout(()=>{this.bgClosing.next({loaderId:t,isShow:!1})},this.defaultConfig.fastFadeOut?601:1001)}clearTimers(t){clearTimeout(t.delayTimer),clearTimeout(t.maxTimer),clearTimeout(t.minTimer)}clearAllTimers(t){Object.keys(t).map(r=>{this.clearTimers(t[r])})}readyToStart(t,r,i,u=e2){this.createLoaderData(t,void 0,!1);const d=this.hasRunningTask(i,t);if(this.loaders[t].tasks[r]){if(this.loaders[t].tasks[r].isForeground!==i)throw new Error(`[ngx-ui-loader] - taskId "${r}" is duplicated.`)}else this.loaders[t].tasks[r]={taskId:r,isForeground:i,minTime:u.minTime>=0?u.minTime:this.defaultConfig.minTime,maxTime:u.maxTime?u.maxTime:this.defaultConfig.maxTime,delay:u.delay>=0?u.delay:this.defaultConfig.delay};return!(this.setDelayTimer(this.loaders[t].tasks[r],t)||(this.loaders[t].tasks[r]=Object.assign(Object.assign({},this.loaders[t].tasks[r]),{isOtherRunning:d,startAt:Date.now()}),this.setMaxTimer(this.loaders[t].tasks[r],t),!this.loaders[t].isBound))}readyToStop(t,r){if(!this.loaders[t])return console.warn(`[ngx-ui-loader] - loaderId "${t}" does not exist.`),!1;const i=this.loaders[t].tasks[r];return!(!i||(i.isDelayed?(this.clearTimers(i),delete this.loaders[t].tasks[r],1):this.setMinTimer(i,t)||(this.clearTimers(i),delete this.loaders[t].tasks[r],0)))}setDelayTimer(t,r){if(t.delay>0){if(t.isDelayed)return!0;if(!t.delayTimer)return t.isDelayed=!0,t.delayTimer=setTimeout(()=>{t.isDelayed=!1,t.isForeground?this.startLoader(r,t.taskId):this.startBackgroundLoader(r,t.taskId)},t.delay),!0}return!1}setMaxTimer(t,r){t.maxTime>t.minTime&&(clearTimeout(t.maxTimer),t.maxTimer=setTimeout(()=>{t.isForeground?this.stopLoader(r,t.taskId):this.stopBackgroundLoader(r,t.taskId)},t.maxTime))}setMinTimer(t,r){const i=Date.now();return!!(t.startAt&&t.startAt+t.minTime>i)&&(t.minTimer=setTimeout(()=>{t.isForeground?this.stopLoader(r,t.taskId):this.stopBackgroundLoader(r,t.taskId)},t.startAt+t.minTime-i),!0)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),su=(()=>{class n{constructor(t,r,i){this.domSanitizer=t,this.changeDetectorRef=r,this.ngxService=i,this.initialized=!1,this.defaultConfig=this.ngxService.getDefaultConfig(),this.bgsColor=this.defaultConfig.bgsColor,this.bgsOpacity=this.defaultConfig.bgsOpacity,this.bgsPosition=this.defaultConfig.bgsPosition,this.bgsSize=this.defaultConfig.bgsSize,this.bgsType=this.defaultConfig.bgsType,this.fastFadeOut=this.defaultConfig.fastFadeOut,this.fgsColor=this.defaultConfig.fgsColor,this.fgsPosition=this.defaultConfig.fgsPosition,this.fgsSize=this.defaultConfig.fgsSize,this.fgsType=this.defaultConfig.fgsType,this.gap=this.defaultConfig.gap,this.loaderId=this.defaultConfig.masterLoaderId,this.logoPosition=this.defaultConfig.logoPosition,this.logoSize=this.defaultConfig.logoSize,this.logoUrl=this.defaultConfig.logoUrl,this.overlayBorderRadius=this.defaultConfig.overlayBorderRadius,this.overlayColor=this.defaultConfig.overlayColor,this.pbColor=this.defaultConfig.pbColor,this.pbDirection=this.defaultConfig.pbDirection,this.pbThickness=this.defaultConfig.pbThickness,this.hasProgressBar=this.defaultConfig.hasProgressBar,this.text=this.defaultConfig.text,this.textColor=this.defaultConfig.textColor,this.textPosition=this.defaultConfig.textPosition}ngOnInit(){this.initializeSpinners(),this.ngxService.bindLoaderData(this.loaderId),this.determinePositions(),this.trustedLogoUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(this.logoUrl),this.showForegroundWatcher=this.ngxService.showForeground$.pipe(rr(t=>this.loaderId===t.loaderId)).subscribe(t=>{this.showForeground=t.isShow,this.changeDetectorRef.markForCheck()}),this.showBackgroundWatcher=this.ngxService.showBackground$.pipe(rr(t=>this.loaderId===t.loaderId)).subscribe(t=>{this.showBackground=t.isShow,this.changeDetectorRef.markForCheck()}),this.foregroundClosingWatcher=this.ngxService.foregroundClosing$.pipe(rr(t=>this.loaderId===t.loaderId)).subscribe(t=>{this.foregroundClosing=t.isShow,this.changeDetectorRef.markForCheck()}),this.backgroundClosingWatcher=this.ngxService.backgroundClosing$.pipe(rr(t=>this.loaderId===t.loaderId)).subscribe(t=>{this.backgroundClosing=t.isShow,this.changeDetectorRef.markForCheck()}),this.initialized=!0}ngOnChanges(t){if(!this.initialized)return;const u=t.logoUrl;(t.fgsType||t.bgsType)&&this.initializeSpinners(),this.determinePositions(),u&&(this.trustedLogoUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(this.logoUrl))}ngOnDestroy(){this.ngxService.destroyLoaderData(this.loaderId),this.showForegroundWatcher&&this.showForegroundWatcher.unsubscribe(),this.showBackgroundWatcher&&this.showBackgroundWatcher.unsubscribe(),this.foregroundClosingWatcher&&this.foregroundClosingWatcher.unsubscribe(),this.backgroundClosingWatcher&&this.backgroundClosingWatcher.unsubscribe()}initializeSpinners(){this.fgDivs=Array(rI[this.fgsType].divs).fill(1),this.fgSpinnerClass=rI[this.fgsType].class,this.bgDivs=Array(rI[this.bgsType].divs).fill(1),this.bgSpinnerClass=rI[this.bgsType].class}determinePositions(){this.logoTop="initial",this.spinnerTop="initial",this.textTop="initial",this.logoPosition.startsWith("center")?this.logoTop="50%":this.logoPosition.startsWith("top")&&(this.logoTop="30px"),this.fgsPosition.startsWith("center")?this.spinnerTop="50%":this.fgsPosition.startsWith("top")&&(this.spinnerTop="30px"),this.textPosition.startsWith("center")?this.textTop="50%":this.textPosition.startsWith("top")&&(this.textTop="30px"),this.fgsPosition===Ao.centerCenter?this.logoUrl&&this.logoPosition===Ao.centerCenter?this.text&&this.textPosition===Ao.centerCenter?(this.logoTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% - ${this.fgsSize/2}px - 12px - ${this.gap}px)`),this.spinnerTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.logoSize/2}px - 12px)`),this.textTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.logoSize/2}px + ${this.gap}px + ${this.fgsSize/2}px)`)):(this.logoTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% - ${this.fgsSize/2}px - ${this.gap/2}px)`),this.spinnerTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.logoSize/2}px + ${this.gap/2}px)`)):this.text&&this.textPosition===Ao.centerCenter&&(this.spinnerTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% - 12px - ${this.gap/2}px)`),this.textTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.fgsSize/2}px + ${this.gap/2}px)`)):this.logoUrl&&this.logoPosition===Ao.centerCenter&&this.text&&this.textPosition===Ao.centerCenter&&(this.logoTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% - 12px - ${this.gap/2}px)`),this.textTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.logoSize/2}px + ${this.gap/2}px)`))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(od),c.Y36(c.sBO),c.Y36(eg))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngx-ui-loader"]],inputs:{bgsColor:"bgsColor",bgsOpacity:"bgsOpacity",bgsPosition:"bgsPosition",bgsSize:"bgsSize",bgsTemplate:"bgsTemplate",bgsType:"bgsType",fgsColor:"fgsColor",fgsPosition:"fgsPosition",fgsSize:"fgsSize",fgsTemplate:"fgsTemplate",fgsType:"fgsType",gap:"gap",loaderId:"loaderId",logoPosition:"logoPosition",logoSize:"logoSize",logoUrl:"logoUrl",overlayBorderRadius:"overlayBorderRadius",overlayColor:"overlayColor",pbColor:"pbColor",pbDirection:"pbDirection",pbThickness:"pbThickness",hasProgressBar:"hasProgressBar",text:"text",textColor:"textColor",textPosition:"textPosition"},features:[c.TTD],decls:14,vars:50,consts:[["class","ngx-progress-bar",3,"ngx-position-absolute","ngClass","height","color","loading-foreground","foreground-closing","fast-closing",4,"ngIf"],[1,"ngx-overlay"],["class","ngx-loading-logo",3,"ngClass","src","width","height","top",4,"ngIf"],[1,"ngx-foreground-spinner",3,"ngClass"],[3,"class",4,"ngIf","ngIfElse"],["foregroundTemplate",""],[1,"ngx-loading-text",3,"ngClass"],[1,"ngx-background-spinner",3,"ngClass"],["backgroundTemplate",""],[1,"ngx-progress-bar",3,"ngClass"],[1,"ngx-loading-logo",3,"ngClass","src"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet"]],template:function(t,r){if(1&t&&(c.YNc(0,$L,1,13,"div",0),c.TgZ(1,"div",1),c.YNc(2,qL,1,8,"img",2),c.TgZ(3,"div",3),c.YNc(4,ZL,2,3,"div",4),c.YNc(5,WL,1,1,"ng-template",null,5,c.W1O),c.qZA(),c.TgZ(7,"div",6)(8,"span"),c._uU(9),c.qZA()()(),c.TgZ(10,"div",7),c.YNc(11,YL,2,3,"div",4),c.YNc(12,QL,1,1,"ng-template",null,8,c.W1O),c.qZA()),2&t){const i=c.MAs(6),u=c.MAs(13);c.Q6J("ngIf",r.hasProgressBar),c.xp6(1),c.Udp("background-color",r.overlayColor)("border-radius",r.overlayBorderRadius),c.ekj("ngx-position-absolute",r.loaderId!==r.defaultConfig.masterLoaderId)("loading-foreground",r.showForeground)("foreground-closing",r.foregroundClosing)("fast-closing",r.foregroundClosing&&r.fastFadeOut),c.xp6(1),c.Q6J("ngIf",r.logoUrl),c.xp6(1),c.Udp("color",r.fgsColor)("width",r.fgsSize,"px")("height",r.fgsSize,"px")("top",r.spinnerTop),c.Q6J("ngClass",r.fgsPosition),c.xp6(1),c.Q6J("ngIf",!r.fgsTemplate)("ngIfElse",i),c.xp6(3),c.Udp("top",r.textTop)("color",r.textColor),c.Q6J("ngClass",r.textPosition),c.xp6(2),c.Oqu(r.text),c.xp6(1),c.Udp("width",r.bgsSize,"px")("height",r.bgsSize,"px")("color",r.bgsColor)("opacity",r.bgsOpacity),c.ekj("ngx-position-absolute",r.loaderId!==r.defaultConfig.masterLoaderId)("loading-background",r.showBackground)("background-closing",r.backgroundClosing)("fast-closing",r.backgroundClosing&&r.fastFadeOut),c.Q6J("ngClass",r.bgsPosition),c.xp6(1),c.Q6J("ngIf",!r.bgsTemplate)("ngIfElse",u)}},directives:[pn,ss,Dn,Bh],styles:['.ngx-progress-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:3px;z-index:99999!important;display:none;color:#00acc1;overflow:hidden}.ngx-progress-bar.loading-foreground[_ngcontent-%COMP%], .ngx-progress-bar.foreground-closing[_ngcontent-%COMP%]{display:block}.ngx-progress-bar.foreground-closing[_ngcontent-%COMP%]{opacity:0!important;transition:opacity .5s ease-out .5s}.ngx-progress-bar.fast-closing[_ngcontent-%COMP%]{transition:opacity .3s ease-out .3s!important}.ngx-progress-bar[_ngcontent-%COMP%]:before, .ngx-progress-bar[_ngcontent-%COMP%]:after{background-color:currentColor;content:"";display:block;width:100%;height:100%;position:absolute;top:0}.ngx-progress-bar-ltr[_ngcontent-%COMP%]:before{transform:translate3d(-100%,0,0)}.ngx-progress-bar-ltr[_ngcontent-%COMP%]:after{animation:progressBar-slide-ltr 12s ease-out 0s 1 normal;transform:translate3d(-5%,0,0)}.ngx-progress-bar-rtl[_ngcontent-%COMP%]:before{transform:translate3d(100%,0,0)}.ngx-progress-bar-rtl[_ngcontent-%COMP%]:after{animation:progressBar-slide-rtl 12s ease-out 0s 1 normal;transform:translate3d(5%,0,0)}.foreground-closing.ngx-progress-bar-ltr[_ngcontent-%COMP%]:before{animation:progressBar-slide-complete-ltr 1s ease-out 0s 1;transform:translateZ(0)}.fast-closing.ngx-progress-bar-ltr[_ngcontent-%COMP%]:before{animation:progressBar-slide-complete-ltr .6s ease-out 0s 1!important}.foreground-closing.ngx-progress-bar-rtl[_ngcontent-%COMP%]:before{animation:progressBar-slide-complete-rtl 1s ease-out 0s 1;transform:translateZ(0)}.fast-closing.ngx-progress-bar-rtl[_ngcontent-%COMP%]:before{animation:progressBar-slide-complete-rtl .6s ease-out 0s 1!important}@keyframes progressBar-slide-ltr{0%{transform:translate3d(-100%,0,0)}to{transform:translate3d(-5%,0,0)}}@keyframes progressBar-slide-rtl{0%{transform:translate3d(100%,0,0)}to{transform:translate3d(5%,0,0)}}@keyframes progressBar-slide-complete-ltr{0%{transform:translate3d(-75%,0,0)}50%{transform:translateZ(0)}}@keyframes progressBar-slide-complete-rtl{0%{transform:translate3d(75%,0,0)}50%{transform:translateZ(0)}}.ngx-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:99998!important;background-color:#282828cc;cursor:progress;display:none}.ngx-overlay.loading-foreground[_ngcontent-%COMP%], .ngx-overlay.foreground-closing[_ngcontent-%COMP%]{display:block}.ngx-overlay.foreground-closing[_ngcontent-%COMP%]{opacity:0!important;transition:opacity .5s ease-out .5s}.ngx-overlay.fast-closing[_ngcontent-%COMP%]{transition:opacity .3s ease-out .3s!important}.ngx-overlay[_ngcontent-%COMP%] > .ngx-foreground-spinner[_ngcontent-%COMP%]{position:fixed;width:60px;height:60px;margin:0;color:#00acc1}.ngx-overlay[_ngcontent-%COMP%] > .ngx-loading-logo[_ngcontent-%COMP%]{position:fixed;margin:0;width:120px;height:120px}.ngx-overlay[_ngcontent-%COMP%] > .ngx-loading-text[_ngcontent-%COMP%]{position:fixed;margin:0;font-family:sans-serif;font-weight:400;font-size:1.2em;color:#fff}.ngx-background-spinner[_ngcontent-%COMP%]{position:fixed;z-index:99997!important;width:60px;height:60px;margin:0;color:#00acc1;opacity:.6;display:none}.ngx-background-spinner.loading-background[_ngcontent-%COMP%], .ngx-background-spinner.background-closing[_ngcontent-%COMP%]{display:block}.ngx-background-spinner.background-closing[_ngcontent-%COMP%]{opacity:0!important;transition:opacity .7s ease-out}.ngx-background-spinner.fast-closing[_ngcontent-%COMP%]{transition:opacity .4s ease-out!important}.ngx-position-absolute[_ngcontent-%COMP%]{position:absolute!important}.ngx-position-absolute[_ngcontent-%COMP%] > .ngx-foreground-spinner[_ngcontent-%COMP%], .ngx-position-absolute[_ngcontent-%COMP%] > .ngx-loading-logo[_ngcontent-%COMP%], .ngx-position-absolute[_ngcontent-%COMP%] > .ngx-loading-text[_ngcontent-%COMP%]{position:absolute!important}.ngx-position-absolute.ngx-progress-bar[_ngcontent-%COMP%]{z-index:99996!important}.ngx-position-absolute.ngx-overlay[_ngcontent-%COMP%]{z-index:99995!important}.ngx-position-absolute.ngx-background-spinner[_ngcontent-%COMP%]{z-index:99994!important}.ngx-position-absolute[_ngcontent-%COMP%]   .sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){z-index:99994!important}.top-left[_ngcontent-%COMP%]{top:30px;left:30px}.top-center[_ngcontent-%COMP%]{top:30px;left:50%;transform:translate(-50%)}.top-right[_ngcontent-%COMP%]{top:30px;right:30px}.center-left[_ngcontent-%COMP%]{top:50%;left:30px;transform:translateY(-50%)}.center-center[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.center-right[_ngcontent-%COMP%]{top:50%;right:30px;transform:translateY(-50%)}.bottom-left[_ngcontent-%COMP%]{bottom:30px;left:30px}.bottom-center[_ngcontent-%COMP%]{bottom:30px;left:50%;transform:translate(-50%)}.bottom-right[_ngcontent-%COMP%]{bottom:30px;right:30px}.sk-ball-scale-multiple[_ngcontent-%COMP%], .sk-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-scale-multiple[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0}.sk-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:100%;opacity:0;animation:ball-scale-multiple 1s 0s linear infinite}.sk-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.sk-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}@keyframes ball-scale-multiple{0%{opacity:0;transform:scale(0)}5%{opacity:.75}to{opacity:0;transform:scale(1)}}.sk-ball-spin[_ngcontent-%COMP%], .sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-spin[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:25%;height:25%;margin-top:-12.5%;margin-left:-12.5%;border-radius:100%;animation:ball-spin-clockwise 1s infinite ease-in-out}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;animation-delay:-1.125s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;animation-delay:-1.25s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;animation-delay:-1.375s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;animation-delay:-1.5s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;animation-delay:-1.625s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;animation-delay:-1.75s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;animation-delay:-1.875s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;animation-delay:-2s}@keyframes ball-spin{0%,to{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}.sk-ball-spin-clockwise[_ngcontent-%COMP%], .sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-spin-clockwise[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:25%;height:25%;margin-top:-12.5%;margin-left:-12.5%;border-radius:100%;animation:ball-spin-clockwise 1s infinite ease-in-out}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;animation-delay:-.875s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;animation-delay:-.75s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;animation-delay:-.625s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;animation-delay:-.5s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;animation-delay:-.375s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;animation-delay:-.25s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;animation-delay:-.125s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;animation-delay:0s}@keyframes ball-spin-clockwise{0%,to{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%], .sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{font-size:0;width:100%;height:100%;animation:ball-spin-clockwise-fade-rotating-rotate 6s infinite linear}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:25%;height:25%;margin-top:-12.5%;margin-left:-12.5%;border-radius:100%;animation:ball-spin-clockwise-fade-rotating 1s infinite linear}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;animation-delay:-.875s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;animation-delay:-.75s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;animation-delay:-.625s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;animation-delay:-.5s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;animation-delay:-.375s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;animation-delay:-.25s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;animation-delay:-.125s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;animation-delay:0s}@keyframes ball-spin-clockwise-fade-rotating-rotate{to{transform:rotate(-360deg)}}@keyframes ball-spin-clockwise-fade-rotating{50%{opacity:.25;transform:scale(.5)}to{opacity:1;transform:scale(1)}}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%], .sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0;animation:ball-spin-fade-rotate 6s infinite linear}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:25%;height:25%;margin-top:-12.5%;margin-left:-12.5%;border-radius:100%;animation:ball-spin-fade 1s infinite linear}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;animation-delay:-1.125s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;animation-delay:-1.25s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;animation-delay:-1.375s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;animation-delay:-1.5s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;animation-delay:-1.625s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;animation-delay:-1.75s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;animation-delay:-1.875s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;animation-delay:-2s}@keyframes ball-spin-fade-rotate{to{transform:rotate(360deg)}}@keyframes ball-spin-fade{0%,to{opacity:1;transform:scale(1)}50%{opacity:.25;transform:scale(.5)}}.sk-chasing-dots[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:absolute;text-align:center;animation:sk-chasingDots-rotate 2s infinite linear}.sk-chasing-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:60%;height:60%;display:inline-block;position:absolute;top:0;background-color:currentColor;border-radius:100%;animation:sk-chasingDots-bounce 2s infinite ease-in-out}.sk-chasing-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:auto;bottom:0;animation-delay:-1s}@keyframes sk-chasingDots-rotate{to{transform:rotate(360deg)}}@keyframes sk-chasingDots-bounce{0%,to{transform:scale(0)}50%{transform:scale(1)}}.sk-circle[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:relative}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{content:"";display:block;margin:0 auto;width:15%;height:15%;background-color:currentColor;border-radius:100%;animation:sk-circle-bounceDelay 1.2s infinite ease-in-out both}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2):before{animation-delay:-1.1s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3):before{animation-delay:-1s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4):before{animation-delay:-.9s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5):before{animation-delay:-.8s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6):before{animation-delay:-.7s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7):before{animation-delay:-.6s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8):before{animation-delay:-.5s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9):before{animation-delay:-.4s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10):before{animation-delay:-.3s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11):before{animation-delay:-.2s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12):before{animation-delay:-.1s}@keyframes sk-circle-bounceDelay{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}.sk-cube-grid[_ngcontent-%COMP%]{width:100%;height:100%;margin:auto}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:33%;height:33%;background-color:currentColor;float:left;animation:sk-cubeGrid-scaleDelay 1.3s infinite ease-in-out}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){animation-delay:.2s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:.3s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){animation-delay:.1s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){animation-delay:.2s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){animation-delay:.3s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){animation-delay:0s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){animation-delay:.1s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){animation-delay:.2s}@keyframes sk-cubeGrid-scaleDelay{0%,70%,to{transform:scaleZ(1)}35%{transform:scale3D(0,0,1)}}.sk-double-bounce[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;margin:auto}.sk-double-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;background-color:currentColor;opacity:.6;position:absolute;top:0;left:0;animation:sk-doubleBounce-bounce 2s infinite ease-in-out}.sk-double-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-1s}@keyframes sk-doubleBounce-bounce{0%,to{transform:scale(0)}50%{transform:scale(1)}}.sk-fading-circle[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:relative}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{content:"";display:block;margin:0 auto;width:15%;height:15%;background-color:currentColor;border-radius:100%;animation:sk-fadingCircle-FadeDelay 1.2s infinite ease-in-out both}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2):before{animation-delay:-1.1s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3):before{animation-delay:-1s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4):before{animation-delay:-.9s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5):before{animation-delay:-.8s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6):before{animation-delay:-.7s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7):before{animation-delay:-.6s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8):before{animation-delay:-.5s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9):before{animation-delay:-.4s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10):before{animation-delay:-.3s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11):before{animation-delay:-.2s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12):before{animation-delay:-.1s}@keyframes sk-fadingCircle-FadeDelay{0%,39%,to{opacity:0}40%{opacity:1}}.sk-folding-cube[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:relative;transform:rotate(45deg)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{float:left;width:50%;height:50%;position:relative;transform:scale(1.1)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:currentColor;animation:sk-foldingCube-angle 2.4s infinite linear both;transform-origin:100% 100%}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){transform:scale(1.1) rotate(90deg)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){transform:scale(1.1) rotate(270deg)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){transform:scale(1.1) rotate(180deg)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2):before{animation-delay:.3s}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3):before{animation-delay:.9s}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4):before{animation-delay:.6s}@keyframes sk-foldingCube-angle{0%,10%{transform:perspective(140px) rotateX(-180deg);opacity:0}25%,75%{transform:perspective(140px) rotateX(0);opacity:1}90%,to{transform:perspective(140px) rotateY(180deg);opacity:0}}.sk-pulse[_ngcontent-%COMP%]{width:100%;height:100%;margin:auto}.sk-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;background-color:currentColor;border-radius:100%;animation:sk-pulse-scaleOut 1s infinite ease-in-out}@keyframes sk-pulse-scaleOut{0%{transform:scale(0)}to{transform:scale(1);opacity:0}}.sk-rectangle-bounce[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center;font-size:0}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;height:100%;width:10%;margin:0 5%;display:inline-block;animation:sk-rectangleBounce-stretchDelay 1.2s infinite ease-in-out}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-1.1s}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-1s}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.9s}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.8s}@keyframes sk-rectangleBounce-stretchDelay{0%,40%,to{transform:scaleY(.4)}20%{transform:scaleY(1)}}.sk-rectangle-bounce-party[_ngcontent-%COMP%], .sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-rectangle-bounce-party[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center;font-size:0}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10%;height:100%;margin:0 5%;border-radius:0;animation-name:rectangle-bounce-party;animation-iteration-count:infinite}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){animation-duration:.43s;animation-delay:-.23s}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-duration:.62s;animation-delay:-.32s}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-duration:.43s;animation-delay:-.44s}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){animation-duration:.8s;animation-delay:-.31s}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){animation-duration:.74s;animation-delay:-.24s}@keyframes rectangle-bounce-party{0%{transform:scaleY(1)}50%{transform:scaleY(.4)}to{transform:scaleY(1)}}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%], .sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center;font-size:0}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10%;height:100%;margin:0 5%;border-radius:0;animation:rectangle-bounce-pulse-out .9s infinite cubic-bezier(.85,.25,.37,.85)}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.9s}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.7s}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.5s}@keyframes rectangle-bounce-pulse-out{0%{transform:scaley(1)}50%{transform:scaley(.4)}to{transform:scaley(1)}}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%], .sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center;font-size:0}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10%;height:100%;margin:0 5%;border-radius:0;animation:rectangle-bounce-pulse-out-rapid .9s infinite cubic-bezier(.11,.49,.38,.78)}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.9s}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.65s}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.4s}@keyframes rectangle-bounce-pulse-out-rapid{0%{transform:scaley(1)}80%{transform:scaley(.4)}90%{transform:scaley(1)}}.sk-rotating-plane[_ngcontent-%COMP%]{width:100%;height:100%;text-align:center;margin:auto}.sk-rotating-plane[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;background-color:currentColor;animation:sk-rotatePlane 1.2s infinite ease-in-out}@keyframes sk-rotatePlane{0%{transform:perspective(120px) rotateX(0) rotateY(0)}50%{transform:perspective(120px) rotateX(-180.1deg) rotateY(0)}to{transform:perspective(120px) rotateX(-180deg) rotateY(-179.9deg)}}.sk-square-jelly-box[_ngcontent-%COMP%], .sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-square-jelly-box[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0}.sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){position:absolute;left:0;width:100%}.sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:-25%;z-index:99997;height:100%;border-radius:10%;animation:square-jelly-box-animate .6s -.1s linear infinite}.sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){bottom:-9%;height:10%;background:#000;border-radius:50%;opacity:.2;animation:square-jelly-box-shadow .6s -.1s linear infinite}@keyframes square-jelly-box-animate{17%{border-bottom-right-radius:10%}25%{transform:translateY(25%) rotate(22.5deg)}50%{border-bottom-right-radius:100%;transform:translateY(50%) scaleY(.9) rotate(45deg)}75%{transform:translateY(25%) rotate(67.5deg)}to{transform:translateY(0) rotate(90deg)}}@keyframes square-jelly-box-shadow{50%{transform:scaleX(1.25)}}.sk-square-loader[_ngcontent-%COMP%], .sk-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-square-loader[_ngcontent-%COMP%]{font-size:0;width:100%;height:100%}.sk-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;background:transparent;border-width:3px;border-radius:0;animation:square-loader 2s infinite ease}.sk-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{display:inline-block;width:100%;vertical-align:top;content:"";background-color:currentColor;animation:square-loader-inner 2s infinite ease-in}@keyframes square-loader{0%{transform:rotate(0)}25%{transform:rotate(180deg)}50%{transform:rotate(180deg)}75%{transform:rotate(360deg)}to{transform:rotate(360deg)}}@keyframes square-loader-inner{0%{height:0}25%{height:0}50%{height:100%}75%{height:100%}to{height:0}}.sk-three-bounce[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center}.sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:35%;width:30%;height:30%;background-color:currentColor;border-radius:100%;display:inline-block;animation:sk-threeBounce-bounceDelay 1.4s infinite ease-in-out both}.bottom-center[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .bottom-left[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .bottom-right[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:70%!important}.top-center[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .top-left[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .top-right[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:0!important}.sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.32s}.sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.16s}@keyframes sk-threeBounce-bounceDelay{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}.sk-three-strings[_ngcontent-%COMP%]{width:100%;height:100%}.sk-three-strings[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;box-sizing:border-box;width:100%;height:100%;border-radius:50%}.sk-three-strings[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){left:0%;top:0%;animation:sk-threeStrings-rotateOne 1s linear infinite;border-bottom:3px solid currentColor}.sk-three-strings[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){right:0%;top:0%;animation:sk-threeStrings-rotateTwo 1s linear infinite;border-right:3px solid currentColor}.sk-three-strings[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){right:0%;bottom:0%;animation:sk-threeStrings-rotateThree 1s linear infinite;border-top:3px solid currentColor}@keyframes sk-threeStrings-rotateOne{0%{transform:rotateX(35deg) rotateY(-45deg) rotate(0)}to{transform:rotateX(35deg) rotateY(-45deg) rotate(360deg)}}@keyframes sk-threeStrings-rotateTwo{0%{transform:rotateX(50deg) rotateY(10deg) rotate(0)}to{transform:rotateX(50deg) rotateY(10deg) rotate(360deg)}}@keyframes sk-threeStrings-rotateThree{0%{transform:rotateX(35deg) rotateY(55deg) rotate(0)}to{transform:rotateX(35deg) rotateY(55deg) rotate(360deg)}}.sk-wandering-cubes[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:relative;text-align:center}.sk-wandering-cubes[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;width:25%;height:25%;position:absolute;top:0;left:0;animation:sk-wanderingCubes-cubeMove 1.8s infinite ease-in-out}.sk-wandering-cubes[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.9s}@keyframes sk-wanderingCubes-cubeMove{25%{transform:translate(290%) rotate(-90deg) scale(.5)}50%{transform:translate(290%) translateY(290%) rotate(-179deg)}50.1%{transform:translate(290%) translateY(290%) rotate(-180deg)}75%{transform:translate(0) translateY(290%) rotate(-270deg) scale(.5)}to{transform:rotate(-360deg)}}'],changeDetection:0}),n})(),i2=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:qO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[fu]]}),n})();const GO=new c.OlP("ngxUiLoaderRouterCustom.config");function ZO(n,e,t){return!!(e&&-1!==e.findIndex(r=>n.toLowerCase().startsWith(r))||t&&-1!==t.findIndex(r=>r.test(n)))}let o2=(()=>{class n{constructor(t,r,i,u){if(t)throw new Error("[ngx-ui-loader] - NgxUiLoaderRouterModule is already loaded. It should be imported in the root `AppModule` only!");let d={loaderId:u.getDefaultConfig().masterLoaderId,showForeground:!0};this.exclude=function s2(n){let e,t;return n&&(n.exclude&&(e=n.exclude.map(r=>r.toLowerCase())),n.excludeRegexp&&(t=n.excludeRegexp.map(r=>new RegExp(r,"i")))),{strs:e,regExps:t}}(r),r&&(d=Object.assign(Object.assign({},d),r)),i.events.subscribe(m=>{m instanceof T&&(ZO(m.url,this.exclude.strs,this.exclude.regExps)||(d.showForeground?u.startLoader(d.loaderId,nI):u.startBackgroundLoader(d.loaderId,nI))),(m instanceof P||m instanceof z||m instanceof fe)&&(ZO(m.url,this.exclude.strs,this.exclude.regExps)||(d.showForeground?u.stopLoader(d.loaderId,nI):u.stopBackgroundLoader(d.loaderId,nI)))})}static forRoot(t){return{ngModule:n,providers:[{provide:GO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12),c.LFG(GO,8),c.LFG(_n),c.LFG(eg))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function a2(n,e){1&n&&(c.TgZ(0,"span",15)(1,"div",16),c._uU(2," Enter correct Security code "),c.qZA()())}function u2(n,e){1&n&&(c.TgZ(0,"span",15)(1,"div",16),c._uU(2," Enter your password "),c.qZA()())}new c.OlP("ngxUiLoaderHttpCustom.config");let c2=(()=>{class n{constructor(t,r,i,u,d){this.afAuth=t,this.router=r,this.db=i,this.sharedService=u,this.ngxService=d,this.loginForm=new ku({userId:new yn("",Pt.compose([Pt.required,Pt.minLength(6)])),password:new yn("",Pt.compose([Pt.required]))})}ngOnInit(){}doLogin(t){t.valid&&(this.ngxService.start(),this.db.loginUser(t.value.userId,t.value.password),this.ngxService.stop())}popUp(){this.router.navigate(["../forgotPass"])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ll),c.Y36(_n),c.Y36(Xp),c.Y36(lc),c.Y36(eg))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:21,vars:3,consts:[[1,"bg-dark","bg-opacity-50","login","p-4"],[1,"text-center"],["xmlns","http://www.w3.org/2000/svg","height","45","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-people","text-white"],["d","M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"],[1,"myForm",3,"formGroup","ngSubmit"],[1,"form-outline","my-4"],["for","form2Example1",1,"form-label","text-white"],["type","text","id","form2Example1","name","userId","formControlName","userId","placeholder","Security Code",1,"form-control"],["class","m-0 p-0",4,"ngIf"],[1,"form-outline","mb-4"],["for","form2Example2",1,"form-label","text-white"],["type","password","id","form2Example2","formControlName","password","placeholder","Enter Password",1,"form-control"],[1,"form-outline","mb-4","text-end",3,"click"],[1,"text-white"],["type","submit",1,"btn","btn-primary","btn","w-100","mt-3","mb-4","fw-bold"],[1,"m-0","p-0"],[1,"text-danger"]],template:function(t,r){1&t&&(c._UZ(0,"ngx-ui-loader"),c.TgZ(1,"main",0)(2,"div",1),c.O4$(),c.TgZ(3,"svg",2),c._UZ(4,"path",3),c.qZA()(),c.kcU(),c.TgZ(5,"form",4),c.NdJ("ngSubmit",function(){return r.doLogin(r.loginForm)}),c.TgZ(6,"div",5)(7,"label",6),c._uU(8,"Organization Security Code"),c.qZA(),c._UZ(9,"input",7),c.YNc(10,a2,3,0,"span",8),c.qZA(),c.TgZ(11,"div",9)(12,"label",10),c._uU(13,"Password"),c.qZA(),c._UZ(14,"input",11),c.YNc(15,u2,3,0,"span",8),c.qZA(),c.TgZ(16,"div",12),c.NdJ("click",function(){return r.popUp()}),c.TgZ(17,"a",13),c._uU(18,"Forgot Password?"),c.qZA()(),c.TgZ(19,"button",14),c._uU(20,"Sign in"),c.qZA()()()),2&t&&(c.xp6(5),c.Q6J("formGroup",r.loginForm),c.xp6(5),c.Q6J("ngIf",r.loginForm.controls.userId.invalid&&(r.loginForm.controls.userId.dirty||r.loginForm.controls.userId.touched)),c.xp6(5),c.Q6J("ngIf",r.loginForm.controls.password.invalid&&(r.loginForm.controls.password.dirty||r.loginForm.controls.password.touched)))},directives:[su,ps,Fs,fo,Tr,Nn,Bs,pn],styles:[".logo[_ngcontent-%COMP%]{height:4rem}.login[_ngcontent-%COMP%]{max-width:35%!important;border-radius:10px;margin-top:8%;margin-left:10%}.btn-primary[_ngcontent-%COMP%]{background-color:#3f6bb0;border-color:#3f6bb0}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#476fb0;border-color:#476fb0}.text[_ngcontent-%COMP%]{font-size:1rem;float:left}@media screen and (max-width:992px){.login[_ngcontent-%COMP%]{max-width:70%!important;margin:30% auto auto}}@media screen and (max-width:440px){.login[_ngcontent-%COMP%]{max-width:85%!important}}"]}),n})(),Uh=(()=>{class n{constructor(t,r){this.router=t,this.sharedService=r}ngOnInit(){}goHome(){this.router.navigate(["../home"])}logOut(){this.sharedService.erase(),this.router.navigate(["../"])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(_n),c.Y36(lc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-nav"]],decls:14,vars:0,consts:[[1,"fixed-top","container","text-center","d-flex","justify-content-center"],[1,"desktop","row"],[1,"col-6","home",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-house-door-fill","text-white","mt-2","mb-2"],["d","M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5z"],[1,"text-white","text-decoration-none","ms-2"],[1,"col-6","bg-dark","opacity-75","logout",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-box-arrow-right","text-white","mt-2","mb-2"],["fill-rule","evenodd","d","M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"],["fill-rule","evenodd","d","M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"]],template:function(t,r){1&t&&(c._UZ(0,"ngx-ui-loader"),c.TgZ(1,"nav",0)(2,"div",1)(3,"div",2),c.NdJ("click",function(){return r.goHome()}),c.O4$(),c.TgZ(4,"svg",3),c._UZ(5,"path",4),c.qZA(),c.kcU(),c.TgZ(6,"a",5),c._uU(7,"Home"),c.qZA()(),c.TgZ(8,"div",6),c.NdJ("click",function(){return r.logOut()}),c.O4$(),c.TgZ(9,"svg",7),c._UZ(10,"path",8)(11,"path",9),c.qZA(),c.kcU(),c.TgZ(12,"a",5),c._uU(13,"Logout"),c.qZA()()()())},directives:[su],styles:[".home[_ngcontent-%COMP%]{background-color:#3f6bb0;cursor:pointer}.logout[_ngcontent-%COMP%]{cursor:pointer}.row[_ngcontent-%COMP%]{min-width:40%}@media screen and (max-width:999px){.row[_ngcontent-%COMP%]{min-width:100%!important}nav[_ngcontent-%COMP%]{padding:0}}"]}),n})();const l2=function(){return["/vverify"]},d2=function(){return["/checkout"]},h2=function(){return["/dailyVisitor"]},f2=function(){return["/preApp"]};let p2=(()=>{class n{constructor(t,r,i){this.sharedService=t,this.router=r,this.db=i}ngOnInit(){this.sharedService.get("userId")||(this.router.navigate([""]),console.log(this.sharedService.get("userId")));const t=this.sharedService.get("userId");this.userData=this.db.getuserData(t),this.sharedService.set("pageshift","false")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(lc),c.Y36(_n),c.Y36(Xp))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:30,vars:8,consts:[[1,"title","column","text-center","text-white"],[1,"fs-3","fw-bold","m-0"],[1,"container","row","bg-dark","opacity-75","text-white"],[1,"row"],[1,"col","bg-custom"],[1,"text-decoration-none","d-flex","justify-content-center","align-items-center",3,"routerLink"],["src","assets/check-in-desk_1.svg","height","105","alt","Check In"],["src","assets/check-out.svg","height","105","alt","Check Out"],["src","assets/id-card.svg","height","95","alt","Daily Visitor"],["src","assets/timetable.svg","height","95","alt","Pre-Appointment "]],template:function(t,r){1&t&&(c._UZ(0,"app-nav")(1,"ngx-ui-loader"),c.TgZ(2,"div",0)(3,"h1",1),c._uU(4,"WELCOME TO U-SMART"),c.qZA()(),c.TgZ(5,"div",2)(6,"div",3)(7,"div",4)(8,"a",5)(9,"h2"),c._uU(10,"Check In"),c.qZA(),c._UZ(11,"img",6),c.qZA()(),c.TgZ(12,"div",4)(13,"a",5)(14,"h2"),c._uU(15,"Check Out"),c.qZA(),c._UZ(16,"img",7),c.qZA()()(),c.TgZ(17,"div",3)(18,"div",4)(19,"a",5)(20,"h2"),c._uU(21,"Daily Visitor"),c.qZA(),c._UZ(22,"img",8),c.qZA()(),c.TgZ(23,"div",4)(24,"a",5)(25,"h2"),c._uU(26,"Pre"),c._UZ(27,"br"),c._uU(28,"Appointment"),c.qZA(),c._UZ(29,"img",9),c.qZA()()()()),2&t&&(c.xp6(8),c.Q6J("routerLink",c.DdM(4,l2)),c.xp6(5),c.Q6J("routerLink",c.DdM(5,d2)),c.xp6(6),c.Q6J("routerLink",c.DdM(6,h2)),c.xp6(5),c.Q6J("routerLink",c.DdM(7,f2)))},directives:[Uh,su,al],styles:[".container[_ngcontent-%COMP%]{padding:1.5rem;margin:2% auto auto 10%;max-width:60%;border-radius:1.5rem;justify-content:space-evenly}h2[_ngcontent-%COMP%]{color:#000;font-size:1.4rem;font-weight:700}img[_ngcontent-%COMP%]{margin-left:1rem}.bg-custom[_ngcontent-%COMP%]{background:rgb(243,243,243);padding:1rem;margin:1rem;border-radius:1rem}@media screen and (max-width:999px){.container[_ngcontent-%COMP%]{margin:auto;max-width:-moz-fit-content;max-width:fit-content;margin-top:1rem;margin:.5rem;padding:1rem}}@media screen and (max-height:750px){.container[_ngcontent-%COMP%]{margin-bottom:4rem}}@media screen and (min-height:1000px){.container[_ngcontent-%COMP%]{margin-top:30%}}"]}),n})();const iI_firebase={apiKey:"AIzaSyBxaYPOaPxKDSo_OZDrRZQkNPY9x1uPtIo",authDomain:"usmart-vms.firebaseapp.com",projectId:"usmart-vms",storageBucket:"usmart-vms.appspot.com",messagingSenderId:"1068371710787",appId:"1:1068371710787:web:08952a7cbe983cde0595f6",measurementId:"G-0NSJW3LHPF"};class zO{}class WO{}class Vl{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),u=i.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(d):this.headers.set(u,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Vl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Vl;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Vl?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const u=e.value;if(u){let d=this.headers.get(t);if(!d)return;d=d.filter(m=>-1===u.indexOf(m)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class g2{encodeKey(e){return KO(e)}encodeValue(e){return KO(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const y2=/%(\d[a-f0-9])/gi,_2={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function KO(n){return encodeURIComponent(n).replace(y2,(e,t)=>{var r;return null!==(r=_2[t])&&void 0!==r?r:e})}function YO(n){return`${n}`}class Vh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new g2,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function m2(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[d,m]=-1==u?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,u)),e.decodeValue(i.slice(u+1))],v=t.get(d)||[];v.push(m),t.set(d,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Vh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(YO(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(YO(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class v2{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function JO(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function QO(n){return"undefined"!=typeof Blob&&n instanceof Blob}function XO(n){return"undefined"!=typeof FormData&&n instanceof FormData}class nb{constructor(e,t,r,i){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function b2(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,u=i):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new Vl),this.context||(this.context=new v2),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+d}}else this.params=new Vh,this.urlWithParams=t}serializeBody(){return null===this.body?null:JO(this.body)||QO(this.body)||XO(this.body)||function w2(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Vh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||XO(this.body)?null:QO(this.body)?this.body.type||null:JO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Vh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,u=e.responseType||this.responseType,d=void 0!==e.body?e.body:this.body,m=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,v=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let E=e.headers||this.headers,S=e.params||this.params;const M=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(E=Object.keys(e.setHeaders).reduce((U,q)=>U.set(q,e.setHeaders[q]),E)),e.setParams&&(S=Object.keys(e.setParams).reduce((U,q)=>U.set(q,e.setParams[q]),S)),new nb(r,i,d,{params:S,headers:E,context:M,reportProgress:v,responseType:u,withCredentials:m})}}var Rr=(()=>((Rr=Rr||{})[Rr.Sent=0]="Sent",Rr[Rr.UploadProgress=1]="UploadProgress",Rr[Rr.ResponseHeader=2]="ResponseHeader",Rr[Rr.DownloadProgress=3]="DownloadProgress",Rr[Rr.Response=4]="Response",Rr[Rr.User=5]="User",Rr))();class LS{constructor(e,t=200,r="OK"){this.headers=e.headers||new Vl,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class US extends LS{constructor(e={}){super(e),this.type=Rr.ResponseHeader}clone(e={}){return new US({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class sI extends LS{constructor(e={}){super(e),this.type=Rr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new sI({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class eP extends LS{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function VS(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let BS=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let u;if(t instanceof nb)u=t;else{let v,E;v=i.headers instanceof Vl?i.headers:new Vl(i.headers),i.params&&(E=i.params instanceof Vh?i.params:new Vh({fromObject:i.params})),u=new nb(t,r,void 0!==i.body?i.body:null,{headers:v,context:i.context,params:E,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=ht(u).pipe(Vu(v=>this.handler.handle(v)));if(t instanceof nb||"events"===i.observe)return d;const m=d.pipe(rr(v=>v instanceof sI));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return m.pipe((0,mt.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return m.pipe((0,mt.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return m.pipe((0,mt.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return m.pipe((0,mt.U)(v=>v.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Vh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,VS(i,r))}post(t,r,i={}){return this.request("POST",t,VS(i,r))}put(t,r,i={}){return this.request("PUT",t,VS(i,r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(zO))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class tP{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const nP=new c.OlP("HTTP_INTERCEPTORS");let C2=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const E2=/^\)\]\}',?\n/;let rP=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Zi.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((q,K)=>i.setRequestHeader(q,K.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const q=t.detectContentTypeHeader();null!==q&&i.setRequestHeader("Content-Type",q)}if(t.responseType){const q=t.responseType.toLowerCase();i.responseType="json"!==q?q:"text"}const u=t.serializeBody();let d=null;const m=()=>{if(null!==d)return d;const q=i.statusText||"OK",K=new Vl(i.getAllResponseHeaders()),Se=function I2(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return d=new US({headers:K,status:i.status,statusText:q,url:Se}),d},v=()=>{let{headers:q,status:K,statusText:Se,url:Fe}=m(),rt=null;204!==K&&(rt=void 0===i.response?i.responseText:i.response),0===K&&(K=rt?200:0);let ct=K>=200&&K<300;if("json"===t.responseType&&"string"==typeof rt){const _t=rt;rt=rt.replace(E2,"");try{rt=""!==rt?JSON.parse(rt):null}catch(st){rt=_t,ct&&(ct=!1,rt={error:st,text:rt})}}ct?(r.next(new sI({body:rt,headers:q,status:K,statusText:Se,url:Fe||void 0})),r.complete()):r.error(new eP({error:rt,headers:q,status:K,statusText:Se,url:Fe||void 0}))},E=q=>{const{url:K}=m(),Se=new eP({error:q,status:i.status||0,statusText:i.statusText||"Unknown Error",url:K||void 0});r.error(Se)};let S=!1;const M=q=>{S||(r.next(m()),S=!0);let K={type:Rr.DownloadProgress,loaded:q.loaded};q.lengthComputable&&(K.total=q.total),"text"===t.responseType&&!!i.responseText&&(K.partialText=i.responseText),r.next(K)},U=q=>{let K={type:Rr.UploadProgress,loaded:q.loaded};q.lengthComputable&&(K.total=q.total),r.next(K)};return i.addEventListener("load",v),i.addEventListener("error",E),i.addEventListener("timeout",E),i.addEventListener("abort",E),t.reportProgress&&(i.addEventListener("progress",M),null!==u&&i.upload&&i.upload.addEventListener("progress",U)),i.send(u),r.next({type:Rr.Sent}),()=>{i.removeEventListener("error",E),i.removeEventListener("abort",E),i.removeEventListener("load",v),i.removeEventListener("timeout",E),t.reportProgress&&(i.removeEventListener("progress",M),null!==u&&i.upload&&i.upload.removeEventListener("progress",U)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(en))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const jS=new c.OlP("XSRF_COOKIE_NAME"),HS=new c.OlP("XSRF_HEADER_NAME");class iP{}let D2=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Mo(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue),c.LFG(c.Lbi),c.LFG(jS))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),$S=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const u=this.tokenService.getToken();return null!==u&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,u)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(iP),c.LFG(HS))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),T2=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(nP,[]);this.chain=r.reduceRight((i,u)=>new tP(i,u),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(WO),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),A2=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:$S,useClass:C2}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:jS,useValue:t.cookieName}:[],t.headerName?{provide:HS,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[$S,{provide:nP,useExisting:$S,multi:!0},{provide:iP,useClass:D2},{provide:jS,useValue:"XSRF-TOKEN"},{provide:HS,useValue:"X-XSRF-TOKEN"}]}),n})(),S2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[BS,{provide:zO,useClass:T2},rP,{provide:WO,useExisting:rP}],imports:[[A2.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();function x2(n,e){1&n&&(c.TgZ(0,"small",13),c._uU(1,"Mobile number is required"),c.qZA())}function M2(n,e){1&n&&(c.TgZ(0,"small",13),c._uU(1,"Please provide a valid mobile number"),c.qZA())}function O2(n,e){if(1&n&&(c.TgZ(0,"span",11)(1,"div"),c.YNc(2,x2,2,0,"small",12),c.YNc(3,M2,2,0,"small",12),c.qZA()()),2&n){const t=c.oxw();c.xp6(2),c.Q6J("ngIf",null==t.verifyForm.controls.mob.errors?null:t.verifyForm.controls.mob.errors.required),c.xp6(1),c.Q6J("ngIf",(null==t.verifyForm.controls.mob.errors?null:t.verifyForm.controls.mob.errors.minlength)||(null==t.verifyForm.controls.mob.errors?null:t.verifyForm.controls.mob.errors.maxlength))}}function P2(n,e){1&n&&(c.TgZ(0,"small",13),c._uU(1,"OTP is required"),c.qZA())}function k2(n,e){1&n&&(c.TgZ(0,"small",13),c._uU(1,"Please provide a valid OTP"),c.qZA())}function R2(n,e){if(1&n&&(c.TgZ(0,"span",11)(1,"div"),c.YNc(2,P2,2,0,"small",12),c.YNc(3,k2,2,0,"small",12),c.qZA()()),2&n){const t=c.oxw();c.xp6(2),c.Q6J("ngIf",null==t.verifyForm.controls.otp.errors?null:t.verifyForm.controls.otp.errors.required),c.xp6(1),c.Q6J("ngIf",(null==t.verifyForm.controls.otp.errors?null:t.verifyForm.controls.otp.errors.minlength)||(null==t.verifyForm.controls.otp.errors?null:t.verifyForm.controls.otp.errors.maxlength))}}const N2=function(n){return{display:n}};let F2=(()=>{class n{constructor(t,r,i,u){this.router=t,this.http=r,this.sharedService=i,this.ngxService=u,this.display="none",this.otp="",this.status="",this.verifyForm=new ku({mob:new yn("",Pt.compose([Pt.required,Pt.minLength(10),Pt.maxLength(10)])),otp:new yn("",Pt.compose([Pt.required,Pt.minLength(6),Pt.maxLength(6)]))})}ngOnInit(){this.sharedService.get("userId")||(this.router.navigate([""]),console.log(this.sharedService.get("userId")))}sendOTP(){if(10==this.verifyForm.value.mob.toString().length){const t="https://r0mgkjqdsb.execute-api.ap-south-1.amazonaws.com/testotp/sendotp?api=NGI3NjQ2Njg1NzYyMzY0NDc3NjE1ODUxNjU3ODQ1NTQ=&mobile="+this.verifyForm.value.mob;this.ngxService.start(),this.http.get(t).subscribe(r=>{this.data=r,this.status=this.data.status.toString(),this.status||this.ngxService.stop(),this.otp=this.data.message.content.toString().split(" ")[4].toString(),"success"==this.status&&(this.display="block",alert("OTP Sent Successfully!"),this.ngxService.stop())})}else alert("Enter correct Mobile Number")}goForm(){var t=this;return(0,se.Z)(function*(){"success"==t.status&&t.otp==t.verifyForm.value.otp?(t.ngxService.start(),t.sharedService.set("mobile",t.verifyForm.value.mob),alert("Verfication Successfull!"),t.ngxService.stop(),t.router.navigate(["form"])):alert("Incorrect OTP!!")})()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(_n),c.Y36(BS),c.Y36(lc),c.Y36(eg))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-vverify"]],decls:21,vars:6,consts:[[1,"title","column","text-center","text-white"],[1,"fs-3","fw-bold","m-0"],[1,"bg-dark","bg-opacity-50","vVerify","p-5","mt-3"],[1,"myForm",3,"formGroup"],[1,"form-outline","my-1"],["for","form2Example1",1,"form-label","text-white"],["type","text","id","form2Example1","formControlName","mob","name","no","minlength","10","placeholder","Mobile Number",1,"form-control"],["type","submit",1,"btn","btn-primary","btn","fw-bold","mt-3",3,"click"],["class","m-0 p-0",4,"ngIf"],["id","OtpVerification",1,"form-outline","my-1","mt-3",3,"ngStyle"],["type","text","id","form2Example1","formControlName","otp","placeholder","Enter OTP",1,"form-control"],[1,"m-0","p-0"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(t,r){1&t&&(c._UZ(0,"app-nav")(1,"ngx-ui-loader"),c.TgZ(2,"div",0)(3,"h1",1),c._uU(4,"WELCOME TO U-SMART"),c.qZA()(),c.TgZ(5,"main",2)(6,"form",3)(7,"div",4)(8,"label",5),c._uU(9,"Enter Visitor Mobile Number "),c.qZA(),c._UZ(10,"input",6),c.TgZ(11,"button",7),c.NdJ("click",function(){return r.sendOTP()}),c._uU(12,"Get OTP"),c.qZA(),c.YNc(13,O2,4,2,"span",8),c.qZA(),c.TgZ(14,"div",9)(15,"label",5),c._uU(16,"Verify OTP "),c.qZA(),c._UZ(17,"input",10),c.YNc(18,R2,4,2,"span",8),c.TgZ(19,"button",7),c.NdJ("click",function(){return r.goForm()}),c._uU(20,"Verify"),c.qZA()()()()),2&t&&(c.xp6(6),c.Q6J("formGroup",r.verifyForm),c.xp6(7),c.Q6J("ngIf",r.verifyForm.controls.mob.invalid&&(r.verifyForm.controls.mob.dirty||r.verifyForm.controls.mob.touched)),c.xp6(1),c.Q6J("ngStyle",c.VKq(4,N2,r.display)),c.xp6(4),c.Q6J("ngIf",r.verifyForm.controls.otp.invalid&&(r.verifyForm.controls.otp.dirty||r.verifyForm.controls.otp.touched)))},directives:[Uh,su,ps,Fs,fo,Tr,Nn,Bs,af,pn,ga],styles:[".vVerify[_ngcontent-%COMP%]{max-width:35%!important;border-radius:10px;margin-top:8%;margin-left:24%}.btn-primary[_ngcontent-%COMP%]{background-color:#3f6bb0;border-color:#3f6bb0}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#476fb0;border-color:#476fb0}.text[_ngcontent-%COMP%]{font-size:1rem;float:left}@media screen and (max-width:992px){.vVerify[_ngcontent-%COMP%]{max-width:70%!important;margin:auto}}@media screen and (max-width:440px){.vVerify[_ngcontent-%COMP%]{max-width:85%!important;margin:auto;padding:1.5rem!important}}a[_ngcontent-%COMP%]{color:#fff!important;text-decoration:underline!important}"]}),n})();const L2=["video"],U2=["canvas"];function V2(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",6),c.NdJ("click",function(){return c.CHM(t),c.oxw().rotateVideoInput(!0)}),c.qZA()}}class qS{constructor(e,t,r){this._mimeType=null,this._imageAsBase64=null,this._imageAsDataUrl=null,this._imageData=null,this._mimeType=t,this._imageAsDataUrl=e,this._imageData=r}static getDataFromDataUrl(e,t){return e.replace(`data:${t};base64,`,"")}get imageAsBase64(){return this._imageAsBase64?this._imageAsBase64:this._imageAsBase64=qS.getDataFromDataUrl(this._imageAsDataUrl,this._mimeType)}get imageAsDataUrl(){return this._imageAsDataUrl}get imageData(){return this._imageData}}let sP=(()=>{class n{constructor(){this.width=640,this.height=480,this.videoOptions=n.DEFAULT_VIDEO_OPTIONS,this.allowCameraSwitch=!0,this.captureImageData=!1,this.imageType=n.DEFAULT_IMAGE_TYPE,this.imageQuality=n.DEFAULT_IMAGE_QUALITY,this.imageCapture=new c.vpe,this.initError=new c.vpe,this.imageClick=new c.vpe,this.cameraSwitched=new c.vpe,this.availableVideoInputs=[],this.videoInitialized=!1,this.activeVideoInputIndex=-1,this.mediaStream=null,this.activeVideoSettings=null}set trigger(t){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.triggerSubscription=t.subscribe(()=>{this.takeSnapshot()})}set switchCamera(t){this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe(),this.switchCameraSubscription=t.subscribe(r=>{"string"==typeof r?this.switchToVideoInput(r):this.rotateVideoInput(!1!==r)})}static getMediaConstraintsForDevice(t,r){const i=r||this.DEFAULT_VIDEO_OPTIONS;return t&&(i.deviceId={exact:t}),i}static getDeviceIdFromMediaStreamTrack(t){if(t.getSettings&&t.getSettings()&&t.getSettings().deviceId)return t.getSettings().deviceId;if(t.getConstraints&&t.getConstraints()&&t.getConstraints().deviceId){const r=t.getConstraints().deviceId;return n.getValueFromConstrainDOMString(r)}}static getFacingModeFromMediaStreamTrack(t){if(t){if(t.getSettings&&t.getSettings()&&t.getSettings().facingMode)return t.getSettings().facingMode;if(t.getConstraints&&t.getConstraints()&&t.getConstraints().facingMode){const r=t.getConstraints().facingMode;return n.getValueFromConstrainDOMString(r)}}}static isUserFacing(t){const r=n.getFacingModeFromMediaStreamTrack(t);return!!r&&"user"===r.toLowerCase()}static getValueFromConstrainDOMString(t){if(t){if(t instanceof String)return String(t);if(Array.isArray(t)&&Array(t).length>0)return String(t[0]);if("object"==typeof t){if(t.exact)return String(t.exact);if(t.ideal)return String(t.ideal)}}return null}ngAfterViewInit(){this.detectAvailableDevices().then(()=>{this.switchToVideoInput(null)}).catch(t=>{this.initError.next({message:t}),this.switchToVideoInput(null)})}ngOnDestroy(){this.stopMediaTracks(),this.unsubscribeFromSubscriptions()}takeSnapshot(){const t=this.nativeVideoElement,r={width:this.width,height:this.height};t.videoWidth&&(r.width=t.videoWidth,r.height=t.videoHeight);const i=this.canvas.nativeElement;i.width=r.width,i.height=r.height;const u=i.getContext("2d");u.drawImage(t,0,0);const d=this.imageType?this.imageType:n.DEFAULT_IMAGE_TYPE,v=i.toDataURL(d,this.imageQuality?this.imageQuality:n.DEFAULT_IMAGE_QUALITY);let E=null;this.captureImageData&&(E=u.getImageData(0,0,i.width,i.height)),this.imageCapture.next(new qS(v,d,E))}rotateVideoInput(t){this.availableVideoInputs&&this.availableVideoInputs.length>1&&this.switchToVideoInput(this.availableVideoInputs[(this.activeVideoInputIndex+(t?1:this.availableVideoInputs.length-1))%this.availableVideoInputs.length].deviceId)}switchToVideoInput(t){this.videoInitialized=!1,this.stopMediaTracks(),this.initWebcam(t,this.videoOptions)}videoResize(){}get videoWidth(){const t=this.getVideoAspectRatio();return Math.min(this.width,this.height*t)}get videoHeight(){const t=this.getVideoAspectRatio();return Math.min(this.height,this.width/t)}get videoStyleClasses(){let t="";return this.isMirrorImage()&&(t+="mirrored "),t.trim()}get nativeVideoElement(){return this.video.nativeElement}getVideoAspectRatio(){const t=this.nativeVideoElement;return t.videoWidth&&t.videoWidth>0&&t.videoHeight&&t.videoHeight>0?t.videoWidth/t.videoHeight:this.width/this.height}initWebcam(t,r){const i=this.nativeVideoElement;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){const u=n.getMediaConstraintsForDevice(t,r);navigator.mediaDevices.getUserMedia({video:u}).then(d=>{this.mediaStream=d,i.srcObject=d,i.play(),this.activeVideoSettings=d.getVideoTracks()[0].getSettings();const m=n.getDeviceIdFromMediaStreamTrack(d.getVideoTracks()[0]);this.cameraSwitched.next(m),this.detectAvailableDevices().then(()=>{this.activeVideoInputIndex=m?this.availableVideoInputs.findIndex(v=>v.deviceId===m):-1,this.videoInitialized=!0}).catch(()=>{this.activeVideoInputIndex=-1,this.videoInitialized=!0})}).catch(d=>{this.initError.next({message:d.message,mediaStreamError:d})})}else this.initError.next({message:"Cannot read UserMedia from MediaDevices."})}getActiveVideoTrack(){return this.mediaStream?this.mediaStream.getVideoTracks()[0]:null}isMirrorImage(){if(!this.getActiveVideoTrack())return!1;{let t="auto";switch(this.mirrorImage&&("string"==typeof this.mirrorImage?t=String(this.mirrorImage).toLowerCase():this.mirrorImage.x&&(t=this.mirrorImage.x.toLowerCase())),t){case"always":return!0;case"never":return!1}}return n.isUserFacing(this.getActiveVideoTrack())}stopMediaTracks(){this.mediaStream&&this.mediaStream.getTracks&&(this.nativeVideoElement.pause(),this.mediaStream.getTracks().forEach(t=>t.stop()))}unsubscribeFromSubscriptions(){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe()}detectAvailableDevices(){return new Promise((t,r)=>{(class B2{static getAvailableVideoInputs(){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?new Promise((e,t)=>{navigator.mediaDevices.enumerateDevices().then(r=>{e(r.filter(i=>"videoinput"===i.kind))}).catch(r=>{t(r.message||r)})}):Promise.reject("enumerateDevices() not supported.")}}).getAvailableVideoInputs().then(i=>{this.availableVideoInputs=i,t(i)}).catch(i=>{this.availableVideoInputs=[],r(i)})})}}return n.DEFAULT_VIDEO_OPTIONS={facingMode:"environment"},n.DEFAULT_IMAGE_TYPE="image/jpeg",n.DEFAULT_IMAGE_QUALITY=.92,n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["webcam"]],viewQuery:function(t,r){if(1&t&&(c.Gf(L2,7),c.Gf(U2,7)),2&t){let i;c.iGM(i=c.CRH())&&(r.video=i.first),c.iGM(i=c.CRH())&&(r.canvas=i.first)}},inputs:{width:"width",height:"height",videoOptions:"videoOptions",allowCameraSwitch:"allowCameraSwitch",mirrorImage:"mirrorImage",captureImageData:"captureImageData",imageType:"imageType",imageQuality:"imageQuality",trigger:"trigger",switchCamera:"switchCamera"},outputs:{imageCapture:"imageCapture",initError:"initError",imageClick:"imageClick",cameraSwitched:"cameraSwitched"},decls:6,vars:7,consts:[[1,"webcam-wrapper",3,"click"],["autoplay","","muted","","playsinline","",3,"width","height","resize"],["video",""],["class","camera-switch",3,"click",4,"ngIf"],[3,"width","height"],["canvas",""],[1,"camera-switch",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.NdJ("click",function(){return r.imageClick.next()}),c.TgZ(1,"video",1,2),c.NdJ("resize",function(){return r.videoResize()}),c.qZA(),c.YNc(3,V2,1,0,"div",3),c._UZ(4,"canvas",4,5),c.qZA()),2&t&&(c.xp6(1),c.Tol(r.videoStyleClasses),c.Q6J("width",r.videoWidth)("height",r.videoHeight),c.xp6(2),c.Q6J("ngIf",r.allowCameraSwitch&&r.availableVideoInputs.length>1&&r.videoInitialized),c.xp6(1),c.Q6J("width",r.width)("height",r.height))},directives:[pn],styles:[".webcam-wrapper[_ngcontent-%COMP%]{display:inline-block;position:relative;line-height:0}.webcam-wrapper[_ngcontent-%COMP%]   video.mirrored[_ngcontent-%COMP%]{transform:scaleX(-1)}.webcam-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:none}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]{background-color:#0000001a;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE9UlEQVR42u2aT2hdRRTGf+cRQqghSqihdBFDkRISK2KDfzDWxHaRQHEhaINKqa1gKQhd6EZLN+IidCH+Q0oWIkVRC21BQxXRitVaSbKoJSGtYGoK2tQ/tU1jY5v0c5F54Xl7b/KSO/PyEt+3e5f75p7zzZwzZ74zUEIJJfyfYaEGllQGVAGZlENdBy6Z2cSiYFTSKkkfS/pH/nBF0kFJdUW9AiRVASeAukD8DgNrzOySrwEzng18KaDzALXuG8W3AiStAvqBisBRNg40mtlPxbYCOgvgPO4bncWW+JpVeDQXRQhIygDfA00F5r0XuNfMrgclQFI98DDQCNQA5ZFXqoCWBVp8XwHRHeEqcN7loy/NbHBesyqpQ1KfFj/6nC+ZvFaApFrgPaCZpYVvgCfNbDiRAElNwGFg+RIt/X8H2s2s9wYCJDUAR4HqJX7++RN40MwGpgmQVAH0AQ2BPz4AHHPl8nBOAqtyFWQjsA6oL4Ada81sPDv7uwImod8kvSJp9RyS8O2SXnb/DYVd2Y9VSroQ4ANXJO2WVJmixqh0kzMWwL4LkiqRtDnA4D1zmfE8j9g9AezcnAHaPcfXdbfdnPZ2Yps6+DwAvO/Z1naTdApY7Xng48BDZnY1MpMVQBuw3iXc5Tnb0wBwBPjUzP6eoezuArZ6svM0geJLkvZEYnl3nkntoqROSbckSW2Suj3ZOIangc7GPJuUtNGdFIfmMeavktoSSKiW9LMPw30Q8JqkekmjCbOZRhuclLQjgYSNxUBAj6RyZ9ATgUJpUtJTCSR8vpAEXHAyWK5BXYFIGHOlepSAloUk4NEYgyoknQhEwhFJ0e8h6VSaQeerCb5uZgdi9utxYBNwOUD93hIVXswM4INCi6K9wAszFC2DwLOBDjHbYp59karIUnRdzYy/3ClqVklaUhfwTICj7K25OqA7a4wWagVsm4Me/xzwg2cCqqONFzO7DPxSCAJi436GUBgHHguQD2oTlJ55oSzP9ybccsttSJw1szdjFOSnI/8dTCGZHwcORp4Nx7y3B1iZ8/sm4MW8/Euxg5wIsS/HaAp3zeP4/G7obRDXI4jiTIA22H7Xdc7X+S3A5lC7QBQ357aq3VAjCeSkwUfAJrfvz+R8A9ADLAtZB+TinpjC5JMA+//jwPZZnF8G7J+L8z4IWB/zbG+gIujVWfLBW/NStVMmqaG4POJRsIjix7h8IGnLQuoBbQki5sVAJHyYm7YkNaRRtXwQ8G1cHpX0iKRrgUjYno17Sf0LrQhJUkdCeHWkVITGJI0k1QeS3ikGSUzOyJUJJNznYneuOCnpTldcxa2kP3xJYqOeSDjqZG8ShJLnE8TTuMS6Iyu1BW7djZqkfo9N0QOuYJmYQddfB7RG+gLTNzqAY9FrL+5/nwEbvDdJJe3zzOrhNP3AWRqmk55t3ZcBuj3b2gb0Sbrbo/NNzk7fFzu7s/E5EiC+rrmeQU0Kx2skvRFoOx2ZzlmSdgbsw49JetvtBpk8nM64d/cGbNtJ0s7cGyJlwHeEv+t3nqnLSgPAUOSGyG3AHUxdzqoJbEcvcL+ZTeTeEapzJKxgaeOcc/7Mf06D7kFrguS0VDAMtGadv+E47DT9tcChJej8ISfpD+abgTe45uOkFi8mnQ+JBVQ+d4VXuOptjavcyot8pq86mfwk8LWZnaOEEkoooYQSSojDv8AhQNeGfe0jAAAAAElFTkSuQmCC);background-repeat:no-repeat;border-radius:5px;position:absolute;right:13px;top:10px;height:48px;width:48px;background-size:80%;cursor:pointer;background-position:center;transition:background-color .2s ease}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]:hover{background-color:#0000002e}"]}),n})(),j2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[fu]]}),n})();function H2(n,e){1&n&&(c.TgZ(0,"span",51)(1,"div",52),c._uU(2," Name is required "),c.qZA()())}function $2(n,e){1&n&&(c.TgZ(0,"span",51)(1,"div",52),c._uU(2," Select purpose of visit "),c.qZA()())}function q2(n,e){if(1&n&&(c.TgZ(0,"option",53),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.s9C("value",t.name),c.xp6(1),c.Oqu(t.name)}}function G2(n,e){1&n&&(c.TgZ(0,"span",51)(1,"div",52),c._uU(2," employee name is required "),c.qZA()())}function Z2(n,e){1&n&&(c.TgZ(0,"span",51)(1,"div",52),c._uU(2," Select identity prrof "),c.qZA()())}function z2(n,e){1&n&&(c.TgZ(0,"span",51)(1,"div",52),c._uU(2," Identity number is required "),c.qZA()())}function W2(n,e){1&n&&(c.TgZ(0,"span",51)(1,"div",52),c._uU(2," Company name required "),c.qZA()())}function K2(n,e){1&n&&(c.TgZ(0,"span",51)(1,"div",52),c._uU(2," Company address is required "),c.qZA()())}function Y2(n,e){1&n&&(c.TgZ(0,"span",51)(1,"div",52),c._uU(2," Please enter total number of visitors "),c.qZA()())}function J2(n,e){1&n&&(c.TgZ(0,"span",51)(1,"div",52),c._uU(2," Name of visitor is required "),c.qZA()())}function Q2(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",6)(1,"label",7),c._uU(2,"Additional Visitor"),c.TgZ(3,"p",8),c._uU(4,"*"),c.qZA()(),c.TgZ(5,"input",54),c.NdJ("change",function(){const u=c.CHM(t).index;return c.oxw().addVisitorName(u)}),c.qZA(),c.YNc(6,J2,3,0,"span",10),c.qZA()}if(2&n){const t=c.oxw();c.xp6(6),c.Q6J("ngIf",t.visitorDetails.controls.example.invalid&&(t.visitorDetails.controls.example.dirty||t.visitorDetails.controls.example.touched))}}function X2(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"webcam",55),c.NdJ("imageCapture",function(i){return c.CHM(t),c.oxw().handleImage(i)}),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("allowCameraSwitch",!0)("height",250)("trigger",t.triggerObservable)}}function eU(n,e){if(1&n&&c._UZ(0,"img",56),2&n){const t=c.oxw();c.s9C("src",t.captureImage,c.LSH)}}const tU=function(n){return{display:n}};let nU=(()=>{class n{constructor(t,r,i,u){this.sharedService=t,this.db=r,this.router=i,this.ngxService=u,this.visitorDetails=new ku({vName:new yn("",Pt.compose([Pt.required])),vMobile:new yn("",Pt.compose([Pt.required])),vPov:new yn("",Pt.compose([Pt.required])),empName:new yn("",Pt.compose([Pt.required])),vId:new yn("",Pt.compose([Pt.required])),vIdno:new yn("",Pt.compose([Pt.required])),vCaddr:new yn("",Pt.compose([Pt.required])),vCompname:new yn("",Pt.compose([Pt.required])),totalVis:new yn("",Pt.compose([Pt.required])),vTab:new yn,vLap:new yn,vPen:new yn,vOther:new yn,vImg:new yn,example:new yn}),this.stream=null,this.status=null,this.display="none",this.showWebcam=!0,this.trigger=new un.x,this.nextWebcam=new un.x,this.captureImage=""}ngOnInit(){var t;this.sharedService.get("userId")?this.sharedService.get("mobile")?(this.userData=this.sharedService.get("userData"),this.userData=JSON.parse(this.userData),this.employeesD=this.userData.empDetails,console.log(this.employeesD),this.visitorMob=null===(t=this.sharedService.get("mobile"))||void 0===t?void 0:t.toString(),this.visitorDetails.value.totalVis=0):this.router.navigate(["vverify"]):(this.router.navigate([""]),console.log(this.sharedService.get("userId")))}triggerSnapshot(){this.trigger.next("any"),this.showWebcam=!this.showWebcam}handleImage(t){var r=this;return(0,se.Z)(function*(){r.webcamImage=t,r.captureImage=t.imageAsDataUrl,console.info("received webcam image",r.captureImage);const i=new File([r.sharedService.convertDataUrlToBlob(r.captureImage)],"img_1.jpg",{type:"image/.jpg"});yield r.db.addImgFun(i,r.visitorMob+"_img.jpg"),r.display="block"})()}get triggerObservable(){return this.trigger.asObservable()}get nextWebcamObservable(){return this.nextWebcam.asObservable()}createArray(){if(this.visitors=[],this.visitorDetails.value.totalVis>1)for(let t=0;t<this.visitorDetails.value.totalVis-1;t++)this.visitors.push(t.toString())}addVisitorName(t){this.visitors[t]=this.visitorDetails.value.example,console.log(this.visitors)}submitData(){var t=this;return(0,se.Z)(function*(){t.visitorDetails.valid?(t.ngxService.start(),yield t.db.addVisitor(t.visitorDetails,t.visitors),t.sharedService.set("mobile",""),t.ngxService.stop(),t.router.navigate(["gatepass"])):console.log("invalid data")})()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(lc),c.Y36(Xp),c.Y36(_n),c.Y36(eg))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-form"]],decls:134,vars:17,consts:[[1,"title","column","text-center","text-white"],[1,"fs-3","fw-bold","m-0"],[1,"bg-dark","bg-opacity-50","form","p-5","mt-3","overflow-auto"],[1,"myForm",3,"formGroup"],[1,"form-row","overflow-auto","overflow-hidden"],[1,"row","mb-2"],[1,"col-lg-6"],["for","form2Example1",1,"form-label","text-white"],[1,"text-danger","d-inline"],["type","text","formControlName","vName","placeholder","Full Name","required","","aria-label","First name",1,"form-control"],["class","m-0 p-0",4,"ngIf"],[1,"col"],["type","number","formControlName","vMobile","placeholder","Mobile Number","readonly","","required","","aria-label","First name",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group"],["formControlName","vPov","required","","id","inputGroupSelect01",1,"form-select"],["selected",""],["value","Buisness Meeting"],["value","Interview"],["value","Vendor"],["value","Other"],["type","text","list","employees","formControlName","empName","placeholder","Enter Employee Name","required","","aria-label","First name",1,"form-control"],["id","employees"],[3,"value",4,"ngFor","ngForOf"],["required","","formControlName","vId","id","inputGroupSelect01",1,"form-select"],["value","Aadhar Card"],["value","Pan Card"],["value","Employee ID"],["type","text","formControlName","vIdno","required","","placeholder","","aria-label","First name",1,"form-control"],["type","text","formControlName","vCompname","required","","placeholder","","aria-label","First name",1,"form-control"],["type","text","formControlName","vCaddr","required","","placeholder","","aria-label","First name",1,"form-control"],["type","number","formControlName","totalVis","required","","placeholder","","aria-label","First name",1,"form-control",3,"change"],["type","button",1,"btn","btn-primary","add","fw-bold"],["class","col-lg-6",4,"ngFor","ngForOf"],["type","text","formControlName","vTab","placeholder","Tab Details","aria-label","First name",1,"form-control"],["type","text","formControlName","vLap","placeholder","Laptop Details","aria-label","Last name",1,"form-control"],[1,"row","mb-5"],["type","text","formControlName","vPen","placeholder","Pendrive Details","aria-label","First name",1,"form-control"],["type","text","formControlName","vOther","placeholder","Other Details","aria-label","Last name",1,"form-control"],["id","mobCam",1,"bg-white","mt-3","text-center"],["name","mobCam","type","file","accept","image/*","capture","environment",1,"text-dark","mobCam"],["for","mobCam"],["id","deskCam",1,"container"],["class","webcam",3,"allowCameraSwitch","height","trigger","imageCapture",4,"ngIf"],["height","300px",3,"src",4,"ngIf"],["id","webCam","formControlName","vImg","name","webCam","type","file",1,"text-dark",2,"display","none"],[1,"btn","btn-primary","btn","w-50","mt-3","mb-4","fw-bold","d-flex","justify-content-start","align-items-center",2,"border-color","black",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-camera","me-3"],["d","M15 12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.172a3 3 0 0 0 2.12-.879l.83-.828A1 1 0 0 1 6.827 3h2.344a1 1 0 0 1 .707.293l.828.828A3 3 0 0 0 12.828 5H14a1 1 0 0 1 1 1v6zM2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2z"],["d","M8 11a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5zm0 1a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7zM3 6.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"],[1,"text-center"],["type","button",1,"btn","btn-primary","fw-bold","mt-3","mb-4",3,"ngStyle","click"],[1,"m-0","p-0"],[1,"text-danger"],[3,"value"],["type","text","formControlName","example","required","","placeholder","","aria-label","First name",1,"form-control",3,"change"],[1,"webcam",3,"allowCameraSwitch","height","trigger","imageCapture"],["height","300px",3,"src"]],template:function(t,r){1&t&&(c._UZ(0,"app-nav")(1,"ngx-ui-loader"),c.TgZ(2,"div",0)(3,"h1",1),c._uU(4,"WELCOME TO U-SMART"),c.qZA()(),c.TgZ(5,"main",2)(6,"form",3)(7,"div",4)(8,"div",5)(9,"div",6)(10,"label",7),c._uU(11,"Visitor Name"),c.TgZ(12,"p",8),c._uU(13,"*"),c.qZA()(),c._UZ(14,"input",9),c.YNc(15,H2,3,0,"span",10),c.qZA(),c.TgZ(16,"div",11)(17,"label",7),c._uU(18,"Visitor Mobile"),c.TgZ(19,"p",8),c._uU(20,"*"),c.qZA()(),c.TgZ(21,"input",12),c.NdJ("ngModelChange",function(u){return r.visitorMob=u}),c.qZA()()(),c.TgZ(22,"div",5)(23,"div",6)(24,"label",7),c._uU(25,"Purpose Of Visit"),c.TgZ(26,"p",8),c._uU(27,"*"),c.qZA()(),c.TgZ(28,"div",13)(29,"select",14)(30,"option",15),c._uU(31,"Select"),c.qZA(),c.TgZ(32,"option",16),c._uU(33,"Buisness Meeting"),c.qZA(),c.TgZ(34,"option",17),c._uU(35,"Interview"),c.qZA(),c.TgZ(36,"option",18),c._uU(37,"Vendor"),c.qZA(),c.TgZ(38,"option",19),c._uU(39,"Other"),c.qZA()()(),c.YNc(40,$2,3,0,"span",10),c.qZA(),c.TgZ(41,"div",6)(42,"label",7),c._uU(43,"Employee Name"),c.TgZ(44,"p",8),c._uU(45,"*"),c.qZA()(),c._UZ(46,"input",20),c.TgZ(47,"datalist",21),c.YNc(48,q2,2,2,"option",22),c.qZA(),c.YNc(49,G2,3,0,"span",10),c.qZA()(),c.TgZ(50,"div",5)(51,"div",11)(52,"label",7),c._uU(53,"Identity Proof"),c.TgZ(54,"p",8),c._uU(55,"*"),c.qZA()(),c.TgZ(56,"div",13)(57,"select",23)(58,"option",15),c._uU(59,"Select"),c.qZA(),c.TgZ(60,"option",24),c._uU(61,"Aadhar Card"),c.qZA(),c.TgZ(62,"option",25),c._uU(63,"Pan Card"),c.qZA(),c.TgZ(64,"option",26),c._uU(65,"Employee ID"),c.qZA()()(),c.YNc(66,Z2,3,0,"span",10),c.qZA(),c.TgZ(67,"div",6)(68,"label",7),c._uU(69,"Identity Number"),c.TgZ(70,"p",8),c._uU(71,"*"),c.qZA()(),c._UZ(72,"input",27),c.YNc(73,z2,3,0,"span",10),c.qZA()(),c.TgZ(74,"div",5)(75,"div",11)(76,"label",7),c._uU(77,"Company Name"),c.TgZ(78,"p",8),c._uU(79,"*"),c.qZA()(),c._UZ(80,"input",28),c.YNc(81,W2,3,0,"span",10),c.TgZ(82,"label",7),c._uU(83,"Company Address"),c.TgZ(84,"p",8),c._uU(85,"*"),c.qZA()(),c._UZ(86,"input",29),c.YNc(87,K2,3,0,"span",10),c.qZA()(),c.TgZ(88,"div",5)(89,"div",6)(90,"label",7),c._uU(91,"Total Visitors"),c.TgZ(92,"p",8),c._uU(93,"*"),c.qZA()(),c.TgZ(94,"input",30),c.NdJ("change",function(){return r.createArray()}),c.qZA(),c.YNc(95,Y2,3,0,"span",10),c.qZA(),c.TgZ(96,"div",11)(97,"button",31),c._uU(98,"Add"),c.qZA()()(),c.YNc(99,Q2,7,1,"div",32),c.qZA(),c.TgZ(100,"div",5)(101,"div",6)(102,"label",7),c._uU(103,"Tab"),c.qZA(),c._UZ(104,"input",33),c.qZA(),c.TgZ(105,"div",11)(106,"label",7),c._uU(107,"Laptop"),c.qZA(),c._UZ(108,"input",34),c.qZA()(),c.TgZ(109,"div",35)(110,"div",6)(111,"label",7),c._uU(112,"Pendrive"),c.qZA(),c._UZ(113,"input",36),c.qZA(),c.TgZ(114,"div",11)(115,"label",7),c._uU(116,"Any Other"),c.qZA(),c._UZ(117,"input",37),c.qZA(),c.TgZ(118,"div",38),c._UZ(119,"input",39),c.TgZ(120,"label",40),c._uU(121,"Capture"),c.qZA()()(),c.TgZ(122,"div",41),c.YNc(123,X2,1,3,"webcam",42),c.YNc(124,eU,1,1,"img",43),c._UZ(125,"input",44),c.TgZ(126,"button",45),c.NdJ("click",function(){return r.triggerSnapshot()}),c.O4$(),c.TgZ(127,"svg",46),c._UZ(128,"path",47)(129,"path",48),c.qZA(),c._uU(130," Capture"),c.qZA()(),c.kcU(),c.TgZ(131,"div",49)(132,"button",50),c.NdJ("click",function(){return r.submitData()}),c._uU(133,"Sumbit"),c.qZA()()()()),2&t&&(c.xp6(6),c.Q6J("formGroup",r.visitorDetails),c.xp6(9),c.Q6J("ngIf",r.visitorDetails.controls.vName.invalid&&(r.visitorDetails.controls.vName.dirty||r.visitorDetails.controls.vName.touched)),c.xp6(6),c.Q6J("ngModel",r.visitorMob),c.xp6(19),c.Q6J("ngIf",r.visitorDetails.controls.vPov.invalid&&(r.visitorDetails.controls.vPov.dirty||r.visitorDetails.controls.vPov.touched)),c.xp6(8),c.Q6J("ngForOf",r.employeesD),c.xp6(1),c.Q6J("ngIf",r.visitorDetails.controls.empName.invalid&&(r.visitorDetails.controls.empName.dirty||r.visitorDetails.controls.empName.touched)),c.xp6(17),c.Q6J("ngIf",r.visitorDetails.controls.vId.invalid&&(r.visitorDetails.controls.vId.dirty||r.visitorDetails.controls.vId.touched)),c.xp6(7),c.Q6J("ngIf",r.visitorDetails.controls.vIdno.invalid&&(r.visitorDetails.controls.vIdno.dirty||r.visitorDetails.controls.vIdno.touched)),c.xp6(8),c.Q6J("ngIf",r.visitorDetails.controls.vCompname.invalid&&(r.visitorDetails.controls.vCompname.dirty||r.visitorDetails.controls.vCompname.touched)),c.xp6(6),c.Q6J("ngIf",r.visitorDetails.controls.vCaddr.invalid&&(r.visitorDetails.controls.vCaddr.dirty||r.visitorDetails.controls.vCaddr.touched)),c.xp6(8),c.Q6J("ngIf",r.visitorDetails.controls.totalVis.invalid&&(r.visitorDetails.controls.totalVis.dirty||r.visitorDetails.controls.totalVis.touched)),c.xp6(4),c.Q6J("ngForOf",r.visitors),c.xp6(24),c.Q6J("ngIf",r.showWebcam),c.xp6(1),c.Q6J("ngIf",!r.showWebcam),c.xp6(8),c.Q6J("ngStyle",c.VKq(15,tU,r.display)))},directives:[Uh,su,ps,Fs,fo,Tr,Nn,Bs,Zc,pn,ef,Fa,rf,Id,Dn,sP,ga],styles:[".form[_ngcontent-%COMP%]{max-width:55%!important;border-radius:10px;margin-top:8%;margin-left:10%}.btn-primary[_ngcontent-%COMP%]{background-color:#3f6bb0;border-color:#3f6bb0}.add[_ngcontent-%COMP%]{margin-top:2.3rem}.mobCam[_ngcontent-%COMP%]::-webkit-file-upload-button{visibility:hidden}.mobCam[_ngcontent-%COMP%]{display:inline-block;width:100%;background-color:#fff;border-radius:3px;padding:5px 30px;outline:none;white-space:nowrap;cursor:pointer;font-weight:700;font-size:10pt}p[_ngcontent-%COMP%]{font-size:20px}.text[_ngcontent-%COMP%]{font-size:1rem;float:left}main[_ngcontent-%COMP%]{height:70vh}@media screen and (max-width:992px){.form[_ngcontent-%COMP%]{max-width:70%!important;margin:auto}.form-label[_ngcontent-%COMP%]{font-size:.8rem}#deskCam[_ngcontent-%COMP%]{display:none}}@media screen and (min-width:992px){#mobCam[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:440px){.form[_ngcontent-%COMP%]{max-width:95%!important;margin:auto;padding:1.3rem!important}}"]}),n})(),oP=(()=>{class n{constructor(t,r,i,u){this.sharedService=t,this.router=r,this.location=i,this.route=u}ngOnInit(){console.log(),this.sharedService.get("userId")?(console.log("You are here"),this.visitorData=this.sharedService.get("data"),this.visitorData=JSON.parse(this.visitorData),this.gatePass=document.getElementById("img"),console.log(this.visitorData)):(this.router.navigate([""]),console.log(this.sharedService.get("userId")))}htmlPng(){GE(this.gatePass).then(function(t){var r=document.createElement("a");r.download="U-SMART-Gate Pass.jpeg",r.href=t,r.click()}).catch(function(t){console.error("oops, something went wrong!",t)})}navigate(){this.sharedService.set("pageshift","false"),this.router.navigate([this.router.url.split("/")[1].toString()])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(lc),c.Y36(_n),c.Y36(_e),c.Y36(Jo))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-gatepassdetails"]],decls:61,vars:12,consts:[[1,"bg-dark","bg-opacity-50","gatePassD","px-5","py-3","overflow-auto"],[1,"text-center"],["type","button",1,"btn","fw-bold","mb-4","text-white",2,"background-color","#3F6BB0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-left"],["fill-rule","evenodd","d","M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"],[1,"gatePass"],["id","img"],[1,"gpBg"],[1,"wrapper1"],[1,"row","justify-content-end"],["src","assets/title.svg","alt","Title and Logo"],[1,"compTitle"],[1,"compBg","m-auto"],[1,"compName"],[1,"d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-geo-alt-fill","location","ms-1"],["d","M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"],[1,"ms-1"],[1,"row"],[1,"col"],[1,"visitor"],[1,"gpBg2"],[1,"wrapper2","row"],[1,"col-5"],["alt","",1,"imgBox",3,"src"],[1,"visitor","text-white","m-0","mt-3"],[1,"d-inline","m-0"],[1,"visitor","text-white","m-0","mt-4"]],template:function(t,r){1&t&&(c._UZ(0,"app-nav")(1,"ngx-ui-loader"),c.TgZ(2,"main",0)(3,"div",1)(4,"button",2),c.NdJ("click",function(){return r.navigate()}),c.O4$(),c.TgZ(5,"svg",3),c._UZ(6,"path",4),c.qZA(),c._uU(7," Back"),c.qZA()(),c.kcU(),c.TgZ(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9),c._UZ(13,"img",10),c.qZA(),c.TgZ(14,"div")(15,"h1",11),c._uU(16,"Your Company Name"),c.qZA()(),c.TgZ(17,"div",12)(18,"h6",13),c._uU(19),c.qZA(),c.TgZ(20,"div",14),c.O4$(),c.TgZ(21,"svg",15),c._UZ(22,"path",16),c.qZA(),c.kcU(),c.TgZ(23,"p",17),c._uU(24),c.qZA()()(),c._UZ(25,"hr"),c.TgZ(26,"div",18)(27,"div",19)(28,"h1",20),c._uU(29,"Visitor Name"),c.qZA(),c.TgZ(30,"h6"),c._uU(31),c.qZA()(),c.TgZ(32,"div",19)(33,"h1",20),c._uU(34,"Date"),c.qZA(),c.TgZ(35,"h6"),c._uU(36),c.qZA()()(),c.TgZ(37,"div",18)(38,"div",19)(39,"h1",20),c._uU(40,"Whom To Meet"),c.qZA(),c.TgZ(41,"h6"),c._uU(42),c.qZA()(),c.TgZ(43,"div",19)(44,"h1",20),c._uU(45,"Time"),c.qZA(),c.TgZ(46,"h6"),c._uU(47),c.qZA()()()()(),c.TgZ(48,"div",21)(49,"div",22)(50,"div",23),c._UZ(51,"img",24),c.qZA(),c.TgZ(52,"div",19)(53,"h1",25),c._uU(54,"Purpose : "),c.TgZ(55,"h6",26),c._uU(56),c.qZA()(),c.TgZ(57,"h1",27),c._uU(58,"Asset : "),c.TgZ(59,"h6",26),c._uU(60),c.qZA()()()()()()()()),2&t&&(c.xp6(19),c.Oqu(r.visitorData.vCompname),c.xp6(5),c.Oqu(r.visitorData.vCaddr),c.xp6(7),c.Oqu(r.visitorData.vName),c.xp6(5),c.Oqu(r.visitorData.vDate),c.xp6(6),c.Oqu(r.visitorData.empName),c.xp6(5),c.Oqu(r.visitorData.checkinTime),c.xp6(4),c.s9C("src",r.visitorData.vImg,c.LSH),c.xp6(5),c.Oqu(r.visitorData.vPov),c.xp6(4),c.HOy("",r.visitorData.vLap," ",r.visitorData.vTab," ",r.visitorData.vPen," ",r.visitorData.vOther,""))},directives:[Uh,su],styles:[".right[_ngcontent-%COMP%]{border-style:solid;border-width:.01rem;border-color:#c9d0d6}.left[_ngcontent-%COMP%]{border-style:solid;border-width:.01rem;border-color:#c9d0d6;border-left:0}h1[_ngcontent-%COMP%]{margin:0;padding:0}h2[_ngcontent-%COMP%]{margin:0;margin:.5rem 0}h6[_ngcontent-%COMP%]{margin:0rem 0rem .8rem 2rem;font-size:16px;font-weight:500}main[_ngcontent-%COMP%]{height:80vh}.gatePassD[_ngcontent-%COMP%]{max-width:55%!important;border-radius:10px;margin:auto;margin-top:4rem}.gatePass[_ngcontent-%COMP%]{display:flex;justify-content:center}.gpBg[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-color:#eff5ff;height:398px;min-width:380px;border-radius:12px 12px 0 0;padding-top:17px}.wrapper1[_ngcontent-%COMP%]{margin:0 17px;height:382px;width:377px;border:3px solid black;border-bottom:none;border-radius:12px 12px 0 0}.gpBg2[_ngcontent-%COMP%]{background-color:#3f6bb0;min-width:380px;height:150px;border-radius:0 0 12px 12px}.wrapper2[_ngcontent-%COMP%]{margin:0 17px;height:132px;width:377px;border:3px solid white;border-top:none;border-radius:0 0 12px 12px}.compTitle[_ngcontent-%COMP%]{font-size:14px;color:#6f6767;margin:1.7rem 1.7rem .5rem 1.3rem}.compBg[_ngcontent-%COMP%]{background-color:#fff;height:51px;width:333px}.compName[_ngcontent-%COMP%]{font-weight:600;margin-left:.5rem;padding-top:.3rem;margin-bottom:.1rem}.location[_ngcontent-%COMP%]{margin-bottom:1rem}p[_ngcontent-%COMP%]{font-weight:300;font-size:14px}hr[_ngcontent-%COMP%]{background-color:#000;opacity:1;margin:.7rem 1.8rem 1.5rem;height:1.5px}.visitor[_ngcontent-%COMP%]{font-size:14px;color:#6f6767;margin:0rem 1.7rem .4rem 2rem}img[_ngcontent-%COMP%]{width:80%}.imgBox[_ngcontent-%COMP%]{border:2px solid white;margin:auto;margin-top:.8rem;margin-left:.8rem;padding:.2rem}#img[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}@media screen and (max-width:992px){.gatePassD[_ngcontent-%COMP%]{max-width:70%!important;margin:auto}main[_ngcontent-%COMP%]{margin-top:3rem!important}}@media screen and (max-width:440px){.gatePassD[_ngcontent-%COMP%]{max-width:95%!important;margin:auto;padding:1.3rem!important}main[_ngcontent-%COMP%]{margin-top:3rem!important}.gatePass[_ngcontent-%COMP%]{transform:scale(.8)}}"]}),n})();function rU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"tbody")(1,"tr")(2,"td"),c._uU(3),c.qZA(),c.TgZ(4,"td"),c._uU(5),c.qZA(),c.TgZ(6,"td"),c._uU(7),c.qZA(),c.TgZ(8,"td"),c._uU(9),c.qZA(),c.TgZ(10,"td"),c._uU(11),c.qZA(),c.TgZ(12,"td"),c._uU(13),c.qZA(),c.TgZ(14,"td")(15,"button",15),c.NdJ("click",function(){const u=c.CHM(t).index;return c.oxw(2).nextPage(u)}),c._uU(16,"PASS DETAILS"),c.qZA()(),c.TgZ(17,"td")(18,"button",16),c.NdJ("click",function(){const u=c.CHM(t).$implicit;return c.oxw(2).checkOut(u.visitorId)}),c._uU(19,"CHECK OUT"),c.qZA()()()()}if(2&n){const t=e.$implicit,r=e.index;c.xp6(3),c.Oqu(r+1),c.xp6(2),c.Oqu(t.vName),c.xp6(2),c.Oqu(t.vMobile),c.xp6(2),c.Oqu(t.empName),c.xp6(2),c.Oqu(t.vPov),c.xp6(2),c.Oqu(t.checkinTime)}}function iU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"main",1)(1,"div",2),c._UZ(2,"ngx-ui-loader"),c.TgZ(3,"div",3)(4,"div",4)(5,"h4",5),c._uU(6,"Visitors List"),c.qZA()(),c.TgZ(7,"div",6)(8,"div",7)(9,"h5",5),c._uU(10,"Daily Visitors: "),c.TgZ(11,"p",8),c._uU(12),c.qZA()()(),c.TgZ(13,"div",9)(14,"h5",5),c._uU(15,"Check Out:"),c.TgZ(16,"p",8),c._uU(17),c.qZA()()(),c.TgZ(18,"div",10)(19,"h5",5),c._uU(20,"Check In:"),c.TgZ(21,"p",8),c._uU(22),c.qZA()()()(),c.TgZ(23,"div",11)(24,"input",12),c.NdJ("ngModelChange",function(i){return c.CHM(t),c.oxw().searchkey=i})("change",function(){return c.CHM(t),c.oxw().searchThis()}),c.qZA()()()(),c.TgZ(25,"table",13)(26,"thead")(27,"tr")(28,"th"),c._uU(29,"Sr. No."),c.qZA(),c.TgZ(30,"th"),c._uU(31,"Visitor Name"),c.qZA(),c.TgZ(32,"th"),c._uU(33,"Visitor Mobile"),c.qZA(),c.TgZ(34,"th"),c._uU(35,"Host Name"),c.qZA(),c.TgZ(36,"th"),c._uU(37,"Meeting Purpose"),c.qZA(),c.TgZ(38,"th"),c._uU(39,"Entry Time"),c.qZA(),c.TgZ(40,"th"),c._uU(41,"Visitor Details"),c.qZA(),c.TgZ(42,"th"),c._uU(43,"Check Out"),c.qZA()()(),c.YNc(44,rU,20,6,"tbody",14),c.qZA()()}if(2&n){const t=c.oxw();c.xp6(12),c.Oqu(t.dailyVisitors),c.xp6(5),c.Oqu(t.checkOuts),c.xp6(5),c.Oqu(t.checkIns),c.xp6(2),c.Q6J("ngModel",t.searchkey),c.xp6(20),c.Q6J("ngForOf",t.visitorData)}}let sU=(()=>{class n{constructor(t,r,i,u,d){this.route=t,this.db=r,this.sharedService=i,this.router=u,this.ngxService=d,this.searchkey="",this.pageshift=!1,this.pageshift=!1}ngOnInit(){var t=this;return(0,se.Z)(function*(){if(t.ngxService.start(),t.db.getcheckInOuts(),t.checkIns=t.sharedService.get("checkIns"),t.checkOuts=t.sharedService.get("checkOuts"),t.dailyVisitors=t.sharedService.get("dailyVisitors"),console.log(t.pageshift),t.pageshift=!1,t.sharedService.get("userId")){yield t.db.getcheckInOuts(),t.checkIns=t.sharedService.get("checkIns"),t.checkOuts=t.sharedService.get("checkOuts"),t.dailyVisitors=t.sharedService.get("dailyVisitors");const r=t.sharedService.get("userId");t.getData(r)}else t.router.navigate([""]),console.log(t.sharedService.get("userId"))})()}ngOnChanges(){this.pageshift=!1,this.checkIns=this.sharedService.get("checkIns"),this.checkOuts=this.sharedService.get("checkOuts"),this.dailyVisitors=this.sharedService.get("dailyVisitors"),this.ngOnInit()}getData(t){var r=this;return(0,se.Z)(function*(){r.preData=yield r.db.getvisitors(t,0),r.visitorData=r.preData,console.log(r.visitorData),r.ngxService.stop()})()}nextPage(t){this.sharedService.set("pageshift","true"),this.sharedService.set("data",JSON.stringify(this.visitorData[t])),this.router.navigate(["gpdetails"],{relativeTo:this.route})}checkOut(t){var r=this;return(0,se.Z)(function*(){r.ngxService.start(),yield r.db.checkoutVisitor(t),console.log("success"),r.ngxService.stop(),r.ngOnInit()})()}searchThis(){this.visitorData=[];for(let t=0;t<this.preData.length;t++)this.preData[t].vMobile.substring(0,this.searchkey.length)==this.searchkey&&this.visitorData.push(this.preData[t])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Jo),c.Y36(Xp),c.Y36(lc),c.Y36(_n),c.Y36(eg))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-checkin"]],features:[c.TTD],decls:4,vars:1,consts:[["class","bg-dark bg-opacity-50 checkout px-5 py-3 overflow-auto ",4,"ngIf"],[1,"bg-dark","bg-opacity-50","checkout","px-5","py-3","overflow-auto"],[1,"container"],[1,"row","text-white","title-2"],[1,"col-lg-2","line","d-flex","align-items-center","p-0"],[1,"m-0"],[1,"col","d-flex","p-0","count"],[1,"ccount","p-2","rounded","d-flex","align-items-center","bg-custom"],[1,"d-inline"],[1,"ccount","p-2","d-flex","align-items-center","rounded","bg-danger"],[1,"ccount","p-2","d-flex","align-items-center","rounded","bg-success"],[1,"col-lg","d-flex","p-0","search"],["type","search","placeholder","Search",1,"form-control","mr-sm-2",3,"ngModel","ngModelChange","change"],[1,"table","table-hover","mt-4"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","button","btn-danger",3,"click"]],template:function(t,r){1&t&&(c._UZ(0,"app-nav")(1,"ngx-ui-loader")(2,"router-outlet"),c.YNc(3,iU,45,5,"main",0)),2&t&&(c.xp6(3),c.Q6J("ngIf","false"==r.sharedService.get("pageshift")))},directives:[Uh,su,il,pn,Tr,Nn,qc,Dn],styles:['main[_ngcontent-%COMP%]{height:80vh}.checkout[_ngcontent-%COMP%]{max-width:75%!important;border-radius:10px;margin:auto;margin-top:4rem}.ccount[_ngcontent-%COMP%]{margin:auto}.bg-custom[_ngcontent-%COMP%]{background-color:#3f6bb0}.btn-primary[_ngcontent-%COMP%]{background-color:#3f6bb0;border:0;font-size:small}.button[_ngcontent-%COMP%]{font-size:small}h5[_ngcontent-%COMP%]{font:italic!important;font-size:1rem}.line[_ngcontent-%COMP%]{border-right:.1rem solid rgb(76,75,75);margin-right:.5rem}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background-color:#f3f3f3;opacity:85%}th[_ngcontent-%COMP%]{background:#3F6BB0;color:#fff;font-weight:700}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:6px;border:1px solid #ccc;text-align:left}@media only screen and (max-width: 760px),(min-device-width: 768px) and (max-device-width: 1024px){table[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{display:block}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:absolute;top:-9999px;left:-9999px}tr[_ngcontent-%COMP%]{border:1px solid black}td[_ngcontent-%COMP%]{border:none;border-bottom:1px solid rgb(135,132,132);position:relative;padding-left:50%}td[_ngcontent-%COMP%]:before{position:absolute;top:6px;left:13px;width:45%;padding-right:10px;white-space:nowrap;font-weight:700}td[_ngcontent-%COMP%]:nth-of-type(1):before{content:"Sr No."}td[_ngcontent-%COMP%]:nth-of-type(2):before{content:"Visitor Name"}td[_ngcontent-%COMP%]:nth-of-type(3):before{content:"Visitor Mobile"}td[_ngcontent-%COMP%]:nth-of-type(4):before{content:"Host Name"}td[_ngcontent-%COMP%]:nth-of-type(5):before{content:"Meeting Purpose"}td[_ngcontent-%COMP%]:nth-of-type(6):before{content:"Entry Time"}td[_ngcontent-%COMP%]:nth-of-type(7):before{content:"Visitor Details"}td[_ngcontent-%COMP%]:nth-of-type(8):before{content:"Logout"}}@media screen and (max-width:992px){.checkout[_ngcontent-%COMP%]{max-width:70%!important;margin:auto}main[_ngcontent-%COMP%]{margin-top:3rem!important}.count[_ngcontent-%COMP%]{padding:0!important;margin:0!important;justify-content:space-between}h5[_ngcontent-%COMP%]{font-size:.85rem!important}.ccount[_ngcontent-%COMP%]{margin:.7rem 0rem}}@media screen and (max-width:440px){h5[_ngcontent-%COMP%]{font-size:.85rem!important}.checkout[_ngcontent-%COMP%]{max-width:95%!important;margin:auto;padding:1.3rem!important}main[_ngcontent-%COMP%]{margin-top:3rem!important}.count[_ngcontent-%COMP%]{padding:0!important;margin:0!important;justify-content:space-between}.ccount[_ngcontent-%COMP%]{margin:.7rem 0rem}}@media screen and (min-height:920px){h5[_ngcontent-%COMP%]{font-size:1.4rem!important}.checkout[_ngcontent-%COMP%]{margin-top:5rem!important;max-width:85%!important}}']}),n})();function oU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"tbody")(1,"tr")(2,"td"),c._uU(3),c.qZA(),c.TgZ(4,"td"),c._uU(5),c.qZA(),c.TgZ(6,"td"),c._uU(7),c.qZA(),c.TgZ(8,"td"),c._uU(9),c.qZA(),c.TgZ(10,"td"),c._uU(11),c.qZA(),c.TgZ(12,"td"),c._uU(13),c.qZA(),c.TgZ(14,"td"),c._uU(15),c.qZA(),c.TgZ(16,"td")(17,"button",15),c.NdJ("click",function(){const u=c.CHM(t).index;return c.oxw(2).nextPage(u)}),c._uU(18,"DETAILS"),c.qZA()()()()}if(2&n){const t=e.$implicit,r=e.index;c.xp6(3),c.Oqu(r+1),c.xp6(2),c.Oqu(t.vName),c.xp6(2),c.Oqu(t.vMobile),c.xp6(2),c.Oqu(t.empName),c.xp6(2),c.Oqu(t.vPov),c.xp6(2),c.Oqu(t.checkinTime),c.xp6(2),c.Oqu(t.checkoutTime)}}function aU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"main",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h4",5),c._uU(5,"Daily Visitors"),c.qZA()(),c.TgZ(6,"div",6)(7,"div",7)(8,"h5",5),c._uU(9,"Daily Visitors: "),c.TgZ(10,"p",8),c._uU(11),c.qZA()()(),c.TgZ(12,"div",9)(13,"h5",5),c._uU(14,"Check Out:"),c.TgZ(15,"p",8),c._uU(16),c.qZA()()(),c.TgZ(17,"div",10)(18,"h5",5),c._uU(19,"Check In:"),c.TgZ(20,"p",8),c._uU(21),c.qZA()()()(),c.TgZ(22,"div",11)(23,"input",12),c.NdJ("ngModelChange",function(i){return c.CHM(t),c.oxw().searchkey=i})("change",function(){return c.CHM(t),c.oxw().searchThis()}),c.qZA()()()(),c.TgZ(24,"table",13)(25,"thead")(26,"tr")(27,"th"),c._uU(28,"Sr. No."),c.qZA(),c.TgZ(29,"th"),c._uU(30,"Visitor Name"),c.qZA(),c.TgZ(31,"th"),c._uU(32,"Visitor Mobile"),c.qZA(),c.TgZ(33,"th"),c._uU(34,"Host Name"),c.qZA(),c.TgZ(35,"th"),c._uU(36,"Meeting Purpose"),c.qZA(),c.TgZ(37,"th"),c._uU(38,"Entry Time"),c.qZA(),c.TgZ(39,"th"),c._uU(40,"Exit Time"),c.qZA(),c.TgZ(41,"th"),c._uU(42,"Details"),c.qZA()()(),c.YNc(43,oU,19,7,"tbody",14),c.qZA()()}if(2&n){const t=c.oxw();c.xp6(11),c.Oqu(t.dailyVisitors),c.xp6(5),c.Oqu(t.checkOuts),c.xp6(5),c.Oqu(t.checkIns),c.xp6(2),c.Q6J("ngModel",t.searchkey),c.xp6(20),c.Q6J("ngForOf",t.visitorData)}}let uU=(()=>{class n{constructor(t,r,i,u,d){this.route=t,this.sharedService=r,this.db=i,this.router=u,this.ngxService=d,this.pageshift=!1,this.searchkey=""}ngOnInit(){var t=this;return(0,se.Z)(function*(){if(t.pageshift=!1,t.sharedService.get("userId")){yield t.db.getcheckInOuts(),t.checkIns=t.sharedService.get("checkIns"),t.checkOuts=t.sharedService.get("checkOuts"),t.dailyVisitors=t.sharedService.get("dailyVisitors");const r=t.sharedService.get("userId");t.getData(r)}else t.router.navigate([""]),console.log(t.sharedService.get("userId"))})()}getData(t){var r=this;return(0,se.Z)(function*(){r.ngxService.start(),r.preData=yield r.db.getvisitors(t,1),r.visitorData=r.preData,console.log(r.visitorData),r.ngxService.stop()})()}nextPage(t){this.sharedService.set("pageshift","true"),this.sharedService.set("data",JSON.stringify(this.visitorData[t])),this.router.navigate(["gpdetails"],{relativeTo:this.route}),this.ngOnInit()}searchThis(){this.visitorData=[];for(let t=0;t<this.preData.length;t++)this.preData[t].vMobile.substring(0,this.searchkey.length)==this.searchkey&&this.visitorData.push(this.preData[t])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Jo),c.Y36(lc),c.Y36(Xp),c.Y36(_n),c.Y36(eg))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-daily-visitor"]],decls:4,vars:1,consts:[["class","bg-dark bg-opacity-50 dailyV px-5 py-3 overflow-auto ",4,"ngIf"],[1,"bg-dark","bg-opacity-50","dailyV","px-5","py-3","overflow-auto"],[1,"container"],[1,"row","text-white","title-2"],[1,"col-lg-2","line","d-flex","align-items-center","p-0"],[1,"m-0"],[1,"col","d-flex","p-0","count"],[1,"ccount","p-2","rounded","d-flex","align-items-center","bg-custom"],[1,"d-inline"],[1,"ccount","p-2","d-flex","align-items-center","rounded","bg-danger"],[1,"ccount","p-2","d-flex","align-items-center","rounded","bg-success"],[1,"col-lg","d-flex","p-0","search"],["type","search","placeholder","Search","aria-label","Search",1,"form-control","mr-sm-2",3,"ngModel","ngModelChange","change"],[1,"table","table-hover","mt-4"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,r){1&t&&(c._UZ(0,"app-nav")(1,"ngx-ui-loader")(2,"router-outlet"),c.YNc(3,aU,44,5,"main",0)),2&t&&(c.xp6(3),c.Q6J("ngIf","false"==r.sharedService.get("pageshift")))},directives:[Uh,su,il,pn,Tr,Nn,qc,Dn],styles:['main[_ngcontent-%COMP%]{height:80vh}.dailyV[_ngcontent-%COMP%]{max-width:75%!important;border-radius:10px;margin:auto;margin-top:4rem}.ccount[_ngcontent-%COMP%]{margin:auto}.bg-custom[_ngcontent-%COMP%]{background-color:#3f6bb0}.btn-primary[_ngcontent-%COMP%]{background-color:#3f6bb0;border:0;font-size:small}.button[_ngcontent-%COMP%]{font-size:small}h5[_ngcontent-%COMP%]{font:italic!important;font-size:1rem}.line[_ngcontent-%COMP%]{border-right:.1rem solid rgb(76,75,75);margin-right:.5rem}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background-color:#f3f3f3;opacity:85%}th[_ngcontent-%COMP%]{background:#3F6BB0;color:#fff;font-weight:700}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:6px;border:1px solid #ccc;text-align:left}@media only screen and (max-width: 760px),(min-device-width: 768px) and (max-device-width: 1024px){table[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{display:block}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:absolute;top:-9999px;left:-9999px}tr[_ngcontent-%COMP%]{border:1px solid black}td[_ngcontent-%COMP%]{border:none;border-bottom:1px solid rgb(135,132,132);position:relative;padding-left:50%}td[_ngcontent-%COMP%]:before{position:absolute;top:6px;left:13px;width:45%;padding-right:10px;white-space:nowrap;font-weight:700}td[_ngcontent-%COMP%]:nth-of-type(1):before{content:"Sr No."}td[_ngcontent-%COMP%]:nth-of-type(2):before{content:"Visitor Name"}td[_ngcontent-%COMP%]:nth-of-type(3):before{content:"Visitor Mobile"}td[_ngcontent-%COMP%]:nth-of-type(4):before{content:"Host Name"}td[_ngcontent-%COMP%]:nth-of-type(5):before{content:"Meeting Purpose"}td[_ngcontent-%COMP%]:nth-of-type(6):before{content:"Entry Time"}td[_ngcontent-%COMP%]:nth-of-type(7):before{content:"Exit Time"}td[_ngcontent-%COMP%]:nth-of-type(8):before{content:"Details"}}@media screen and (max-width:992px){.dailyV[_ngcontent-%COMP%]{max-width:70%!important;margin:auto}main[_ngcontent-%COMP%]{margin-top:3rem!important}.count[_ngcontent-%COMP%]{padding:0!important;margin:0!important;justify-content:space-between}h5[_ngcontent-%COMP%]{font-size:.85rem!important}.ccount[_ngcontent-%COMP%]{margin:.7rem 0rem}}@media screen and (max-width:440px){h5[_ngcontent-%COMP%]{font-size:.85rem!important}.dailyV[_ngcontent-%COMP%]{max-width:95%!important;margin:auto;padding:1.3rem!important}main[_ngcontent-%COMP%]{margin-top:3rem!important}.count[_ngcontent-%COMP%]{padding:0!important;margin:0!important;justify-content:space-between}.ccount[_ngcontent-%COMP%]{margin:.7rem 0rem}}@media screen and (min-height:920px){h5[_ngcontent-%COMP%]{font-size:1.4rem!important}.dailyV[_ngcontent-%COMP%]{margin-top:5rem!important;max-width:85%!important}}']}),n})(),cU=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-pre-appointment"]],decls:24,vars:0,consts:[[1,"bg-dark","bg-opacity-50","preApp","px-5","py-3","overflow-auto"],[1,"container"],[1,"row","text-white","title-2"],[1,"col","line","d-flex","align-items-center","p-0"],[1,"m-0"],[1,"table","table-hover","mt-4"]],template:function(t,r){1&t&&(c._UZ(0,"app-nav")(1,"ngx-ui-loader"),c.TgZ(2,"main",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"h4",4),c._uU(7,"Pre-Appointment Visitors"),c.qZA()()()(),c.TgZ(8,"table",5)(9,"thead")(10,"tr")(11,"th"),c._uU(12,"Sr. No."),c.qZA(),c.TgZ(13,"th"),c._uU(14,"Visitor Name"),c.qZA(),c.TgZ(15,"th"),c._uU(16,"Visitor Mobile"),c.qZA(),c.TgZ(17,"th"),c._uU(18,"Host Name"),c.qZA(),c.TgZ(19,"th"),c._uU(20,"Visit Date"),c.qZA(),c.TgZ(21,"th"),c._uU(22,"Visit Status"),c.qZA()()(),c._UZ(23,"tbody"),c.qZA()())},directives:[Uh,su],styles:['main[_ngcontent-%COMP%]{height:80vh}.preApp[_ngcontent-%COMP%]{max-width:75%!important;border-radius:10px;margin:auto;margin-top:4rem}.ccount[_ngcontent-%COMP%]{margin:auto}.bg-custom[_ngcontent-%COMP%]{background-color:#3f6bb0}.btn-primary[_ngcontent-%COMP%]{background-color:#3f6bb0;border:0;font-size:small}.button[_ngcontent-%COMP%]{font-size:small}h5[_ngcontent-%COMP%]{font:italic!important;font-size:1rem}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background-color:#f3f3f3;opacity:85%}th[_ngcontent-%COMP%]{background:#3F6BB0;color:#fff;font-weight:700}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:6px;border:1px solid #ccc;text-align:left}@media only screen and (max-width: 760px),(min-device-width: 768px) and (max-device-width: 1024px){table[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{display:block}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:absolute;top:-9999px;left:-9999px}tr[_ngcontent-%COMP%]{border:1px solid black}td[_ngcontent-%COMP%]{border:none;border-bottom:1px solid rgb(135,132,132);position:relative;padding-left:50%}td[_ngcontent-%COMP%]:before{position:absolute;top:6px;left:13px;width:45%;padding-right:10px;white-space:nowrap;font-weight:700}td[_ngcontent-%COMP%]:nth-of-type(1):before{content:"Sr No."}td[_ngcontent-%COMP%]:nth-of-type(2):before{content:"Visitor Name"}td[_ngcontent-%COMP%]:nth-of-type(3):before{content:"Visitor Mobile"}td[_ngcontent-%COMP%]:nth-of-type(4):before{content:"Host Name"}td[_ngcontent-%COMP%]:nth-of-type(5):before{content:"Visit Date"}td[_ngcontent-%COMP%]:nth-of-type(6):before{content:"Visit Status"}}@media screen and (max-width:992px){.preApp[_ngcontent-%COMP%]{max-width:70%!important;margin:auto}main[_ngcontent-%COMP%]{margin-top:3rem!important}.count[_ngcontent-%COMP%]{padding:0!important;margin:0!important;justify-content:space-between}h5[_ngcontent-%COMP%]{font-size:.85rem!important}.ccount[_ngcontent-%COMP%]{margin:.7rem 0rem}}@media screen and (max-width:440px){h5[_ngcontent-%COMP%]{font-size:.85rem!important}.preApp[_ngcontent-%COMP%]{max-width:95%!important;margin:auto;padding:1.3rem!important}main[_ngcontent-%COMP%]{margin-top:3rem!important}.count[_ngcontent-%COMP%]{padding:0!important;margin:0!important;justify-content:space-between}.ccount[_ngcontent-%COMP%]{margin:.7rem 0rem}}@media screen and (min-height:920px){h5[_ngcontent-%COMP%]{font-size:1.4rem!important}.preApp[_ngcontent-%COMP%]{margin-top:5rem!important;max-width:85%!important}}']}),n})(),lU=(()=>{class n{constructor(t,r,i,u){this.sharedService=t,this.router=r,this.db=i,this.httpClient=u,this.clicked=!1}ngOnInit(){var t=this;return(0,se.Z)(function*(){t.sharedService.get("userId")?(t.Image=t.sharedService.get("urlImg"),t.visitorData=t.sharedService.get("data"),t.visitorData=JSON.parse(t.visitorData),t.gatePass=document.getElementById("img"),console.log(t.visitorData)):(t.router.navigate([""]),console.log(t.sharedService.get("userId")))})()}gatepassSend(){var t=this;return(0,se.Z)(function*(){GE(t.gatePass).then(function(){var r=(0,se.Z)(function*(i){const u=new File([t.sharedService.convertDataUrlToBlob(i)],"img_1.png",{type:"image/png"});t.vgatePass=yield t.db.addGatepass(u,t.visitorData.visitorId+"_gatepass.png");const d="https://r0mgkjqdsb.execute-api.ap-south-1.amazonaws.com/testotp/wpgatepass?api=WS1BdVRjTW1lRk5OUERIaFVsbFd6UnVJVERaaWw4NTctelJZcGthVnRDVTo=&mobile="+t.visitorData.vMobile+"&link="+t.vgatePass.toString()+"&name="+t.visitorData.vName;console.log(d),t.httpClient.get(d).subscribe(m=>{console.log(m)})});return function(i){return r.apply(this,arguments)}}())})()}htmlPng(){GE(this.gatePass).then(t=>{var r=document.createElement("a");r.download="U-SMART-Gate Pass.png",r.href=t,r.click()}).catch(function(t){console.error("oops, something went wrong!",t)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(lc),c.Y36(_n),c.Y36(Xp),c.Y36(BS))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-gate-pass"]],decls:65,vars:12,consts:[[1,"title","column","text-center","text-white"],[1,"fs-3","fw-bold","m-0"],[1,"bg-dark","bg-opacity-50","gatePass1","py-3","mt-3","overflow-auto"],[1,"text-center"],["type","submit",1,"btn","btn-primary","btn","fw-bold","mb-2",3,"click"],["id","refresh","Refresh","",1,"btn","btn-primary","btn","fw-bold","mb-2",3,"click"],[1,"gatePass"],["id","img"],[1,"gpBg"],[1,"wrapper1"],[1,"row","justify-content-end"],["src","assets/title.svg","alt","Title and Logo"],[1,"compTitle"],[1,"compBg","m-auto"],[1,"compName"],[1,"d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-geo-alt-fill","location","ms-1"],["d","M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"],[1,"ms-1"],[1,"row"],[1,"col"],[1,"visitor"],[1,"gpBg2"],[1,"wrapper2","row"],[1,"col-5"],["alt","",1,"imgBox",3,"src"],[1,"visitor","text-white","m-0","mt-3"],[1,"d-inline","m-0"],[1,"visitor","text-white","m-0","mt-4"]],template:function(t,r){1&t&&(c._UZ(0,"app-nav")(1,"ngx-ui-loader"),c.TgZ(2,"div",0)(3,"h1",1),c._uU(4,"WELCOME TO U-SMART"),c.qZA()(),c.TgZ(5,"main",2)(6,"div",3)(7,"button",4),c.NdJ("click",function(){return r.htmlPng()}),c._uU(8,"Download Gate Pass"),c.qZA()(),c.TgZ(9,"div",3)(10,"button",5),c.NdJ("click",function(){return r.gatepassSend()}),c._uU(11,"Send GatePass"),c.qZA()(),c.TgZ(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"div",10),c._UZ(17,"img",11),c.qZA(),c.TgZ(18,"div")(19,"h1",12),c._uU(20,"Your Company Name"),c.qZA()(),c.TgZ(21,"div",13)(22,"h6",14),c._uU(23),c.qZA(),c.TgZ(24,"div",15),c.O4$(),c.TgZ(25,"svg",16),c._UZ(26,"path",17),c.qZA(),c.kcU(),c.TgZ(27,"p",18),c._uU(28),c.qZA()()(),c._UZ(29,"hr"),c.TgZ(30,"div",19)(31,"div",20)(32,"h1",21),c._uU(33,"Visitor Name"),c.qZA(),c.TgZ(34,"h6"),c._uU(35),c.qZA()(),c.TgZ(36,"div",20)(37,"h1",21),c._uU(38,"Date"),c.qZA(),c.TgZ(39,"h6"),c._uU(40),c.qZA()()(),c.TgZ(41,"div",19)(42,"div",20)(43,"h1",21),c._uU(44,"Whom To Meet"),c.qZA(),c.TgZ(45,"h6"),c._uU(46),c.qZA()(),c.TgZ(47,"div",20)(48,"h1",21),c._uU(49,"Time"),c.qZA(),c.TgZ(50,"h6"),c._uU(51),c.qZA()()()()(),c.TgZ(52,"div",22)(53,"div",23)(54,"div",24),c._UZ(55,"img",25),c.qZA(),c.TgZ(56,"div",20)(57,"h1",26),c._uU(58,"Purpose : "),c.TgZ(59,"h6",27),c._uU(60),c.qZA()(),c.TgZ(61,"h1",28),c._uU(62,"Asset : "),c.TgZ(63,"h6",27),c._uU(64),c.qZA()()()()()()()()),2&t&&(c.xp6(23),c.Oqu(r.visitorData.vCompname),c.xp6(5),c.Oqu(r.visitorData.vCaddr),c.xp6(7),c.Oqu(r.visitorData.vName),c.xp6(5),c.Oqu(r.visitorData.vDate),c.xp6(6),c.Oqu(r.visitorData.empName),c.xp6(5),c.Oqu(r.visitorData.checkinTime),c.xp6(4),c.s9C("src",r.Image,c.LSH),c.xp6(5),c.Oqu(r.visitorData.vPov),c.xp6(4),c.HOy("",r.visitorData.vLap," ",r.visitorData.vTab," ",r.visitorData.vPen," ",r.visitorData.vOther,""))},directives:[Uh,su],styles:["main[_ngcontent-%COMP%]{height:72vh}.gatePass1[_ngcontent-%COMP%]{max-width:40%!important;border-radius:10px;margin-top:8%;margin-left:24%}.btn-primary[_ngcontent-%COMP%]{background-color:#3f6bb0;border-color:#3f6bb0}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#476fb0;border-color:#476fb0}.text[_ngcontent-%COMP%]{font-size:1rem;float:left}h1[_ngcontent-%COMP%]{margin:0;padding:0}h2[_ngcontent-%COMP%]{margin:0;margin:.5rem 0}h6[_ngcontent-%COMP%]{margin:0rem 0rem .8rem 2rem;font-size:16px;font-weight:500}.gatePassD[_ngcontent-%COMP%]{max-width:55%!important;border-radius:10px;margin:auto;margin-top:4rem}.gatePass[_ngcontent-%COMP%]{display:flex;justify-content:center}.gpBg[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-color:#eff5ff;height:398px;min-width:380px;border-radius:12px 12px 0 0;padding-top:17px}.wrapper1[_ngcontent-%COMP%]{margin:0 17px;height:382px;width:377px;border:3px solid black;border-bottom:none;border-radius:12px 12px 0 0}.gpBg2[_ngcontent-%COMP%]{background-color:#3f6bb0;min-width:380px;height:150px;border-radius:0 0 12px 12px}.wrapper2[_ngcontent-%COMP%]{margin:0 17px;height:132px;width:377px;border:3px solid white;border-top:none;border-radius:0 0 12px 12px}.compTitle[_ngcontent-%COMP%]{font-size:14px;color:#6f6767;margin:1.7rem 1.7rem .5rem 1.3rem}.compBg[_ngcontent-%COMP%]{background-color:#fff;height:51px;width:333px}.compName[_ngcontent-%COMP%]{font-weight:600;margin-left:.5rem;padding-top:.3rem;margin-bottom:.1rem}.location[_ngcontent-%COMP%]{margin-bottom:1rem}p[_ngcontent-%COMP%]{font-weight:300;font-size:14px}hr[_ngcontent-%COMP%]{background-color:#000;opacity:1;margin:.7rem 1.8rem 1.5rem;height:1.5px}.visitor[_ngcontent-%COMP%]{font-size:14px;color:#6f6767;margin:0rem 1.7rem .4rem 2rem}img[_ngcontent-%COMP%]{width:80%}.imgBox[_ngcontent-%COMP%]{border:2px solid white;margin:auto;margin-top:.8rem;margin-left:.8rem;padding:.2rem}#img[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}@media screen and (max-width:992px){.gatePass1[_ngcontent-%COMP%]{max-width:70%!important;margin:auto}}@media screen and (max-width:440px){.gatePass1[_ngcontent-%COMP%]{max-width:95%!important;margin:auto;padding-left:1.5rem!important;padding-right:1.5rem!important}}@media screen and (max-width:992px){.gatePassD[_ngcontent-%COMP%]{max-width:70%!important;margin:auto}}@media screen and (max-width:440px){.gatePassD[_ngcontent-%COMP%]{max-width:95%!important;margin:auto;padding:1.3rem!important}.gatePass[_ngcontent-%COMP%]{transform:scale(.8)}}"]}),n})();const dU=function(){return[""]},hU=[{path:"",component:c2},{path:"home",component:p2},{path:"vverify",component:F2},{path:"form",component:nU},{path:"checkout",component:sU,children:[{path:"gpdetails",component:oP}]},{path:"dailyVisitor",component:uU,children:[{path:"gpdetails",component:oP}]},{path:"preApp",component:cU},{path:"gatepass",component:lU},{path:"forgotPass",component:(()=>{class n{constructor(t,r){this.afAuth=t,this.db=r,this.resetForm=new ku({userId:new yn("",Pt.compose([Pt.required,Pt.minLength(6)]))})}ngOnInit(){}resetPasswordInit(){var t=this;return(0,se.Z)(function*(){return t.email=yield t.db.getuserEmail(t.resetForm.value.userId),console.log(t.email),t.afAuth.sendPasswordResetEmail(t.email,{url:"http://localhost:4200"})})()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ll),c.Y36(Xp))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-forgot-password"]],decls:15,vars:3,consts:[[1,"bg-dark","bg-opacity-50","forgot","px-5","py-3","overflow-auto"],[1,"text-center","mt-4"],["type","button",1,"btn","fw-bold","mb-4","text-white",2,"background-color","#3F6BB0",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-left"],["fill-rule","evenodd","d","M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"],[1,"myForm",3,"formGroup"],[1,"form-outline","my-1"],["for","form2Example1",1,"form-label","text-white"],["type","text","id","form2Example1","formControlName","userId","placeholder","Security Code",1,"form-control"],[1,"text-center"],["type","submit",1,"btn","btn-primary","btn","fw-bold","mt-3",2,"background-color","#3F6BB0",3,"click"]],template:function(t,r){1&t&&(c._UZ(0,"ngx-ui-loader"),c.TgZ(1,"main",0)(2,"div",1)(3,"button",2),c.O4$(),c.TgZ(4,"svg",3),c._UZ(5,"path",4),c.qZA(),c._uU(6," Back"),c.qZA()(),c.kcU(),c.TgZ(7,"form",5)(8,"div",6)(9,"label",7),c._uU(10,"Enter Organization Security Code"),c.qZA(),c._UZ(11,"input",8),c.qZA(),c.TgZ(12,"div",9)(13,"button",10),c.NdJ("click",function(){return r.resetPasswordInit()}),c._uU(14,"Submit"),c.qZA()()()()),2&t&&(c.xp6(3),c.Q6J("routerLink",c.DdM(2,dU)),c.xp6(4),c.Q6J("formGroup",r.resetForm))},directives:[su,Hs,ps,Fs,fo,Tr,Nn,Bs],styles:["main[_ngcontent-%COMP%]{height:45vh}.forgot[_ngcontent-%COMP%]{max-width:40%!important;border-radius:10px;margin:auto;margin-top:4rem}@media screen and (max-width:992px){.forgot[_ngcontent-%COMP%]{max-width:70%!important;margin:auto}main[_ngcontent-%COMP%]{margin-top:3rem!important}}@media screen and (max-width:440px){.forgot[_ngcontent-%COMP%]{max-width:95%!important;margin:auto;padding:1.3rem!important}main[_ngcontent-%COMP%]{margin-top:3rem!important}}"]}),n})()}];let fU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Xg.forRoot(hU)],Xg]}),n})(),pU=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-logo"]],decls:3,vars:0,consts:[[1,"dlogo","text-center","mt-5"],["src","../../assets/Sumeet_Group_Logo_2.svg","alt","Logo",1,"logo","mx-4"],["src","../../assets/Usmart_Logo_1 (1).svg","alt","Logo",1,"logo"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"img",1)(2,"img",2),c.qZA())},styles:[".dlogo[_ngcontent-%COMP%]{margin-bottom:5rem}.logo[_ngcontent-%COMP%]{height:5rem}@media screen and (min-width:992px){.dlogo[_ngcontent-%COMP%]{display:none}}@media screen and (min-width:750px){.logo[_ngcontent-%COMP%]{height:9rem}}"]}),n})(),gU=(()=>{class n{constructor(){this.title="VMS"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:9,vars:0,consts:[[1,"head"],[1,"fixed-bottom","footer"],[1,"text-center","p-3","d-flex","justify-content-between"],["target","_blank","href","https://www.u-smart.ai",1,"text-white","text-decoration-none"],["target","_blank","href","",1,"text-white","text-decoration-none"]],template:function(t,r){1&t&&(c.TgZ(0,"body",0),c._UZ(1,"router-outlet")(2,"app-logo"),c.qZA(),c.TgZ(3,"footer",1)(4,"div",2)(5,"a",3),c._uU(6,"Copyright \xa9 2022, U SMART AI Lab Private Limited"),c.qZA(),c.TgZ(7,"a",4),c._uU(8,"Powered By U SMART AI Lab Private Limited"),c.qZA()()())},directives:[il,pU],styles:[".head[_ngcontent-%COMP%]{min-height:100vh;width:100%;background-image:url(bg.3763ab82b8233f93.jpg);background-position:center;overflow-x:hidden;overflow-y:hidden!important;background-size:cover}.footer[_ngcontent-%COMP%]{background-color:#3f6bb0}@media screen and (max-width:992px){a[_ngcontent-%COMP%]{font-size:.8rem}}@media screen and (max-width:700px){a[_ngcontent-%COMP%]{font-size:.6rem}}"]}),n})(),mU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[gU]}),n.\u0275inj=c.cJS({providers:[],imports:[[wa,fU,hb,zc,yi.hO.initializeApp(iI_firebase),Fw,dN,HL,j2,S2,i2.forRoot({bgsColor:"red",bgsOpacity:.5,bgsPosition:"bottom-right",bgsSize:60,bgsType:"square-loader",blur:5,delay:0,fastFadeOut:!0,fgsColor:"#f2f2f2",fgsPosition:"center-center",fgsSize:60,fgsType:"square-loader",gap:24,logoPosition:"center-center",logoSize:120,logoUrl:"",overlayBorderRadius:"0",overlayColor:"rgba(40,40,40,0.3)",pbColor:"red",pbDirection:"ltr",pbThickness:3,hasProgressBar:!1,text:"",textColor:"#FFFFFF",textPosition:"center-center",maxTime:-1,minTime:300}),o2]]}),n})();(0,c.G48)(),bu().bootstrapModule(mU).catch(n=>console.error(n))},5867:(Qe,be,k)=>{k.d(be,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=k(9681);(0,c.registerVersion)("firebase","9.8.2","app")},127:(Qe,be,k)=>{k.d(be,{Z:()=>c.Z});var c=k(3942);c.Z.registerVersion("firebase","9.8.2","app-compat")},8775:(Qe,be,k)=>{k.r(be);var c=k(5861),X=k(3942),R=k(2090),ce=k(9681),ne=k(655),ge=k(1877),ue=k(4859);const Pe=function qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ue=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ge=new ge.Yd("@firebase/auth");function We(y,...f){Ge.logLevel<=ge.in.ERROR&&Ge.error(`Auth (${ce.SDK_VERSION}): ${y}`,...f)}function Ie(y,...f){throw Ve(y,...f)}function _e(y,...f){return Ve(y,...f)}function we(y,f,g){const b=Object.assign(Object.assign({},Ue()),{[f]:g});return new R.LL("auth","Firebase",b).create(f,{appName:y.name})}function Be(y,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Ie(y,"argument-error"),we(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ve(y,...f){if("string"!=typeof y){const g=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(g,...b)}return pe.create(y,...f)}function j(y,f,...g){if(!y)throw Ve(f,...g)}function ve(y){const f="INTERNAL ASSERTION FAILED: "+y;throw We(f),new Error(f)}function W(y,f){y||ve(f)}const re=new Map;function ee(y){W(y instanceof Function,"Expected a class definition");let f=re.get(y);return f?(W(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,re.set(y,f),f)}function ke(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function at(){return"http:"===Ht()||"https:"===Ht()}function Ht(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Jt{constructor(f,g){this.shortDelay=f,this.longDelay=g,W(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function Ft(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(at()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cn(y,f){W(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class tn{static initialize(f,g,b){this.fetchImpl=f,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},br=new Jt(3e4,6e4);function Zt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Rt(y,f,g,b){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.Z)(function*(y,f,g,b,T={}){return Qr(y,T,(0,c.Z)(function*(){let P={},z={};b&&("GET"===f?z=b:P={body:JSON.stringify(b)});const fe=(0,R.xO)(Object.assign({key:y.config.apiKey},z)).slice(1),Le=yield y._getAdditionalHeaders();return Le["Content-Type"]="application/json",y.languageCode&&(Le["X-Firebase-Locale"]=y.languageCode),tn.fetch()(Ts(y,y.config.apiHost,g,fe),Object.assign({method:f,headers:Le,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Qr(y,f,g){return ar.apply(this,arguments)}function ar(){return(ar=(0,c.Z)(function*(y,f,g){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},Wt),f);try{const T=new Xr(y),P=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const z=yield P.json();if("needConfirmation"in z)throw Ei(y,"account-exists-with-different-credential",z);if(P.ok&&!("errorMessage"in z))return z;{const fe=P.ok?z.errorMessage:z.error.message,[Le,Je]=fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw Ei(y,"credential-already-in-use",z);if("EMAIL_EXISTS"===Le)throw Ei(y,"email-already-in-use",z);if("USER_DISABLED"===Le)throw Ei(y,"user-disabled",z);const lt=b[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(Je)throw we(y,lt,Je);Ie(y,lt)}}catch(T){if(T instanceof R.ZR)throw T;Ie(y,"network-request-failed")}})).apply(this,arguments)}function wr(y,f,g,b){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,c.Z)(function*(y,f,g,b,T={}){const P=yield Rt(y,f,g,b,T);return"mfaPendingCredential"in P&&Ie(y,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Ts(y,f,g,b){const T=`${f}${g}?${b}`;return y.config.emulator?Cn(y.config,T):`${y.config.apiScheme}://${T}`}class Xr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(_e(this.auth,"network-request-failed")),br.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ei(y,f,g){const b={appName:y.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const T=_e(y,f,b);return T.customData._tokenResponse=g,T}function ei(){return(ei=(0,c.Z)(function*(y,f){return Rt(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function mn(y,f){return En.apply(this,arguments)}function En(){return(En=(0,c.Z)(function*(y,f){return Rt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ks(y,f){return ti.apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(y,f){return Rt(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Wn(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function So(){return(So=(0,c.Z)(function*(y,f=!1){const g=(0,R.m9)(y),b=yield g.getIdToken(f),T=it(b);j(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const P="object"==typeof T.firebase?T.firebase:void 0,z=null==P?void 0:P.sign_in_provider;return{claims:T,token:b,authTime:Wn($t(T.auth_time)),issuedAtTime:Wn($t(T.iat)),expirationTime:Wn($t(T.exp)),signInProvider:z||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function $t(y){return 1e3*Number(y)}function it(y){const[f,g,b]=y.split(".");if(void 0===f||void 0===g||void 0===b)return We("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,R.tV)(g);return T?JSON.parse(T):(We("Failed to decode base64 JWT payload"),null)}catch(T){return We("Caught error parsing JWT payload as JSON",T),null}}function ur(y,f){return ni.apply(this,arguments)}function ni(){return(ni=(0,c.Z)(function*(y,f,g=!1){if(g)return f;try{return yield f}catch(b){throw b instanceof R.ZR&&Lt(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function Lt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Ys{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),b)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class cr{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wn(this.lastLoginAt),this.creationTime=Wn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function lr(y){return L.apply(this,arguments)}function L(){return(L=(0,c.Z)(function*(y){var f;const g=y.auth,b=yield y.getIdToken(),T=yield ur(y,Ks(g,{idToken:b}));j(null==T?void 0:T.users.length,g,"internal-error");const P=T.users[0];y._notifyReloadListener(P);const z=(null===(f=P.providerUserInfo)||void 0===f?void 0:f.length)?$(P.providerUserInfo):[],fe=Ee(y.providerData,z),lt=!!y.isAnonymous&&!(y.email&&P.passwordHash||(null==fe?void 0:fe.length)),ut={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:fe,metadata:new cr(P.createdAt,P.lastLoginAt),isAnonymous:lt};Object.assign(y,ut)})).apply(this,arguments)}function Z(){return(Z=(0,c.Z)(function*(y){const f=(0,R.m9)(y);yield lr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ee(y,f){return[...y.filter(b=>!f.some(T=>T.providerId===b.providerId)),...f]}function $(y){return y.map(f=>{var{providerId:g}=f,b=(0,ne._T)(f,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function xe(){return(xe=(0,c.Z)(function*(y,f){const g=yield Qr(y,{},(0,c.Z)(function*(){const b=(0,R.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:P}=y.config,z=Ts(y,T,"/v1/token",`key=${P}`),fe=yield y._getAdditionalHeaders();return fe["Content-Type"]="application/x-www-form-urlencoded",tn.fetch()(z,{method:"POST",headers:fe,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Ye{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){j(f.idToken,"internal-error"),j(void 0!==f.idToken,"internal-error"),j(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function vt(y){const f=it(y);return j(f,"internal-error"),j(void 0!==f.exp,"internal-error"),j(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var b=this;return(0,c.Z)(function*(){return j(!b.accessToken||b.refreshToken,f,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var b=this;return(0,c.Z)(function*(){const{accessToken:T,refreshToken:P,expiresIn:z}=yield function Q(y,f){return xe.apply(this,arguments)}(f,g);b.updateTokensAndExpiration(T,P,Number(z))})()}updateTokensAndExpiration(f,g,b){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,g){const{refreshToken:b,accessToken:T,expirationTime:P}=g,z=new Ye;return b&&(j("string"==typeof b,"internal-error",{appName:f}),z.refreshToken=b),T&&(j("string"==typeof T,"internal-error",{appName:f}),z.accessToken=T),P&&(j("number"==typeof P,"internal-error",{appName:f}),z.expirationTime=P),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ye,this.toJSON())}_performRefresh(){return ve("not implemented")}}function dt(y,f){j("string"==typeof y||void 0===y,"internal-error",{appName:f})}class Ct{constructor(f){var{uid:g,auth:b,stsTokenManager:T}=f,P=(0,ne._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ys(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new cr(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,c.Z)(function*(){const b=yield ur(g,g.stsTokenManager.getToken(g.auth,f));return j(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(f){return function Ii(y){return So.apply(this,arguments)}(this,f)}reload(){return function G(y){return Z.apply(this,arguments)}(this)}_assign(f){this!==f&&(j(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Ct(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var b=this;return(0,c.Z)(function*(){let T=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),T=!0),g&&(yield lr(b)),yield b.auth._persistUserIfCurrent(b),T&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,c.Z)(function*(){const g=yield f.getIdToken();return yield ur(f,function pt(y,f){return ei.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var b,T,P,z,fe,Le,Je,lt;const ut=null!==(b=g.displayName)&&void 0!==b?b:void 0,qn=null!==(T=g.email)&&void 0!==T?T:void 0,gi=null!==(P=g.phoneNumber)&&void 0!==P?P:void 0,Ba=null!==(z=g.photoURL)&&void 0!==z?z:void 0,df=null!==(fe=g.tenantId)&&void 0!==fe?fe:void 0,Pg=null!==(Le=g._redirectEventId)&&void 0!==Le?Le:void 0,ja=null!==(Je=g.createdAt)&&void 0!==Je?Je:void 0,Fd=null!==(lt=g.lastLoginAt)&&void 0!==lt?lt:void 0,{uid:Qc,emailVerified:kt,isAnonymous:Ld,providerData:Yo,stsTokenManager:hf}=g;j(Qc&&hf,f,"internal-error");const ff=Ye.fromJSON(this.name,hf);j("string"==typeof Qc,f,"internal-error"),dt(ut,f.name),dt(qn,f.name),j("boolean"==typeof kt,f,"internal-error"),j("boolean"==typeof Ld,f,"internal-error"),dt(gi,f.name),dt(Ba,f.name),dt(df,f.name),dt(Pg,f.name),dt(ja,f.name),dt(Fd,f.name);const pf=new Ct({uid:Qc,auth:f,email:qn,emailVerified:kt,displayName:ut,isAnonymous:Ld,photoURL:Ba,phoneNumber:gi,tenantId:df,stsTokenManager:ff,createdAt:ja,lastLoginAt:Fd});return Yo&&Array.isArray(Yo)&&(pf.providerData=Yo.map(Qy=>Object.assign({},Qy))),Pg&&(pf._redirectEventId=Pg),pf}static _fromIdTokenResponse(f,g,b=!1){return(0,c.Z)(function*(){const T=new Ye;T.updateFromServerResponse(g);const P=new Ct({uid:g.localId,auth:f,stsTokenManager:T,isAnonymous:b});return yield lr(P),P})()}}const wt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,b){var T=this;return(0,c.Z)(function*(){T.storage[g]=b})()}_get(g){var b=this;return(0,c.Z)(function*(){const T=b.storage[g];return void 0===T?null:T})()}_remove(g){var b=this;return(0,c.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return y.type="NONE",y})();function Un(y,f,g){return`firebase:${y}:${f}:${g}`}class Cr{constructor(f,g,b){this.persistence=f,this.auth=g,this.userKey=b;const{config:T,name:P}=this.auth;this.fullUserKey=Un(this.userKey,T.apiKey,P),this.fullPersistenceKey=Un("persistence",T.apiKey,P),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?Ct._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,c.Z)(function*(){if(g.persistence===f)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,b="authUser"){return(0,c.Z)(function*(){if(!g.length)return new Cr(ee(wt),f,b);const T=(yield Promise.all(g.map(function(){var Je=(0,c.Z)(function*(lt){if(yield lt._isAvailable())return lt});return function(lt){return Je.apply(this,arguments)}}()))).filter(Je=>Je);let P=T[0]||ee(wt);const z=Un(b,f.config.apiKey,f.name);let fe=null;for(const Je of g)try{const lt=yield Je._get(z);if(lt){const ut=Ct._fromJSON(f,lt);Je!==P&&(fe=ut),P=Je;break}}catch(lt){}const Le=T.filter(Je=>Je._shouldAllowMigration);return P._shouldAllowMigration&&Le.length?(P=Le[0],fe&&(yield P._set(z,fe.toJSON())),yield Promise.all(g.map(function(){var Je=(0,c.Z)(function*(lt){if(lt!==P)try{yield lt._remove(z)}catch(ut){}});return function(lt){return Je.apply(this,arguments)}}())),new Cr(P,f,b)):new Cr(P,f,b)})()}}function au(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Vn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(da(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(is(f))return"Blackberry";if(Bn(f))return"Webos";if(uu(f))return"Safari";if((f.includes("chrome/")||ha(f))&&!f.includes("edge/"))return"Chrome";if(Er(f))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function da(y=(0,R.z$)()){return/firefox\//i.test(y)}function uu(y=(0,R.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function ha(y=(0,R.z$)()){return/crios\//i.test(y)}function Vn(y=(0,R.z$)()){return/iemobile/i.test(y)}function Er(y=(0,R.z$)()){return/android/i.test(y)}function is(y=(0,R.z$)()){return/blackberry/i.test(y)}function Bn(y=(0,R.z$)()){return/webos/i.test(y)}function Fr(y=(0,R.z$)()){return/iphone|ipad|ipod/i.test(y)}function As(y=(0,R.z$)()){return Fr(y)||Er(y)||Bn(y)||is(y)||/windows phone/i.test(y)||Vn(y)}function xo(y,f=[]){let g;switch(y){case"Browser":g=au((0,R.z$)());break;case"Worker":g=`${au((0,R.z$)())}-${y}`;break;default:g=y}const b=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ce.SDK_VERSION}/${b}`}class Lr{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const b=P=>new Promise((z,fe)=>{try{z(f(P))}catch(Le){fe(Le)}});b.onAbort=g,this.queue.push(b);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,c.Z)(function*(){if(g.auth.currentUser===f)return;const b=[];try{for(const T of g.queue)yield T(f),T.onAbort&&b.push(T.onAbort)}catch(T){b.reverse();for(const P of b)try{P()}catch(z){}throw g.auth._errorFactory.create("login-blocked",{originalMessage:T.message})}})()}}class Ze{constructor(f,g,b){this.app=f,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xt(this),this.idTokenSubscription=new Xt(this),this.beforeStateQueue=new Lr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,g){var b=this;return g&&(this._popupRedirectResolver=ee(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var T,P;if(!b._deleted&&(b.persistenceManager=yield Cr.create(b,f),!b._deleted)){if(null===(T=b._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(z){}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(P=b.currentUser)||void 0===P?void 0:P.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,c.Z)(function*(){var b;const T=yield g.assertedPersistence.getCurrentUser();let P=T,z=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const fe=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,Le=null==P?void 0:P._redirectEventId,Je=yield g.tryRedirectSignIn(f);(!fe||fe===Le)&&(null==Je?void 0:Je.user)&&(P=Je.user,z=!0)}if(!P)return g.directlySetCurrentUser(null);if(!P._redirectEventId){if(z)try{yield g.beforeStateQueue.runMiddleware(P)}catch(fe){P=T,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(fe))}return P?g.reloadAndSetCurrentUserOrClear(P):g.directlySetCurrentUser(null)}return j(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===P._redirectEventId?g.directlySetCurrentUser(P):g.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(f){var g=this;return(0,c.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(T){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,c.Z)(function*(){try{yield lr(f)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function ze(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){const b=f?(0,R.m9)(f):null;return b&&j(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(f,g=!1){var b=this;return(0,c.Z)(function*(){if(!b._deleted)return f&&j(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),g||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,c.Z)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(ee(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new R.LL("auth","Firebase",f())}onAuthStateChanged(f,g,b){return this.registerStateListener(this.authStateSubscription,f,g,b)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,b){return this.registerStateListener(this.idTokenSubscription,f,g,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var b=this;return(0,c.Z)(function*(){const T=yield b.getOrInitRedirectPersistenceManager(g);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const b=f&&ee(f)||g._popupRedirectResolver;j(b,g,"argument-error"),g.redirectPersistenceManager=yield Cr.create(g,[ee(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,c.Z)(function*(){var b,T;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===f?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,c.Z)(function*(){if(f===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,b,T){if(this._deleted)return()=>{};const P="function"==typeof g?g:g.next.bind(g),z=this._isInitialized?Promise.resolve():this._initializationPromise;return j(z,this,"internal-error"),z.then(()=>P(this.currentUser)),"function"==typeof g?f.addObserver(g,b,T):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=xo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var g;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return T&&(b["X-Firebase-Client"]=T),b})()}}function ot(y){return(0,R.m9)(y)}class Xt{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,R.ne)(g=>this.observer=g)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Fi(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function Li(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class Di{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return ve("not implemented")}_getIdTokenResponse(f){return ve("not implemented")}_linkToIdToken(f,g){return ve("not implemented")}_getReauthenticationResolver(f){return ve("not implemented")}}function In(y,f){return At.apply(this,arguments)}function At(){return(At=(0,c.Z)(function*(y,f){return Rt(y,"POST","/v1/accounts:resetPassword",Zt(y,f))})).apply(this,arguments)}function Mo(y,f){return ss.apply(this,arguments)}function ss(){return(ss=(0,c.Z)(function*(y,f){return Rt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function cu(y,f){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,c.Z)(function*(y,f){return Rt(y,"POST","/v1/accounts:update",Zt(y,f))})).apply(this,arguments)}function Qs(){return(Qs=(0,c.Z)(function*(y,f){return wr(y,"POST","/v1/accounts:signInWithPassword",Zt(y,f))})).apply(this,arguments)}function xs(y,f){return pn.apply(this,arguments)}function pn(){return(pn=(0,c.Z)(function*(y,f){return Rt(y,"POST","/v1/accounts:sendOobCode",Zt(y,f))})).apply(this,arguments)}function nn(y,f){return lu.apply(this,arguments)}function lu(){return(lu=(0,c.Z)(function*(y,f){return xs(y,f)})).apply(this,arguments)}function pa(y,f){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,c.Z)(function*(y,f){return xs(y,f)})).apply(this,arguments)}function Ui(y,f){return du.apply(this,arguments)}function du(){return(du=(0,c.Z)(function*(y,f){return xs(y,f)})).apply(this,arguments)}function jl(y,f){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,c.Z)(function*(y,f){return xs(y,f)})).apply(this,arguments)}function ga(){return(ga=(0,c.Z)(function*(y,f){return wr(y,"POST","/v1/accounts:signInWithEmailLink",Zt(y,f))})).apply(this,arguments)}function Hl(){return(Hl=(0,c.Z)(function*(y,f){return wr(y,"POST","/v1/accounts:signInWithEmailLink",Zt(y,f))})).apply(this,arguments)}class dr extends Di{constructor(f,g,b,T=null){super("password",b),this._email=f,this._password=g,this._tenantId=T}static _fromEmailAndPassword(f,g){return new dr(f,g,"password")}static _fromEmailAndCode(f,g,b=null){return new dr(f,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function Dn(y,f){return Qs.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Bi(y,f){return ga.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Ie(f,"internal-error")}})()}_linkToIdToken(f,g){var b=this;return(0,c.Z)(function*(){switch(b.signInMethod){case"password":return Mo(f,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Bh(y,f){return Hl.apply(this,arguments)}(f,{idToken:g,email:b._email,oobCode:b._password});default:Ie(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Ms(y,f){return $l.apply(this,arguments)}function $l(){return($l=(0,c.Z)(function*(y,f){return wr(y,"POST","/v1/accounts:signInWithIdp",Zt(y,f))})).apply(this,arguments)}class os extends Di{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new os(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Ie("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:T}=g,P=(0,ne._T)(g,["providerId","signInMethod"]);if(!b||!T)return null;const z=new os(b,T);return z.idToken=P.idToken||void 0,z.accessToken=P.accessToken||void 0,z.secret=P.secret,z.nonce=P.nonce,z.pendingToken=P.pendingToken||null,z}_getIdTokenResponse(f){return Ms(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,Ms(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Ms(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,R.xO)(g)}return f}}function ng(y,f){return ql.apply(this,arguments)}function ql(){return(ql=(0,c.Z)(function*(y,f){return Rt(y,"POST","/v1/accounts:sendVerificationCode",Zt(y,f))})).apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(y,f){return wr(y,"POST","/v1/accounts:signInWithPhoneNumber",Zt(y,f))})).apply(this,arguments)}function Gl(){return(Gl=(0,c.Z)(function*(y,f){const g=yield wr(y,"POST","/v1/accounts:signInWithPhoneNumber",Zt(y,f));if(g.temporaryProof)throw Ei(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const ig={USER_NOT_FOUND:"user-not-found"};function Zl(){return(Zl=(0,c.Z)(function*(y,f){return wr(y,"POST","/v1/accounts:signInWithPhoneNumber",Zt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ig)})).apply(this,arguments)}class Oo extends Di{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Oo({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Oo({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function pc(y,f){return Os.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function rg(y,f){return Gl.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function sg(y,f){return Zl.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:b,verificationCode:T}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:b,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:b,phoneNumber:T,temporaryProof:P}=f;return b||g||T||P?new Oo({verificationId:g,verificationCode:b,phoneNumber:T,temporaryProof:P}):null}}class hu{constructor(f){var g,b,T,P,z,fe;const Le=(0,R.zd)((0,R.pd)(f)),Je=null!==(g=Le.apiKey)&&void 0!==g?g:null,lt=null!==(b=Le.oobCode)&&void 0!==b?b:null,ut=function jh(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Le.mode)&&void 0!==T?T:null);j(Je&&lt&&ut,"argument-error"),this.apiKey=Je,this.operation=ut,this.code=lt,this.continueUrl=null!==(P=Le.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(z=Le.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(fe=Le.tenantId)&&void 0!==fe?fe:null}static parseLink(f){const g=function ma(y){const f=(0,R.zd)((0,R.pd)(y)).link,g=f?(0,R.zd)((0,R.pd)(f)).deep_link_id:null,b=(0,R.zd)((0,R.pd)(y)).deep_link_id;return(b?(0,R.zd)((0,R.pd)(b)).link:null)||b||g||f||y}(f);try{return new hu(g)}catch(b){return null}}}let Wl=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,b){return dr._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const T=hu.parseLink(b);return j(T,"argument-error"),dr._fromEmailAndCode(g,T.code,T.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class hr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Xs extends hr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class ji extends Xs{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return j("providerId"in g&&"signInMethod"in g,"argument-error"),os._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return j(f.idToken||f.accessToken,"argument-error"),os._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return ji.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return ji.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:T,pendingToken:P,nonce:z,providerId:fe}=f;if(!b&&!T&&!g&&!P||!fe)return null;try{return new ji(fe)._credential({idToken:g,accessToken:b,nonce:z,pendingToken:P})}catch(Le){return null}}}let Po=(()=>{class y extends Xs{constructor(){super("facebook.com")}static credential(g){return os._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Kl=(()=>{class y extends Xs{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return os._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:T}=g;if(!b&&!T)return null;try{return y.credential(b,T)}catch(P){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Hh=(()=>{class y extends Xs{constructor(){super("github.com")}static credential(g){return os._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class eo extends Di{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Ms(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,Ms(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Ms(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:T,pendingToken:P}=g;return b&&T&&P&&b===T?new eo(b,P):null}static _create(f,g){return new eo(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ir extends hr{constructor(f){j(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Ir.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Ir.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=eo.fromJSON(f);return j(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:b}=f;if(!g||!b)return null;try{return eo._create(b,g)}catch(T){return null}}}let Yl=(()=>{class y extends Xs{constructor(){super("twitter.com")}static credential(g,b){return os._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:T}=g;if(!b||!T)return null;try{return y.credential(b,T)}catch(P){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Dr(y,f){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,c.Z)(function*(y,f){return wr(y,"POST","/v1/accounts:signUp",Zt(y,f))})).apply(this,arguments)}class ri{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,b,T=!1){return(0,c.Z)(function*(){const P=yield Ct._fromIdTokenResponse(f,b,T),z=gc(b);return new ri({user:P,providerId:z,_tokenResponse:b,operationType:g})})()}static _forOperation(f,g,b){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const T=gc(b);return new ri({user:f,providerId:T,_tokenResponse:b,operationType:g})})()}}function gc(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function mc(){return(mc=(0,c.Z)(function*(y){var f;const g=ot(y);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new ri({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield Dr(g,{returnSecureToken:!0}),T=yield ri._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class No extends R.ZR{constructor(f,g,b,T){var P;super(g.code,g.message),this.operationType=b,this.user=T,Object.setPrototypeOf(this,No.prototype),this.customData={appName:f.name,tenantId:null!==(P=f.tenantId)&&void 0!==P?P:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,g,b,T){return new No(f,g,b,T)}}function yc(y,f,g,b){return("reauthenticate"===f?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?No._fromErrorAndOperation(y,P,f,b):P})}function Hi(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function en(){return(en=(0,c.Z)(function*(y,f){const g=(0,R.m9)(y);yield Kt(!0,g,f);const{providerUserInfo:b}=yield mn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),T=Hi(b||[]);return g.providerData=g.providerData.filter(P=>T.has(P.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function ya(y,f){return to.apply(this,arguments)}function to(){return(to=(0,c.Z)(function*(y,f,g=!1){const b=yield ur(y,f._linkToIdToken(y.auth,yield y.getIdToken()),g);return ri._forOperation(y,"link",b)})).apply(this,arguments)}function Kt(y,f,g){return _a.apply(this,arguments)}function _a(){return(_a=(0,c.Z)(function*(y,f,g){yield lr(f);const T=!1===y?"provider-already-linked":"no-such-provider";j(Hi(f.providerData).has(g)===y,f.auth,T)})).apply(this,arguments)}function pu(y,f){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,c.Z)(function*(y,f,g=!1){const{auth:b}=y,T="reauthenticate";try{const P=yield ur(y,yc(b,T,f,y),g);j(P.idToken,b,"internal-error");const z=it(P.idToken);j(z,b,"internal-error");const{sub:fe}=z;return j(y.uid===fe,b,"user-mismatch"),ri._forOperation(y,T,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&Ie(b,"user-mismatch"),P}})).apply(this,arguments)}function er(y,f){return _c.apply(this,arguments)}function _c(){return(_c=(0,c.Z)(function*(y,f,g=!1){const b="signIn",T=yield yc(y,b,f),P=yield ri._fromIdTokenResponse(y,b,T);return g||(yield y._updateCurrentUser(P.user)),P})).apply(this,arguments)}function gn(y,f){return $i.apply(this,arguments)}function $i(){return($i=(0,c.Z)(function*(y,f){return er(ot(y),f)})).apply(this,arguments)}function tr(y,f){return no.apply(this,arguments)}function no(){return(no=(0,c.Z)(function*(y,f){const g=(0,R.m9)(y);return yield Kt(!1,g,f.providerId),ya(g,f)})).apply(this,arguments)}function as(y,f){return va.apply(this,arguments)}function va(){return(va=(0,c.Z)(function*(y,f){return pu((0,R.m9)(y),f)})).apply(this,arguments)}function Ti(y,f){return qi.apply(this,arguments)}function qi(){return(qi=(0,c.Z)(function*(y,f){return wr(y,"POST","/v1/accounts:signInWithCustomToken",Zt(y,f))})).apply(this,arguments)}function gt(){return(gt=(0,c.Z)(function*(y,f){const g=ot(y),b=yield Ti(g,{token:f,returnSecureToken:!0}),T=yield ri._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class ks{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?vc._fromServerResponse(f,g):Ie(f,"internal-error")}}class vc extends ks{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new vc(g)}}function ba(y,f,g){var b;j((null===(b=g.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),j(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(j(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(j(g.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function gu(){return(gu=(0,c.Z)(function*(y,f,g){const b=(0,R.m9)(y),T={requestType:"PASSWORD_RESET",email:f};g&&ba(b,T,g),yield pa(b,T)})).apply(this,arguments)}function wc(){return(wc=(0,c.Z)(function*(y,f,g){yield In((0,R.m9)(y),{oobCode:f,newPassword:g})})).apply(this,arguments)}function De(){return(De=(0,c.Z)(function*(y,f){yield cu((0,R.m9)(y),{oobCode:f})})).apply(this,arguments)}function Nt(y,f){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,c.Z)(function*(y,f){const g=(0,R.m9)(y),b=yield In(g,{oobCode:f}),T=b.requestType;switch(j(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":j(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":j(b.mfaInfo,g,"internal-error");default:j(b.email,g,"internal-error")}let P=null;return b.mfaInfo&&(P=ks._fromServerResponse(ot(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:P},operation:T}})).apply(this,arguments)}function yu(){return(yu=(0,c.Z)(function*(y,f){const{data:g}=yield Nt((0,R.m9)(y),f);return g.email})).apply(this,arguments)}function ii(){return(ii=(0,c.Z)(function*(y,f,g){const b=ot(y),T=yield Dr(b,{returnSecureToken:!0,email:f,password:g}),P=yield ri._fromIdTokenResponse(b,"signIn",T);return yield b._updateCurrentUser(P.user),P})).apply(this,arguments)}function Ic(){return(Ic=(0,c.Z)(function*(y,f,g){const b=(0,R.m9)(y),T={requestType:"EMAIL_SIGNIN",email:f};j(g.handleCodeInApp,b,"argument-error"),g&&ba(b,T,g),yield Ui(b,T)})).apply(this,arguments)}function us(){return(us=(0,c.Z)(function*(y,f,g){const b=(0,R.m9)(y),T=Wl.credentialWithLink(f,g||ke());return j(T._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),gn(b,T)})).apply(this,arguments)}function fr(y,f){return si.apply(this,arguments)}function si(){return(si=(0,c.Z)(function*(y,f){return Rt(y,"POST","/v1/accounts:createAuthUri",Zt(y,f))})).apply(this,arguments)}function Rs(){return(Rs=(0,c.Z)(function*(y,f){const b={identifier:f,continueUri:at()?ke():"http://localhost"},{signinMethods:T}=yield fr((0,R.m9)(y),b);return T||[]})).apply(this,arguments)}function Dc(){return(Dc=(0,c.Z)(function*(y,f){const g=(0,R.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&ba(g.auth,T,f);const{email:P}=yield nn(g.auth,T);P!==y.email&&(yield y.reload())})).apply(this,arguments)}function bu(){return(bu=(0,c.Z)(function*(y,f,g){const b=(0,R.m9)(y),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};g&&ba(b.auth,P,g);const{email:z}=yield jl(b.auth,P);z!==y.email&&(yield y.reload())})).apply(this,arguments)}function Tc(y,f){return wa.apply(this,arguments)}function wa(){return(wa=(0,c.Z)(function*(y,f){return Rt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Cu(){return(Cu=(0,c.Z)(function*(y,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const b=(0,R.m9)(y),P={idToken:yield b.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},z=yield ur(b,Tc(b.auth,P));b.displayName=z.displayName||null,b.photoURL=z.photoUrl||null;const fe=b.providerData.find(({providerId:Le})=>"password"===Le);fe&&(fe.displayName=b.displayName,fe.photoURL=b.photoURL),yield b._updateTokensIfNecessary(z)})).apply(this,arguments)}function Eu(y,f,g){return io.apply(this,arguments)}function io(){return(io=(0,c.Z)(function*(y,f,g){const{auth:b}=y,P={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(P.email=f),g&&(P.password=g);const z=yield ur(y,Mo(b,P));yield y._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class Vo{constructor(f,g,b={}){this.isNewUser=f,this.providerId=g,this.profile=b}}class nd extends Vo{constructor(f,g,b,T){super(f,g,b),this.username=T}}class Iu extends Vo{constructor(f,g){super(f,"facebook.com",g)}}class Br extends nd{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class qh extends Vo{constructor(f,g){super(f,"google.com",g)}}class Ac extends nd{constructor(f,g,b){super(f,"twitter.com",g,b)}}function Kn(y){const{user:f,_tokenResponse:g}=y;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function td(y){var f,g;if(!y)return null;const{providerId:b}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},P=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const z=null===(g=null===(f=it(y.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(z)return new Vo(P,"anonymous"!==z&&"custom"!==z?z:null)}if(!b)return null;switch(b){case"facebook.com":return new Iu(P,T);case"github.com":return new Br(P,T);case"google.com":return new qh(P,T);case"twitter.com":return new Ac(P,T,y.screenName||null);case"custom":case"anonymous":return new Vo(P,null);default:return new Vo(P,b,T)}}(g)}class cs{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new cs("enroll",f)}static _fromMfaPendingCredential(f){return new cs("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,b;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return cs._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(b=f.multiFactorSession)||void 0===b?void 0:b.idToken)return cs._fromIdtoken(f.multiFactorSession.idToken)}return null}}class oo{constructor(f,g,b){this.session=f,this.hints=g,this.signInResolver=b}static _fromError(f,g){const b=ot(f),T=g.customData._serverResponse,P=(T.mfaInfo||[]).map(fe=>ks._fromServerResponse(b,fe));j(T.mfaPendingCredential,b,"internal-error");const z=cs._fromMfaPendingCredential(T.mfaPendingCredential);return new oo(z,P,function(){var fe=(0,c.Z)(function*(Le){const Je=yield Le._process(b,z);delete T.mfaInfo,delete T.mfaPendingCredential;const lt=Object.assign(Object.assign({},T),{idToken:Je.idToken,refreshToken:Je.refreshToken});switch(g.operationType){case"signIn":const ut=yield ri._fromIdTokenResponse(b,g.operationType,lt);return yield b._updateCurrentUser(ut.user),ut;case"reauthenticate":return j(g.user,b,"internal-error"),ri._forOperation(g.user,g.operationType,lt);default:Ie(b,"internal-error")}});return function(Le){return fe.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,c.Z)(function*(){return g.signInResolver(f)})()}}function sd(y,f){return Rt(y,"POST","/v2/accounts/mfaEnrollment:start",Zt(y,f))}class Bo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>ks._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new Bo(f)}getSession(){var f=this;return(0,c.Z)(function*(){return cs._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var b=this;return(0,c.Z)(function*(){const T=f,P=yield b.getSession(),z=yield ur(b.user,T._process(b.user.auth,P,g));return yield b.user._updateTokensIfNecessary(z),b.user.reload()})()}unenroll(f){var g=this;return(0,c.Z)(function*(){const b="string"==typeof f?f:f.uid,T=yield g.user.getIdToken(),P=yield ur(g.user,function ao(y,f){return Rt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Zt(y,f))}(g.user.auth,{idToken:T,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:z})=>z!==b),yield g.user._updateTokensIfNecessary(P);try{yield g.user.reload()}catch(z){if("auth/user-token-expired"!==z.code)throw z}})()}}const Du=new WeakMap,Gi="__sak";class Ea{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Gi,"1"),this.storage.removeItem(Gi),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const uo=(()=>{class y extends Ea{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function lg(){const y=(0,R.z$)();return uu(y)||Fr(y)}()&&function Xn(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=As(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const T=this.storage.getItem(b),P=this.localCache[b];T!==P&&g(b,P,T)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((fe,Le,Je)=>{this.notifyListeners(fe,Je)});const T=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const fe=this.storage.getItem(T);if(g.newValue!==fe)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!b)return}const P=()=>{const fe=this.storage.getItem(T);!b&&this.localCache[T]===fe||this.notifyListeners(T,fe)},z=this.storage.getItem(T);!function fa(){return(0,R.w1)()&&10===document.documentMode}()||z===g.newValue||g.newValue===g.oldValue?P():setTimeout(P,10)}notifyListeners(g,b){this.localCache[g]=b;const T=this.listeners[g];if(T)for(const P of Array.from(T))P(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var T=()=>super._set,P=this;return(0,c.Z)(function*(){yield T().call(P,g,b),P.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,T=this;return(0,c.Z)(function*(){const P=yield b().call(T,g);return T.localCache[g]=JSON.stringify(P),P})()}_remove(g){var b=()=>super._remove,T=this;return(0,c.Z)(function*(){yield b().call(T,g),delete T.localCache[g]})()}}return y.type="LOCAL",y})(),zi=(()=>{class y extends Ea{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return y.type="SESSION",y})();let ad=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(P=>P.isListeningto(g));if(b)return b;const T=new y(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,c.Z)(function*(){const T=g,{eventId:P,eventType:z,data:fe}=T.data,Le=b.handlersMap[z];if(!(null==Le?void 0:Le.size))return;T.ports[0].postMessage({status:"ack",eventId:P,eventType:z});const Je=Array.from(Le).map(function(){var ut=(0,c.Z)(function*(qn){return qn(T.origin,fe)});return function(qn){return ut.apply(this,arguments)}}()),lt=yield function jo(y){return Promise.all(y.map(function(){var f=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return f.apply(this,arguments)}}()))}(Je);T.ports[0].postMessage({status:"done",eventId:P,eventType:z,response:lt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ls(y="",f=10){let g="";for(let b=0;b<f;b++)g+=Math.floor(10*Math.random());return y+g}class jr{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,b=50){var T=this;return(0,c.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let z,fe;return new Promise((Le,Je)=>{const lt=ls("",20);P.port1.start();const ut=setTimeout(()=>{Je(new Error("unsupported_event"))},b);fe={messageChannel:P,onMessage(qn){const gi=qn;if(gi.data.eventId===lt)switch(gi.data.status){case"ack":clearTimeout(ut),z=setTimeout(()=>{Je(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),Le(gi.data.response);break;default:clearTimeout(ut),clearTimeout(z),Je(new Error("invalid_response"))}}},T.handlers.add(fe),P.port1.addEventListener("message",fe.onMessage),T.target.postMessage({eventType:f,eventId:lt,data:g},[P.port2])}).finally(()=>{fe&&T.removeMessageHandler(fe)})})()}}function Ut(){return window}function Ho(){return void 0!==Ut().WorkerGlobalScope&&"function"==typeof Ut().importScripts}function Sc(){return(Sc=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Mc="firebaseLocalStorageDb",Yn="firebaseLocalStorage",qo="fbase_key";class Ns{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function pr(y,f){return y.transaction([Yn],f?"readwrite":"readonly").objectStore(Yn)}function Tu(){const y=indexedDB.open(Mc,1);return new Promise((f,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(Yn,{keyPath:qo})}catch(T){g(T)}}),y.addEventListener("success",(0,c.Z)(function*(){const b=y.result;b.objectStoreNames.contains(Yn)?f(b):(b.close(),yield function Ia(){const y=indexedDB.deleteDatabase(Mc);return new Ns(y).toPromise()}(),f(yield Tu()))}))})}function Tr(y,f,g){return oi.apply(this,arguments)}function oi(){return(oi=(0,c.Z)(function*(y,f,g){const b=pr(y,!0).put({[qo]:f,value:g});return new Ns(b).toPromise()})).apply(this,arguments)}function hn(){return(hn=(0,c.Z)(function*(y,f){const g=pr(y,!1).get(f),b=yield new Ns(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function xi(y,f){const g=pr(y,!0).delete(f);return new Ns(g).toPromise()}const co=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield Tu()),g.db})()}_withRetries(g){var b=this;return(0,c.Z)(function*(){let T=0;for(;;)try{const P=yield b._openDb();return yield g(P)}catch(P){if(T++>3)throw P;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return Ho()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=ad._getInstance(function ud(){return Ho()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,c.Z)(function*(T,P){return{keyProcessed:(yield g._poll()).includes(P.key)}});return function(T,P){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,c.Z)(function*(T,P){return["keyChanged"]});return function(T,P){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var b,T;if(g.activeServiceWorker=yield function $o(){return Sc.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new jr(g.activeServiceWorker);const P=yield g.sender._send("ping",{},800);!P||(null===(b=P[0])||void 0===b?void 0:b.fulfilled)&&(null===(T=P[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,c.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function xc(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Tu();return yield Tr(g,Gi,"1"),yield xi(g,Gi),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,c.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var T=this;return(0,c.Z)(function*(){return T._withPendingWrite((0,c.Z)(function*(){return yield T._withRetries(P=>Tr(P,g,b)),T.localCache[g]=b,T.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,c.Z)(function*(){const T=yield b._withRetries(P=>function Au(y,f){return hn.apply(this,arguments)}(P,g));return b.localCache[g]=T,T})()}_remove(g){var b=this;return(0,c.Z)(function*(){return b._withPendingWrite((0,c.Z)(function*(){return yield b._withRetries(T=>xi(T,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const b=yield g._withRetries(z=>{const fe=pr(z,!1).getAll();return new Ns(fe).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const T=[],P=new Set;for(const{fbase_key:z,value:fe}of b)P.add(z),JSON.stringify(g.localCache[z])!==JSON.stringify(fe)&&(g.notifyListeners(z,fe),T.push(z));for(const z of Object.keys(g.localCache))g.localCache[z]&&!P.has(z)&&(g.notifyListeners(z,null),T.push(z));return T})()}notifyListeners(g,b){this.localCache[g]=b;const T=this.listeners[g];if(T)for(const P of Array.from(T))P(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ta(y,f){return Rt(y,"POST","/v2/accounts/mfaSignIn:start",Zt(y,f))}function Aa(){return(Aa=(0,c.Z)(function*(y){return(yield Rt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Sa(y){return new Promise((f,g)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=f,b.onerror=T=>{const P=_e("internal-error");P.customData=T,g(P)},b.type="text/javascript",b.charset="UTF-8",function Go(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(b)})}function ai(y){return`__${y}${Math.floor(1e6*Math.random())}`}const xa=1e12;class Su{constructor(f){this.auth=f,this.counter=xa,this._widgets=new Map}render(f,g){const b=this.counter;return this._widgets.set(b,new Zo(f,this.auth.name,g||{})),this.counter++,b}reset(f){var g;const b=f||xa;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(f){var g;return(null===(g=this._widgets.get(f||xa))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,c.Z)(function*(){var b;return null===(b=g._widgets.get(f||xa))||void 0===b||b.execute(),""})()}}class Zo{constructor(f,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;j(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Pc(y){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const kc=ai("rcb"),fn=new Jt(3e4,6e4);class zh{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ut().grecaptcha}load(f,g=""){return j(function Wh(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Ut().grecaptcha):new Promise((b,T)=>{const P=Ut().setTimeout(()=>{T(_e(f,"network-request-failed"))},fn.get());Ut()[kc]=()=>{Ut().clearTimeout(P),delete Ut()[kc];const fe=Ut().grecaptcha;if(!fe)return void T(_e(f,"internal-error"));const Le=fe.render;fe.render=(Je,lt)=>{const ut=Le(Je,lt);return this.counter++,ut},this.hostLanguage=g,b(fe)},Sa(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:kc,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(P),T(_e(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!Ut().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class cd{load(f){return(0,c.Z)(function*(){return new Su(f)})()}clearedOneInstance(){}}const Rc="recaptcha",ld={theme:"light",type:"image"};class Nc{constructor(f,g=Object.assign({},ld),b){this.parameters=g,this.type=Rc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ot(b),this.isInvisible="invisible"===this.parameters.size,j("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;j(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cd:new zh,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(g)||new Promise(P=>{const z=fe=>{!fe||(f.tokenChangeListeners.delete(z),P(fe))};f.tokenChangeListeners.add(z),f.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){j(!this.parameters.sitekey,this.auth,"argument-error"),j(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),j("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof f)f(g);else if("string"==typeof f){const b=Ut()[f];"function"==typeof b&&b(g)}}}assertNotDestroyed(){j(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){j(at()&&!Ho(),f.auth,"internal-error"),yield function zo(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function hs(y){return Aa.apply(this,arguments)}(f.auth);j(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return j(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Fc{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Oo._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function ui(){return(ui=(0,c.Z)(function*(y,f,g){const b=ot(y),T=yield Nn(b,f,(0,R.m9)(g));return new Fc(T,P=>gn(b,P))})).apply(this,arguments)}function Lc(){return(Lc=(0,c.Z)(function*(y,f,g){const b=(0,R.m9)(y);yield Kt(!1,b,"phone");const T=yield Nn(b.auth,f,(0,R.m9)(g));return new Fc(T,P=>tr(b,P))})).apply(this,arguments)}function Ar(){return(Ar=(0,c.Z)(function*(y,f,g){const b=(0,R.m9)(y),T=yield Nn(b.auth,f,(0,R.m9)(g));return new Fc(T,P=>as(b,P))})).apply(this,arguments)}function Nn(y,f,g){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,c.Z)(function*(y,f,g){var b;const T=yield g.verify();try{let P;if(j("string"==typeof T,y,"argument-error"),j(g.type===Rc,y,"argument-error"),P="string"==typeof f?{phoneNumber:f}:f,"session"in P){const z=P.session;if("phoneNumber"in P)return j("enroll"===z.type,y,"internal-error"),(yield sd(y,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{j("signin"===z.type,y,"internal-error");const fe=(null===(b=P.multiFactorHint)||void 0===b?void 0:b.uid)||P.multiFactorUid;return j(fe,y,"missing-multi-factor-info"),(yield Ta(y,{mfaPendingCredential:z.credential,mfaEnrollmentId:fe,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield ng(y,{phoneNumber:P.phoneNumber,recaptchaToken:T});return z}}finally{g._reset()}})).apply(this,arguments)}function ci(){return(ci=(0,c.Z)(function*(y,f){yield ya((0,R.m9)(y),f)})).apply(this,arguments)}let Us=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=ot(g)}verifyPhoneNumber(g,b){return Nn(this.auth,g,(0,R.m9)(b))}static credential(g,b){return Oo._fromVerification(g,b)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:T}=g;return b&&T?Oo._fromTokenResponse(b,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Mi(y,f){return f?ee(f):(j(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ma extends Di{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Ms(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Ms(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Ms(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Kh(y){return er(y.auth,new Ma(y),y.bypassAuthState)}function Yh(y){const{auth:f,user:g}=y;return j(g,f,"internal-error"),pu(g,new Ma(y),y.bypassAuthState)}function fg(y){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,c.Z)(function*(y){const{auth:f,user:g}=y;return j(g,f,"internal-error"),ya(g,new Ma(y),y.bypassAuthState)})).apply(this,arguments)}class dd{constructor(f,g,b,T,P=!1){this.auth=f,this.resolver=b,this.user=T,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,c.Z)(function*(b,T){f.pendingPromise={resolve:b,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(P){f.reject(P)}});return function(b,T){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,c.Z)(function*(){const{urlResponse:b,sessionId:T,postBody:P,tenantId:z,error:fe,type:Le}=f;if(fe)return void g.reject(fe);const Je={auth:g.auth,requestUri:b,sessionId:T,tenantId:z||void 0,postBody:P||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Le)(Je))}catch(lt){g.reject(lt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Kh;case"linkViaPopup":case"linkViaRedirect":return fg;case"reauthViaPopup":case"reauthViaRedirect":return Yh;default:Ie(this.auth,"internal-error")}}resolve(f){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Oa=new Jt(2e3,1e4);function Wi(){return(Wi=(0,c.Z)(function*(y,f,g){const b=ot(y);Be(y,f,hr);const T=Mi(b,g);return new ho(b,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function Uc(){return(Uc=(0,c.Z)(function*(y,f,g){const b=(0,R.m9)(y);Be(b.auth,f,hr);const T=Mi(b.auth,g);return new ho(b.auth,"reauthViaPopup",f,T,b).executeNotNull()})).apply(this,arguments)}function li(){return(li=(0,c.Z)(function*(y,f,g){const b=(0,R.m9)(y);Be(b.auth,f,hr);const T=Mi(b.auth,g);return new ho(b.auth,"linkViaPopup",f,T,b).executeNotNull()})).apply(this,arguments)}let ho=(()=>{class y extends dd{constructor(g,b,T,P,z){super(g,b,P,z),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const b=yield g.execute();return j(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,c.Z)(function*(){W(1===g.filter.length,"Popup operations only handle one event");const b=ls();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(_e(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,T;this.pollId=(null===(T=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Oa.get())};g()}}return y.currentPopupAction=null,y})();const Ki=new Map;class Vc extends dd{constructor(f,g,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,c.Z)(function*(){let b=Ki.get(g.auth._key());if(!b){try{const P=(yield function Bc(y,f){return Yi.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;b=()=>Promise.resolve(P)}catch(T){b=()=>Promise.reject(T)}Ki.set(g.auth._key(),b)}return g.bypassAuthState||Ki.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,b=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(b,f);if("unknown"!==f.type){if(f.eventId){const T=yield b.auth._redirectUserForId(f.eventId);if(T)return b.user=T,g().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Yi(){return(Yi=(0,c.Z)(function*(y,f){const g=F(f),b=O(y);if(!(yield b._isAvailable()))return!1;const T="true"===(yield b._get(g));return yield b._remove(g),T})).apply(this,arguments)}function Pa(y,f){return ka.apply(this,arguments)}function ka(){return(ka=(0,c.Z)(function*(y,f){return O(y)._set(F(f),"true")})).apply(this,arguments)}function D(y,f){Ki.set(y._key(),f)}function O(y){return ee(y._redirectPersistence)}function F(y){return Un("pendingRedirect",y.config.apiKey,y.name)}function Oe(){return(Oe=(0,c.Z)(function*(y,f,g){const b=ot(y);Be(y,f,hr);const T=Mi(b,g);return yield Pa(T,b),T._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function bt(){return(bt=(0,c.Z)(function*(y,f,g){const b=(0,R.m9)(y);Be(b.auth,f,hr);const T=Mi(b.auth,g);yield Pa(T,b.auth);const P=yield Jn(b);return T._openRedirect(b.auth,f,"reauthViaRedirect",P)})).apply(this,arguments)}function An(){return(An=(0,c.Z)(function*(y,f,g){const b=(0,R.m9)(y);Be(b.auth,f,hr);const T=Mi(b.auth,g);yield Kt(!1,b,f.providerId),yield Pa(T,b.auth);const P=yield Jn(b);return T._openRedirect(b.auth,f,"linkViaRedirect",P)})).apply(this,arguments)}function Vs(){return(Vs=(0,c.Z)(function*(y,f){return yield ot(y)._initializationPromise,Ji(y,f,!1)})).apply(this,arguments)}function Ji(y,f){return $r.apply(this,arguments)}function $r(){return($r=(0,c.Z)(function*(y,f,g=!1){const b=ot(y),T=Mi(b,f),z=yield new Vc(b,T,g).execute();return z&&!g&&(delete z.user._redirectEventId,yield b._persistUserIfCurrent(z.user),yield b._setRedirectUser(null,f)),z})).apply(this,arguments)}function Jn(y){return qr.apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(y){const f=ls(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class fd{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(g=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function jc(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xu(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var b;if(f.error&&!xu(f)){const T=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(_e(this.auth,T))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const b=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pd(f))}saveEventToCache(f){this.cachedEventUids.add(pd(f)),this.lastProcessedEventTime=Date.now()}}function pd(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function xu({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Mu(y){return gd.apply(this,arguments)}function gd(){return(gd=(0,c.Z)(function*(y,f={}){return Rt(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Qh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ou=/^https?/;function md(){return(md=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Mu(y);for(const g of f)try{if(Vy(g))return}catch(b){}Ie(y,"unauthorized-domain")})).apply(this,arguments)}function Vy(y){const f=ke(),{protocol:g,hostname:b}=new URL(f);if(y.startsWith("chrome-extension://")){const z=new URL(y);return""===z.hostname&&""===b?"chrome-extension:"===g&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&z.hostname===b}if(!Ou.test(g))return!1;if(Qh.test(y))return b===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(b)}const yd=new Jt(3e4,6e4);function yn(){const y=Ut().___jsl;if(null==y?void 0:y.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let _d=null;function By(y){return _d=_d||function ku(y){return new Promise((f,g)=>{var b,T,P;function z(){yn(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{yn(),g(_e(y,"network-request-failed"))},timeout:yd.get()})}if(null===(T=null===(b=Ut().gapi)||void 0===b?void 0:b.iframes)||void 0===T?void 0:T.Iframe)f(gapi.iframes.getContext());else{if(!(null===(P=Ut().gapi)||void 0===P?void 0:P.load)){const fe=ai("iframefcb");return Ut()[fe]=()=>{gapi.load?z():g(_e(y,"network-request-failed"))},Sa(`https://apis.google.com/js/api.js?onload=${fe}`).catch(Le=>g(Le))}z()}}).catch(f=>{throw _d=null,f})}(y),_d}const Hc=new Jt(5e3,15e3),$c={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ib=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sb(y){const f=y.config;j(f.authDomain,y,"auth-domain-config-required");const g=f.emulator?Cn(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:y.name,v:ce.SDK_VERSION},T=ib.get(y.config.apiHost);T&&(b.eid=T);const P=y._getFrameworks();return P.length&&(b.fw=P.join(",")),`${g}?${(0,R.xO)(b).slice(1)}`}function Nu(){return Nu=(0,c.Z)(function*(y){const f=yield By(y),g=Ut().gapi;return j(g,y,"internal-error"),f.open({where:document.body,url:sb(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$c,dontclear:!0},b=>new Promise(function(){var T=(0,c.Z)(function*(P,z){yield b.restyle({setHideOnLeave:!1});const fe=_e(y,"network-request-failed"),Le=Ut().setTimeout(()=>{z(fe)},Hc.get());function Je(){Ut().clearTimeout(Le),P(b)}b.ping(Je).then(Je,()=>{z(fe)})});return function(P,z){return T.apply(this,arguments)}}()))}),Nu.apply(this,arguments)}const bd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class mg{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function gs(y,f,g,b,T,P){j(y.config.authDomain,y,"auth-domain-config-required"),j(y.config.apiKey,y,"invalid-api-key");const z={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:b,v:ce.SDK_VERSION,eventId:T};if(f instanceof hr){f.setDefaultLanguage(y.languageCode),z.providerId=f.providerId||"",(0,R.xb)(f.getCustomParameters())||(z.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Le,Je]of Object.entries(P||{}))z[Le]=Je}if(f instanceof Xs){const Le=f.getScopes().filter(Je=>""!==Je);Le.length>0&&(z.scopes=Le.join(","))}y.tenantId&&(z.tid=y.tenantId);const fe=z;for(const Le of Object.keys(fe))void 0===fe[Le]&&delete fe[Le];return`${function Ra({config:y}){return y.emulator?Cn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,R.xO)(fe).slice(1)}`}const wd="webStorageSupport";class Ed extends class Hy{constructor(f){this.factorId=f}_process(f,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,b);case"signin":return this._finalizeSignIn(f,g.credential);default:return ve("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ed(f)}_finalizeEnroll(f,g,b){return function cg(y,f){return Rt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Zt(y,f))}(f,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Oc(y,f){return Rt(y,"POST","/v2/accounts/mfaSignIn:finalize",Zt(y,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $y=(()=>{class y{constructor(){}static assertion(g){return Ed._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var fo="@firebase/auth";class tf{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(b=>{var T;f((null===(T=b)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Na(){return window}function Pi(){return(Pi=(0,c.Z)(function*(y,f,g){var b;const{BuildInfo:T}=Na();W(f.sessionId,"AuthEvent did not contain a session ID");const P=yield aI(f.sessionId),z={};return Fr()?z.ibi=T.packageName:Er()?z.apn=T.packageName:Ie(y,"operation-not-supported-in-this-environment"),T.displayName&&(z.appDisplayName=T.displayName),z.sessionId=P,gs(y,g,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,z)})).apply(this,arguments)}function Fa(){return(Fa=(0,c.Z)(function*(y){const{BuildInfo:f}=Na(),g={};Fr()?g.iosBundleId=f.packageName:Er()?g.androidPackageName=f.packageName:Ie(y,"operation-not-supported-in-this-environment"),yield Mu(y,g)})).apply(this,arguments)}function sf(){return(sf=(0,c.Z)(function*(y,f,g){const{cordova:b}=Na();let T=()=>{};try{yield new Promise((P,z)=>{let fe=null;function Le(){var ut;P();const qn=null===(ut=b.plugins.browsertab)||void 0===ut?void 0:ut.close;"function"==typeof qn&&qn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Je(){fe||(fe=window.setTimeout(()=>{z(_e(y,"redirect-cancelled-by-user"))},2e3))}function lt(){"visible"===(null==document?void 0:document.visibilityState)&&Je()}f.addPassiveListener(Le),document.addEventListener("resume",Je,!1),Er()&&document.addEventListener("visibilitychange",lt,!1),T=()=>{f.removePassiveListener(Le),document.removeEventListener("resume",Je,!1),document.removeEventListener("visibilitychange",lt,!1),fe&&window.clearTimeout(fe)}})}finally{T()}})).apply(this,arguments)}function aI(y){return La.apply(this,arguments)}function La(){return(La=(0,c.Z)(function*(y){const f=Id(y),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Id(y){if(W(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),g=new Uint8Array(f);for(let b=0;b<y.length;b++)g[b]=y.charCodeAt(b);return g}!function nf(y){(0,ce._registerComponent)(new ue.wA("auth",(f,{options:g})=>{const b=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),{apiKey:P,authDomain:z}=b.options;return((fe,Le)=>{j(P&&!P.includes(":"),"invalid-api-key",{appName:fe.name}),j(!(null==z?void 0:z.includes(":")),"argument-error",{appName:fe.name});const Je={apiKey:P,authDomain:z,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xo(y)},lt=new Ze(fe,Le,Je);return function ae(y,f){const g=(null==f?void 0:f.persistence)||[],b=(Array.isArray(g)?g:[g]).map(ee);(null==f?void 0:f.errorMap)&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(b,null==f?void 0:f.popupRedirectResolver)}(lt,g),lt})(b,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,b)=>{f.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new ue.wA("auth-internal",f=>{const g=ot(f.getProvider("auth").getImmediate());return new tf(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(fo,"0.20.2",function qy(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ce.registerVersion)(fo,"0.20.2","esm2017")}("Browser");class cb extends fd{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function Cg(y){return Td.apply(this,arguments)}function Td(){return(Td=(0,c.Z)(function*(y){const f=yield Ad()._get(Fu(y));return f&&(yield Ad()._remove(Fu(y))),f})).apply(this,arguments)}function Eg(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*f.length);y.push(f.charAt(b))}return y.join("")}function Ad(){return ee(uo)}function Fu(y){return Un("authEvent",y.config.apiKey,y.name)}function xd(y){if(!(null==y?void 0:y.includes("?")))return{};const[f,...g]=y.split("?");return(0,R.zd)(g.join("?"))}function Md(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_e("no-auth-event")}}function Od(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Dg(y=(0,R.z$)()){return!("file:"!==Od()&&"ionic:"!==Od()&&"capacitor:"!==Od()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ag(){try{const y=self.localStorage,f=ls();if(y)return y.setItem(f,"1"),y.removeItem(f),!function Tg(y=(0,R.z$)()){return function zc(){return(0,R.w1)()&&11===(null==document?void 0:document.documentMode)}()||function di(y=(0,R.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,R.hl)()}catch(y){return ht()&&(0,R.hl)()}return!1}function ht(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function un(){return(function db(){return"http:"===Od()||"https:"===Od()}()||(0,R.ru)()||Dg())&&!function hb(){return(0,R.b$)()||(0,R.UG)()}()&&Ag()&&!ht()}function $n(){return Dg()&&"undefined"!=typeof document}function cf(){return(cf=(0,c.Z)(function*(){return!!$n()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const hi={LOCAL:"local",NONE:"none",SESSION:"session"},Lu=j,Wc="persistence";function kd(y){return Va.apply(this,arguments)}function Va(){return(Va=(0,c.Z)(function*(y){yield y._initializationPromise;const f=Nd(),g=Un(Wc,y.config.apiKey,y.name);f&&f.setItem(g,y._getPersistence())})).apply(this,arguments)}function Nd(){var y;try{return(null===(y=function Ky(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(f){return null}}const lf=j;class po{constructor(){this.browserResolver=ee(class _g{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zi,this._completeRedirectFn=Ji,this._overrideRedirectResult=D}_openPopup(f,g,b,T){var P=this;return(0,c.Z)(function*(){var z;W(null===(z=P.eventManagers[f._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const fe=gs(f,g,b,ke(),T);return function ef(y,f,g,b=500,T=600){const P=Math.max((window.screen.availHeight-T)/2,0).toString(),z=Math.max((window.screen.availWidth-b)/2,0).toString();let fe="";const Le=Object.assign(Object.assign({},bd),{width:b.toString(),height:T.toString(),top:P,left:z}),Je=(0,R.z$)().toLowerCase();g&&(fe=ha(Je)?"_blank":g),da(Je)&&(f=f||"http://localhost",Le.scrollbars="yes");const lt=Object.entries(Le).reduce((qn,[gi,Ba])=>`${qn}${gi}=${Ba},`,"");if(function Js(y=(0,R.z$)()){var f;return Fr(y)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Je)&&"_self"!==fe)return function jy(y,f){const g=document.createElement("a");g.href=y,g.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(f||"",fe),new mg(null);const ut=window.open(f||"",fe,lt);j(ut,y,"popup-blocked");try{ut.focus()}catch(qn){}return new mg(ut)}(f,fe,ls())})()}_openRedirect(f,g,b,T){var P=this;return(0,c.Z)(function*(){return yield P._originValidation(f),function mt(y){Ut().location.href=y}(gs(f,g,b,ke(),T)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:T,promise:P}=this.eventManagers[g];return T?Promise.resolve(T):(W(P,"If manager is not set, promise should be"),P)}const b=this.initAndGetManager(f);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(f){var g=this;return(0,c.Z)(function*(){const b=yield function oI(y){return Nu.apply(this,arguments)}(f),T=new fd(f);return b.register("authEvent",P=>(j(null==P?void 0:P.authEvent,f,"invalid-auth-event"),{status:T.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:T},g.iframes[f._key()]=b,T})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(wd,{type:wd},T=>{var P;const z=null===(P=null==T?void 0:T[0])||void 0===P?void 0:P[wd];void 0!==z&&g(!!z),Ie(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Pu(y){return md.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return As()||uu()||Fr()}}),this.cordovaResolver=ee(class zy{constructor(){this._redirectPersistence=zi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ji,this._overrideRedirectResult=D}_initialize(f){var g=this;return(0,c.Z)(function*(){const b=f._key();let T=g.eventManagers.get(b);return T||(T=new cb(f),g.eventManagers.set(b,T),g.attachCallbackListeners(f,T)),T})()}_openPopup(f){Ie(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,b,T){var P=this;return(0,c.Z)(function*(){!function ub(y){var f,g,b,T,P,z,fe,Le,Je,lt;const ut=Na();j("function"==typeof(null===(f=null==ut?void 0:ut.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),j(void 0!==(null===(g=null==ut?void 0:ut.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),j("function"==typeof(null===(P=null===(T=null===(b=null==ut?void 0:ut.cordova)||void 0===b?void 0:b.plugins)||void 0===T?void 0:T.browsertab)||void 0===P?void 0:P.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(Le=null===(fe=null===(z=null==ut?void 0:ut.cordova)||void 0===z?void 0:z.plugins)||void 0===fe?void 0:fe.browsertab)||void 0===Le?void 0:Le.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(lt=null===(Je=null==ut?void 0:ut.cordova)||void 0===Je?void 0:Je.InAppBrowser)||void 0===lt?void 0:lt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const z=yield P._initialize(f);yield z.initialized(),z.resetRedirect(),function I(){Ki.clear()}(),yield P._originValidation(f);const fe=function Gy(y,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:Eg(),postBody:null,tenantId:y.tenantId,error:_e(y,"no-auth-event")}}(f,b,T);yield function Ko(y,f){return Ad()._set(Fu(y),f)}(f,fe);const Le=yield function bg(y,f,g){return Pi.apply(this,arguments)}(f,fe,g),Je=yield function rf(y){const{cordova:f}=Na();return new Promise(g=>{f.plugins.browsertab.isAvailable(b=>{let T=null;b?f.plugins.browsertab.openUrl(y):T=f.InAppBrowser.open(y,function Bl(y=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(T)})})}(Le);return function wg(y,f,g){return sf.apply(this,arguments)}(f,z,Je)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Gc(y){return Fa.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:b,handleOpenURL:T,BuildInfo:P}=Na(),z=setTimeout((0,c.Z)(function*(){yield Cg(f),g.onEvent(Md())}),500),fe=function(){var lt=(0,c.Z)(function*(ut){clearTimeout(z);const qn=yield Cg(f);let gi=null;qn&&(null==ut?void 0:ut.url)&&(gi=function Zy(y,f){var g,b;const T=function Sd(y){const f=xd(y),g=f.link?decodeURIComponent(f.link):void 0,b=xd(g).link,T=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return xd(T).link||T||b||g||y}(f);if(T.includes("/__/auth/callback")){const P=xd(T),z=P.firebaseError?function Zc(y){try{return JSON.parse(y)}catch(f){return null}}(decodeURIComponent(P.firebaseError)):null,fe=null===(b=null===(g=null==z?void 0:z.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Le=fe?_e(fe):null;return Le?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(qn,ut.url)),g.onEvent(gi||Md())});return function(qn){return lt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,fe);const Le=T,Je=`${P.packageName.toLowerCase()}://`;Na().handleOpenURL=function(){var lt=(0,c.Z)(function*(ut){if(ut.toLowerCase().startsWith(Je)&&fe({url:ut}),"function"==typeof Le)try{Le(ut)}catch(qn){console.error(qn)}});return function(ut){return lt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=zi,this._completeRedirectFn=Ji,this._overrideRedirectResult=D}_initialize(f){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,b,T){var P=this;return(0,c.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(f,g,b,T)})()}_openRedirect(f,g,b,T){var P=this;return(0,c.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(f,g,b,T)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return $n()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Ua(){return cf.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function go(y){return y.unwrap()}function fi(y){return xg(y)}function xg(y){const{_tokenResponse:f}=y instanceof R.ZR?y.customData:y;if(!f)return null;if(!(y instanceof R.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Us.credentialFromResult(y);const g=f.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=Kl;break;case"facebook.com":b=Po;break;case"github.com":b=Hh;break;case"twitter.com":b=Yl;break;default:const{oauthIdToken:T,oauthAccessToken:P,oauthTokenSecret:z,pendingToken:fe,nonce:Le}=f;return P||z||T||fe?fe?g.startsWith("saml.")?eo._create(g,fe):os._fromParams({providerId:g,signInMethod:g,pendingToken:fe,idToken:T,accessToken:P}):new ji(g).credential({idToken:T,accessToken:P,rawNonce:Le}):null}return y instanceof R.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Qt(y,f){return f.catch(g=>{throw g instanceof R.ZR&&function Kc(y,f){var g;const b=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new Yy(y,function jn(y,f){var g;const b=(0,R.m9)(y),T=f;return j(f.customData.operationType,b,"argument-error"),j(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),oo._fromError(b,T)}(y,f));else if(b){const T=xg(f),P=f;T&&(P.credential=T,P.tenantId=b.tenantId||void 0,P.email=b.email||void 0,P.phoneNumber=b.phoneNumber||void 0)}}(y,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:fi(g),additionalUserInfo:Kn(g),user:pi.getOrCreate(T)}})}function Yc(y,f){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,c.Z)(function*(y,f){const g=yield f;return{verificationId:g.verificationId,confirm:b=>Qt(y,g.confirm(b))}})).apply(this,arguments)}class Yy{constructor(f,g){this.resolver=g,this.auth=function Sg(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Qt(go(this.auth),this.resolver.resolveSignIn(f))}}class pi{constructor(f){this._delegate=f,this.multiFactor=function od(y){const f=(0,R.m9)(y);return Du.has(f)||Du.set(f,Bo._fromUser(f)),Du.get(f)}(f)}static getOrCreate(f){return pi.USER_MAP.has(f)||pi.USER_MAP.set(f,new pi(f)),pi.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,c.Z)(function*(){return Qt(g.auth,tr(g._delegate,f))})()}linkWithPhoneNumber(f,g){var b=this;return(0,c.Z)(function*(){return Yc(b.auth,function Hn(y,f,g){return Lc.apply(this,arguments)}(b._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,c.Z)(function*(){return Qt(g.auth,function Jh(y,f,g){return li.apply(this,arguments)}(g._delegate,f,po))})()}linkWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield kd(ot(g.auth)),function Vt(y,f,g){return function Et(y,f,g){return An.apply(this,arguments)}(y,f,g)}(g._delegate,f,po)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,c.Z)(function*(){return Qt(g.auth,as(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return Yc(this.auth,function hg(y,f,g){return Ar.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Qt(this.auth,function hd(y,f,g){return Uc.apply(this,arguments)}(this._delegate,f,po))}reauthenticateWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield kd(ot(g.auth)),function Xe(y,f,g){return function et(y,f,g){return bt.apply(this,arguments)}(y,f,g)}(g._delegate,f,po)})()}sendEmailVerification(f){return function Ai(y,f){return Dc.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,c.Z)(function*(){return yield function $h(y,f){return en.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function Xl(y,f){return Eu((0,R.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function ed(y,f){return Eu((0,R.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Ls(y,f){return ci.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function wu(y,f){return Cu.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function vu(y,f,g){return bu.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}pi.USER_MAP=new WeakMap;const rr=j;let mo=(()=>{class y{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;rr(T,"invalid-api-key",{appName:g.name}),rr(T,"invalid-api-key",{appName:g.name});const P="undefined"!=typeof window?po:void 0;this._delegate=b.initialize({options:{persistence:Vu(T,g.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(Pe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?pi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function Ur(y,f,g){const b=ot(y);j(b._canInitEmulator,b,"emulator-config-failed"),j(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const T=!!(null==g?void 0:g.disableWarnings),P=Fi(f),{host:z,port:fe}=function kn(y){const f=Fi(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(b);if(T){const P=T[1];return{host:P,port:Li(b.substr(P.length+1))}}{const[P,z]=b.split(":");return{host:P,port:Li(z)}}}(f);b.config.emulator={url:`${P}//${z}${null===fe?"":`:${fe}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:z,port:fe,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function ln(){function y(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,b)}applyActionCode(g){return function Lo(y,f){return De.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Nt(this._delegate,g)}confirmPasswordReset(g,b){return function mu(y,f,g){return wc.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var T=this;return(0,c.Z)(function*(){return Qt(T._delegate,function ro(y,f,g){return ii.apply(this,arguments)}(T._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function _u(y,f){return Rs.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Ql(y,f){const g=hu.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){rr(un(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function nr(y,f){return Vs.apply(this,arguments)}(g._delegate,po);return b?Qt(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function uf(y,f){ot(y)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,b,T){const{next:P,error:z,complete:fe}=gr(g,b,T);return this._delegate.onAuthStateChanged(P,z,fe)}onIdTokenChanged(g,b,T){const{next:P,error:z,complete:fe}=gr(g,b,T);return this._delegate.onIdTokenChanged(P,z,fe)}sendSignInLinkToEmail(g,b){return function Ec(y,f,g){return Ic.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function bc(y,f,g){return gu.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,c.Z)(function*(){let T;switch(function Pd(y,f){Lu(Object.values(hi).includes(f),y,"invalid-persistence-type"),(0,R.b$)()?Lu(f!==hi.SESSION,y,"unsupported-persistence-type"):(0,R.UG)()?Lu(f===hi.NONE,y,"unsupported-persistence-type"):ht()?Lu(f===hi.NONE||f===hi.LOCAL&&(0,R.hl)(),y,"unsupported-persistence-type"):Lu(f===hi.NONE||Ag(),y,"unsupported-persistence-type")}(b._delegate,g),g){case hi.SESSION:T=zi;break;case hi.LOCAL:T=(yield ee(co)._isAvailable())?co:uo;break;case hi.NONE:T=wt;break;default:return Ie("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Qt(this._delegate,function Jl(y){return mc.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Qt(this._delegate,gn(this._delegate,g))}signInWithCustomToken(g){return Qt(this._delegate,function Fo(y,f){return gt.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Qt(this._delegate,function Cc(y,f,g){return gn((0,R.m9)(y),Wl.credential(f,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Qt(this._delegate,function og(y,f,g){return us.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return Yc(this._delegate,function Tn(y,f,g){return ui.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,c.Z)(function*(){return rr(un(),b._delegate,"operation-not-supported-in-this-environment"),Qt(b._delegate,function pg(y,f,g){return Wi.apply(this,arguments)}(b._delegate,g,po))})()}signInWithRedirect(g){var b=this;return(0,c.Z)(function*(){return rr(un(),b._delegate,"operation-not-supported-in-this-environment"),yield kd(b._delegate),function Y(y,f,g){return function ie(y,f,g){return Oe.apply(this,arguments)}(y,f,g)}(b._delegate,g,po)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function dn(y,f){return yu.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=hi,y})();function gr(y,f,g){let b=y;"function"!=typeof y&&({next:b,error:f,complete:g}=y);const T=b;return{next:z=>T(z&&pi.getOrCreate(z)),error:f,complete:g}}function Vu(y,f){const g=function Rd(y,f){const g=Nd();if(!g)return[];const b=Un(Wc,y,f);switch(g.getItem(b)){case hi.NONE:return[wt];case hi.LOCAL:return[co,zi];case hi.SESSION:return[zi];default:return[]}}(y,f);if("undefined"!=typeof self&&!g.includes(co)&&g.push(co),"undefined"!=typeof window)for(const b of[uo,zi])g.includes(b)||g.push(b);return g.includes(wt)||g.push(wt),g}class Jc{constructor(){this.providerId="phone",this._delegate=new Us(go(X.Z.auth()))}static credential(f,g){return Us.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}Jc.PHONE_SIGN_IN_METHOD=Us.PHONE_SIGN_IN_METHOD,Jc.PROVIDER_ID=Us.PROVIDER_ID;const Mg=j;class Jy{constructor(f,g,b=X.Z.app()){var T;Mg(null===(T=b.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Nc(f,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Bu(y){y.INTERNAL.registerComponent(new ue.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new mo(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Wl,FacebookAuthProvider:Po,GithubAuthProvider:Hh,GoogleAuthProvider:Kl,OAuthProvider:ji,SAMLAuthProvider:Ir,PhoneAuthProvider:Jc,PhoneMultiFactorGenerator:$y,RecaptchaVerifier:Jy,TwitterAuthProvider:Yl,Auth:mo,AuthCredential:Di,Error:R.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.15")}(X.Z)},8306:(Qe,be,k)=>{k.d(be,{y:()=>H});var c=k(2961),X=k(727),R=k(8822),ce=k(4671);var ue=k(2416),oe=k(576),he=k(2806);let H=(()=>{class Ae{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const pe=new Ae;return pe.source=this,pe.operator=Ue,pe}subscribe(Ue,pe,Ce){const Ge=function qe(Ae){return Ae&&Ae instanceof c.Lv||function te(Ae){return Ae&&(0,oe.m)(Ae.next)&&(0,oe.m)(Ae.error)&&(0,oe.m)(Ae.complete)}(Ae)&&(0,X.Nn)(Ae)}(Ue)?Ue:new c.Hp(Ue,pe,Ce);return(0,he.x)(()=>{const{operator:We,source:Ie}=this;Ge.add(We?We.call(Ge,Ie):Ie?this._subscribe(Ge):this._trySubscribe(Ge))}),Ge}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(pe){Ue.error(pe)}}forEach(Ue,pe){return new(pe=B(pe))((Ce,Ge)=>{const We=new c.Hp({next:Ie=>{try{Ue(Ie)}catch(_e){Ge(_e),We.unsubscribe()}},error:Ge,complete:Ce});this.subscribe(We)})}_subscribe(Ue){var pe;return null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(Ue)}[R.L](){return this}pipe(...Ue){return function ge(Ae){return 0===Ae.length?ce.y:1===Ae.length?Ae[0]:function(Ue){return Ae.reduce((pe,Ce)=>Ce(pe),Ue)}}(Ue)(this)}toPromise(Ue){return new(Ue=B(Ue))((pe,Ce)=>{let Ge;this.subscribe(We=>Ge=We,We=>Ce(We),()=>pe(Ge))})}}return Ae.create=Pe=>new Ae(Pe),Ae})();function B(Ae){var Pe;return null!==(Pe=null!=Ae?Ae:ue.v.Promise)&&void 0!==Pe?Pe:Promise}},7579:(Qe,be,k)=>{k.d(be,{x:()=>ue});var c=k(8306),X=k(727);const ce=(0,k(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=k(8737),ge=k(2806);let ue=(()=>{class he extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const te=new oe(this,this);return te.operator=B,te}_throwIfClosed(){if(this.closed)throw new ce}next(B){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(B)}})}error(B){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:te}=this;for(;te.length;)te.shift().error(B)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:te,isStopped:qe,observers:Ae}=this;return te||qe?X.Lc:(this.currentObservers=null,Ae.push(B),new X.w0(()=>{this.currentObservers=null,(0,ne.P)(Ae,B)}))}_checkFinalizedStatuses(B){const{hasError:te,thrownError:qe,isStopped:Ae}=this;te?B.error(qe):Ae&&B.complete()}asObservable(){const B=new c.y;return B.source=this,B}}return he.create=(H,B)=>new oe(H,B),he})();class oe extends ue{constructor(H,B){super(),this.destination=H,this.source=B}next(H){var B,te;null===(te=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===te||te.call(B,H)}error(H){var B,te;null===(te=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===te||te.call(B,H)}complete(){var H,B;null===(B=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===B||B.call(H)}_subscribe(H){var B,te;return null!==(te=null===(B=this.source)||void 0===B?void 0:B.subscribe(H))&&void 0!==te?te:X.Lc}}},2961:(Qe,be,k)=>{k.d(be,{Hp:()=>Ue,Lv:()=>te});var c=k(576),X=k(727),R=k(2416),ce=k(7849);function ne(){}const ge=he("C",void 0,void 0);function he(Ie,_e,we){return{kind:Ie,value:_e,error:we}}var H=k(3410),B=k(2806);class te extends X.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,X.Nn)(_e)&&_e.add(this)):this.destination=We}static create(_e,we,Be){return new Ue(_e,we,Be)}next(_e){this.isStopped?Ge(function oe(Ie){return he("N",Ie,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?Ge(function ue(Ie){return he("E",void 0,Ie)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?Ge(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function Ae(Ie,_e){return qe.call(Ie,_e)}class Pe{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:we}=this;if(we.next)try{we.next(_e)}catch(Be){pe(Be)}}error(_e){const{partialObserver:we}=this;if(we.error)try{we.error(_e)}catch(Be){pe(Be)}else pe(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(we){pe(we)}}}class Ue extends te{constructor(_e,we,Be){let Ve;if(super(),(0,c.m)(_e)||!_e)Ve={next:null!=_e?_e:void 0,error:null!=we?we:void 0,complete:null!=Be?Be:void 0};else{let j;this&&R.v.useDeprecatedNextContext?(j=Object.create(_e),j.unsubscribe=()=>this.unsubscribe(),Ve={next:_e.next&&Ae(_e.next,j),error:_e.error&&Ae(_e.error,j),complete:_e.complete&&Ae(_e.complete,j)}):Ve=_e}this.destination=new Pe(Ve)}}function pe(Ie){R.v.useDeprecatedSynchronousErrorHandling?(0,B.O)(Ie):(0,ce.h)(Ie)}function Ge(Ie,_e){const{onStoppedNotification:we}=R.v;we&&H.z.setTimeout(()=>we(Ie,_e))}const We={closed:!0,next:ne,error:function Ce(Ie){throw Ie},complete:ne}},727:(Qe,be,k)=>{k.d(be,{Lc:()=>ge,w0:()=>ne,Nn:()=>ue});var c=k(576);const R=(0,k(3888).d)(he=>function(B){he(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((te,qe)=>`${qe+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var ce=k(8737);class ne{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const Ae of B)Ae.remove(this);else B.remove(this);const{initialTeardown:te}=this;if((0,c.m)(te))try{te()}catch(Ae){H=Ae instanceof R?Ae.errors:[Ae]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const Ae of qe)try{oe(Ae)}catch(Pe){H=null!=H?H:[],Pe instanceof R?H=[...H,...Pe.errors]:H.push(Pe)}}if(H)throw new R(H)}}add(H){var B;if(H&&H!==this)if(this.closed)oe(H);else{if(H instanceof ne){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push(H)}}_hasParent(H){const{_parentage:B}=this;return B===H||Array.isArray(B)&&B.includes(H)}_addParent(H){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(H),B):B?[B,H]:H}_removeParent(H){const{_parentage:B}=this;B===H?this._parentage=null:Array.isArray(B)&&(0,ce.P)(B,H)}remove(H){const{_finalizers:B}=this;B&&(0,ce.P)(B,H),H instanceof ne&&H._removeParent(this)}}ne.EMPTY=(()=>{const he=new ne;return he.closed=!0,he})();const ge=ne.EMPTY;function ue(he){return he instanceof ne||he&&"closed"in he&&(0,c.m)(he.remove)&&(0,c.m)(he.add)&&(0,c.m)(he.unsubscribe)}function oe(he){(0,c.m)(he)?he():he.unsubscribe()}},2416:(Qe,be,k)=>{k.d(be,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Qe,be,k)=>{k.d(be,{E:()=>X});const X=new(k(8306).y)(ne=>ne.complete())},8996:(Qe,be,k)=>{k.d(be,{D:()=>_e});var c=k(8421),X=k(5363),R=k(9468),ge=k(8306),oe=k(2202),he=k(576),H=k(9672);function te(we,Be){if(!we)throw new Error("Iterable cannot be null");return new ge.y(Ve=>{(0,H.f)(Ve,Be,()=>{const j=we[Symbol.asyncIterator]();(0,H.f)(Ve,Be,()=>{j.next().then(ve=>{ve.done?Ve.complete():Ve.next(ve.value)})},0,!0)})})}var qe=k(3670),Ae=k(8239),Pe=k(1144),Ue=k(6495),pe=k(2206),Ce=k(4532),Ge=k(3260);function _e(we,Be){return Be?function Ie(we,Be){if(null!=we){if((0,qe.c)(we))return function ce(we,Be){return(0,c.Xf)(we).pipe((0,R.R)(Be),(0,X.Q)(Be))}(we,Be);if((0,Pe.z)(we))return function ue(we,Be){return new ge.y(Ve=>{let j=0;return Be.schedule(function(){j===we.length?Ve.complete():(Ve.next(we[j++]),Ve.closed||this.schedule())})})}(we,Be);if((0,Ae.t)(we))return function ne(we,Be){return(0,c.Xf)(we).pipe((0,R.R)(Be),(0,X.Q)(Be))}(we,Be);if((0,pe.D)(we))return te(we,Be);if((0,Ue.T)(we))return function B(we,Be){return new ge.y(Ve=>{let j;return(0,H.f)(Ve,Be,()=>{j=we[oe.h](),(0,H.f)(Ve,Be,()=>{let ve,W;try{({value:ve,done:W}=j.next())}catch(re){return void Ve.error(re)}W?Ve.complete():Ve.next(ve)},0,!0)}),()=>(0,he.m)(null==j?void 0:j.return)&&j.return()})}(we,Be);if((0,Ge.L)(we))return function We(we,Be){return te((0,Ge.Q)(we),Be)}(we,Be)}throw(0,Ce.z)(we)}(we,Be):(0,c.Xf)(we)}},8421:(Qe,be,k)=>{k.d(be,{Xf:()=>qe});var c=k(655),X=k(1144),R=k(8239),ce=k(8306),ne=k(3670),ge=k(2206),ue=k(4532),oe=k(6495),he=k(3260),H=k(576),B=k(7849),te=k(8822);function qe(Ie){if(Ie instanceof ce.y)return Ie;if(null!=Ie){if((0,ne.c)(Ie))return function Ae(Ie){return new ce.y(_e=>{const we=Ie[te.L]();if((0,H.m)(we.subscribe))return we.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,X.z)(Ie))return function Pe(Ie){return new ce.y(_e=>{for(let we=0;we<Ie.length&&!_e.closed;we++)_e.next(Ie[we]);_e.complete()})}(Ie);if((0,R.t)(Ie))return function Ue(Ie){return new ce.y(_e=>{Ie.then(we=>{_e.closed||(_e.next(we),_e.complete())},we=>_e.error(we)).then(null,B.h)})}(Ie);if((0,ge.D)(Ie))return Ce(Ie);if((0,oe.T)(Ie))return function pe(Ie){return new ce.y(_e=>{for(const we of Ie)if(_e.next(we),_e.closed)return;_e.complete()})}(Ie);if((0,he.L)(Ie))return function Ge(Ie){return Ce((0,he.Q)(Ie))}(Ie)}throw(0,ue.z)(Ie)}function Ce(Ie){return new ce.y(_e=>{(function We(Ie,_e){var we,Be,Ve,j;return(0,c.mG)(this,void 0,void 0,function*(){try{for(we=(0,c.KL)(Ie);!(Be=yield we.next()).done;)if(_e.next(Be.value),_e.closed)return}catch(ve){Ve={error:ve}}finally{try{Be&&!Be.done&&(j=we.return)&&(yield j.call(we))}finally{if(Ve)throw Ve.error}}_e.complete()})})(Ie,_e).catch(we=>_e.error(we))})}},6451:(Qe,be,k)=>{k.d(be,{T:()=>ge});var c=k(8189),X=k(8421),R=k(515),ce=k(7669),ne=k(8996);function ge(...ue){const oe=(0,ce.yG)(ue),he=(0,ce._6)(ue,1/0),H=ue;return H.length?1===H.length?(0,X.Xf)(H[0]):(0,c.J)(he)((0,ne.D)(H,oe)):R.E}},5403:(Qe,be,k)=>{k.d(be,{x:()=>X});var c=k(2961);function X(ce,ne,ge,ue,oe){return new R(ce,ne,ge,ue,oe)}class R extends c.Lv{constructor(ne,ge,ue,oe,he,H){super(ne),this.onFinalize=he,this.shouldUnsubscribe=H,this._next=ge?function(B){try{ge(B)}catch(te){ne.error(te)}}:super._next,this._error=oe?function(B){try{oe(B)}catch(te){ne.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(B){ne.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},4004:(Qe,be,k)=>{k.d(be,{U:()=>R});var c=k(4482),X=k(5403);function R(ce,ne){return(0,c.e)((ge,ue)=>{let oe=0;ge.subscribe((0,X.x)(ue,he=>{ue.next(ce.call(ne,he,oe++))}))})}},8189:(Qe,be,k)=>{k.d(be,{J:()=>R});var c=k(5577),X=k(4671);function R(ce=1/0){return(0,c.z)(X.y,ce)}},5577:(Qe,be,k)=>{k.d(be,{z:()=>oe});var c=k(4004),X=k(8421),R=k(4482),ce=k(9672),ne=k(5403),ue=k(576);function oe(he,H,B=1/0){return(0,ue.m)(H)?oe((te,qe)=>(0,c.U)((Ae,Pe)=>H(te,Ae,qe,Pe))((0,X.Xf)(he(te,qe))),B):("number"==typeof H&&(B=H),(0,R.e)((te,qe)=>function ge(he,H,B,te,qe,Ae,Pe,Ue){const pe=[];let Ce=0,Ge=0,We=!1;const Ie=()=>{We&&!pe.length&&!Ce&&H.complete()},_e=Be=>Ce<te?we(Be):pe.push(Be),we=Be=>{Ae&&H.next(Be),Ce++;let Ve=!1;(0,X.Xf)(B(Be,Ge++)).subscribe((0,ne.x)(H,j=>{null==qe||qe(j),Ae?_e(j):H.next(j)},()=>{Ve=!0},void 0,()=>{if(Ve)try{for(Ce--;pe.length&&Ce<te;){const j=pe.shift();Pe?(0,ce.f)(H,Pe,()=>we(j)):we(j)}Ie()}catch(j){H.error(j)}}))};return he.subscribe((0,ne.x)(H,_e,()=>{We=!0,Ie()})),()=>{null==Ue||Ue()}}(te,qe,he,B)))}},5363:(Qe,be,k)=>{k.d(be,{Q:()=>ce});var c=k(9672),X=k(4482),R=k(5403);function ce(ne,ge=0){return(0,X.e)((ue,oe)=>{ue.subscribe((0,R.x)(oe,he=>(0,c.f)(oe,ne,()=>oe.next(he),ge),()=>(0,c.f)(oe,ne,()=>oe.complete(),ge),he=>(0,c.f)(oe,ne,()=>oe.error(he),ge)))})}},3099:(Qe,be,k)=>{k.d(be,{B:()=>ge});var c=k(8996),X=k(5698),R=k(7579),ce=k(2961),ne=k(4482);function ge(oe={}){const{connector:he=(()=>new R.x),resetOnError:H=!0,resetOnComplete:B=!0,resetOnRefCountZero:te=!0}=oe;return qe=>{let Ae=null,Pe=null,Ue=null,pe=0,Ce=!1,Ge=!1;const We=()=>{null==Pe||Pe.unsubscribe(),Pe=null},Ie=()=>{We(),Ae=Ue=null,Ce=Ge=!1},_e=()=>{const we=Ae;Ie(),null==we||we.unsubscribe()};return(0,ne.e)((we,Be)=>{pe++,!Ge&&!Ce&&We();const Ve=Ue=null!=Ue?Ue:he();Be.add(()=>{pe--,0===pe&&!Ge&&!Ce&&(Pe=ue(_e,te))}),Ve.subscribe(Be),Ae||(Ae=new ce.Hp({next:j=>Ve.next(j),error:j=>{Ge=!0,We(),Pe=ue(Ie,H,j),Ve.error(j)},complete:()=>{Ce=!0,We(),Pe=ue(Ie,B),Ve.complete()}}),(0,c.D)(we).subscribe(Ae))})(qe)}}function ue(oe,he,...H){return!0===he?(oe(),null):!1===he?null:he(...H).pipe((0,X.q)(1)).subscribe(()=>oe())}},9468:(Qe,be,k)=>{k.d(be,{R:()=>X});var c=k(4482);function X(R,ce=0){return(0,c.e)((ne,ge)=>{ge.add(R.schedule(()=>ne.subscribe(ge),ce))})}},5698:(Qe,be,k)=>{k.d(be,{q:()=>ce});var c=k(515),X=k(4482),R=k(5403);function ce(ne){return ne<=0?()=>c.E:(0,X.e)((ge,ue)=>{let oe=0;ge.subscribe((0,R.x)(ue,he=>{++oe<=ne&&(ue.next(he),ne<=oe&&ue.complete())}))})}},8505:(Qe,be,k)=>{k.d(be,{b:()=>ne});var c=k(576),X=k(4482),R=k(5403),ce=k(4671);function ne(ge,ue,oe){const he=(0,c.m)(ge)||ue||oe?{next:ge,error:ue,complete:oe}:ge;return he?(0,X.e)((H,B)=>{var te;null===(te=he.subscribe)||void 0===te||te.call(he);let qe=!0;H.subscribe((0,R.x)(B,Ae=>{var Pe;null===(Pe=he.next)||void 0===Pe||Pe.call(he,Ae),B.next(Ae)},()=>{var Ae;qe=!1,null===(Ae=he.complete)||void 0===Ae||Ae.call(he),B.complete()},Ae=>{var Pe;qe=!1,null===(Pe=he.error)||void 0===Pe||Pe.call(he,Ae),B.error(Ae)},()=>{var Ae,Pe;qe&&(null===(Ae=he.unsubscribe)||void 0===Ae||Ae.call(he)),null===(Pe=he.finalize)||void 0===Pe||Pe.call(he)}))}):ce.y}},4408:(Qe,be,k)=>{k.d(be,{o:()=>ne});var c=k(727);class X extends c.w0{constructor(ue,oe){super()}schedule(ue,oe=0){return this}}const R={setInterval(ge,ue,...oe){const{delegate:he}=R;return(null==he?void 0:he.setInterval)?he.setInterval(ge,ue,...oe):setInterval(ge,ue,...oe)},clearInterval(ge){const{delegate:ue}=R;return((null==ue?void 0:ue.clearInterval)||clearInterval)(ge)},delegate:void 0};var ce=k(8737);class ne extends X{constructor(ue,oe){super(ue,oe),this.scheduler=ue,this.work=oe,this.pending=!1}schedule(ue,oe=0){if(this.closed)return this;this.state=ue;const he=this.id,H=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(H,he,oe)),this.pending=!0,this.delay=oe,this.id=this.id||this.requestAsyncId(H,this.id,oe),this}requestAsyncId(ue,oe,he=0){return R.setInterval(ue.flush.bind(ue,this),he)}recycleAsyncId(ue,oe,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return oe;R.clearInterval(oe)}execute(ue,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(ue,oe);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,oe){let H,he=!1;try{this.work(ue)}catch(B){he=!0,H=B||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:ue,scheduler:oe}=this,{actions:he}=oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(he,this),null!=ue&&(this.id=this.recycleAsyncId(oe,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(Qe,be,k)=>{k.d(be,{v:()=>R});var c=k(6063);class X{constructor(ne,ge=X.now){this.schedulerActionCtor=ne,this.now=ge}schedule(ne,ge=0,ue){return new this.schedulerActionCtor(this,ne).schedule(ue,ge)}}X.now=c.l.now;class R extends X{constructor(ne,ge=X.now){super(ne,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ne){const{actions:ge}=this;if(this._active)return void ge.push(ne);let ue;this._active=!0;do{if(ue=ne.execute(ne.state,ne.delay))break}while(ne=ge.shift());if(this._active=!1,ue){for(;ne=ge.shift();)ne.unsubscribe();throw ue}}}},4986:(Qe,be,k)=>{k.d(be,{z:()=>R});var c=k(4408);const R=new(k(7565).v)(c.o)},6063:(Qe,be,k)=>{k.d(be,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(Qe,be,k)=>{k.d(be,{z:()=>c});const c={setTimeout(X,R,...ce){const{delegate:ne}=c;return(null==ne?void 0:ne.setTimeout)?ne.setTimeout(X,R,...ce):setTimeout(X,R,...ce)},clearTimeout(X){const{delegate:R}=c;return((null==R?void 0:R.clearTimeout)||clearTimeout)(X)},delegate:void 0}},2202:(Qe,be,k)=>{k.d(be,{h:()=>X});const X=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Qe,be,k)=>{k.d(be,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Qe,be,k)=>{k.d(be,{_6:()=>ge,jO:()=>ce,yG:()=>ne});var c=k(576);function R(ue){return ue[ue.length-1]}function ce(ue){return(0,c.m)(R(ue))?ue.pop():void 0}function ne(ue){return function X(ue){return ue&&(0,c.m)(ue.schedule)}(R(ue))?ue.pop():void 0}function ge(ue,oe){return"number"==typeof R(ue)?ue.pop():oe}},8737:(Qe,be,k)=>{function c(X,R){if(X){const ce=X.indexOf(R);0<=ce&&X.splice(ce,1)}}k.d(be,{P:()=>c})},3888:(Qe,be,k)=>{function c(X){const ce=X(ne=>{Error.call(ne),ne.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}k.d(be,{d:()=>c})},2806:(Qe,be,k)=>{k.d(be,{O:()=>ce,x:()=>R});var c=k(2416);let X=null;function R(ne){if(c.v.useDeprecatedSynchronousErrorHandling){const ge=!X;if(ge&&(X={errorThrown:!1,error:null}),ne(),ge){const{errorThrown:ue,error:oe}=X;if(X=null,ue)throw oe}}else ne()}function ce(ne){c.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=ne)}},9672:(Qe,be,k)=>{function c(X,R,ce,ne=0,ge=!1){const ue=R.schedule(function(){ce(),ge?X.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(X.add(ue),!ge)return ue}k.d(be,{f:()=>c})},4671:(Qe,be,k)=>{function c(X){return X}k.d(be,{y:()=>c})},1144:(Qe,be,k)=>{k.d(be,{z:()=>c});const c=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(Qe,be,k)=>{k.d(be,{D:()=>X});var c=k(576);function X(R){return Symbol.asyncIterator&&(0,c.m)(null==R?void 0:R[Symbol.asyncIterator])}},576:(Qe,be,k)=>{function c(X){return"function"==typeof X}k.d(be,{m:()=>c})},3670:(Qe,be,k)=>{k.d(be,{c:()=>R});var c=k(8822),X=k(576);function R(ce){return(0,X.m)(ce[c.L])}},6495:(Qe,be,k)=>{k.d(be,{T:()=>R});var c=k(2202),X=k(576);function R(ce){return(0,X.m)(null==ce?void 0:ce[c.h])}},8239:(Qe,be,k)=>{k.d(be,{t:()=>X});var c=k(576);function X(R){return(0,c.m)(null==R?void 0:R.then)}},3260:(Qe,be,k)=>{k.d(be,{L:()=>ce,Q:()=>R});var c=k(655),X=k(576);function R(ne){return(0,c.FC)(this,arguments,function*(){const ue=ne.getReader();try{for(;;){const{value:oe,done:he}=yield(0,c.qq)(ue.read());if(he)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(oe)}}finally{ue.releaseLock()}})}function ce(ne){return(0,X.m)(null==ne?void 0:ne.getReader)}},4482:(Qe,be,k)=>{k.d(be,{A:()=>X,e:()=>R});var c=k(576);function X(ce){return(0,c.m)(null==ce?void 0:ce.lift)}function R(ce){return ne=>{if(X(ne))return ne.lift(function(ge){try{return ce(ge,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(Qe,be,k)=>{k.d(be,{h:()=>R});var c=k(2416),X=k(3410);function R(ce){X.z.setTimeout(()=>{const{onUnhandledError:ne}=c.v;if(!ne)throw ce;ne(ce)})}},4532:(Qe,be,k)=>{function c(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(be,{z:()=>c})},655:(Qe,be,k)=>{function ce(W,re){var ee={};for(var me in W)Object.prototype.hasOwnProperty.call(W,me)&&re.indexOf(me)<0&&(ee[me]=W[me]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var ae=0;for(me=Object.getOwnPropertySymbols(W);ae<me.length;ae++)re.indexOf(me[ae])<0&&Object.prototype.propertyIsEnumerable.call(W,me[ae])&&(ee[me[ae]]=W[me[ae]])}return ee}function oe(W,re,ee,me){return new(ee||(ee=Promise))(function(ke,at){function Ht(Jt){try{ze(me.next(Jt))}catch(Cn){at(Cn)}}function Ft(Jt){try{ze(me.throw(Jt))}catch(Cn){at(Cn)}}function ze(Jt){Jt.done?ke(Jt.value):function ae(ke){return ke instanceof ee?ke:new ee(function(at){at(ke)})}(Jt.value).then(Ht,Ft)}ze((me=me.apply(W,re||[])).next())})}function pe(W){return this instanceof pe?(this.v=W,this):new pe(W)}function Ce(W,re,ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,me=ee.apply(W,re||[]),ke=[];return ae={},at("next"),at("throw"),at("return"),ae[Symbol.asyncIterator]=function(){return this},ae;function at(tn){me[tn]&&(ae[tn]=function(Wt){return new Promise(function(br,Zt){ke.push([tn,Wt,br,Zt])>1||Ht(tn,Wt)})})}function Ht(tn,Wt){try{!function Ft(tn){tn.value instanceof pe?Promise.resolve(tn.value.v).then(ze,Jt):Cn(ke[0][2],tn)}(me[tn](Wt))}catch(br){Cn(ke[0][3],br)}}function ze(tn){Ht("next",tn)}function Jt(tn){Ht("throw",tn)}function Cn(tn,Wt){tn(Wt),ke.shift(),ke.length&&Ht(ke[0][0],ke[0][1])}}function We(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,re=W[Symbol.asyncIterator];return re?re.call(W):(W=function te(W){var re="function"==typeof Symbol&&Symbol.iterator,ee=re&&W[re],me=0;if(ee)return ee.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&me>=W.length&&(W=void 0),{value:W&&W[me++],done:!W}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),ee={},me("next"),me("throw"),me("return"),ee[Symbol.asyncIterator]=function(){return this},ee);function me(ke){ee[ke]=W[ke]&&function(at){return new Promise(function(Ht,Ft){!function ae(ke,at,Ht,Ft){Promise.resolve(Ft).then(function(ze){ke({value:ze,done:Ht})},at)}(Ht,Ft,(at=W[ke](at)).done,at.value)})}}}k.d(be,{FC:()=>Ce,KL:()=>We,_T:()=>ce,mG:()=>oe,qq:()=>pe})},5e3:(Qe,be,k)=>{k.d(be,{$8M:()=>Sa,$Z:()=>pD,AFp:()=>$C,AaK:()=>oe,CHM:()=>Uo,CRH:()=>FC,CZH:()=>f0,CqO:()=>kw,DdM:()=>Qv,EJc:()=>zC,EiD:()=>Zc,EpF:()=>mD,F4k:()=>yD,FYo:()=>yC,FiY:()=>Jn,G48:()=>Sp,Gf:()=>sr,GfV:()=>Zv,GkF:()=>Lf,Gpc:()=>B,HOy:()=>gm,JOm:()=>P,JVY:()=>_g,L6k:()=>Cd,LAX:()=>Ed,LFG:()=>et,LSH:()=>Md,Lbi:()=>aT,MAs:()=>th,NdJ:()=>Y_,O4$:()=>rd,OlP:()=>fn,Oqu:()=>dv,PXZ:()=>eE,Q6J:()=>Ow,QGY:()=>K_,Qsj:()=>_C,R0b:()=>Ri,RDi:()=>yc,Rgc:()=>$e,SBq:()=>ap,Sil:()=>g0,Suo:()=>El,TTD:()=>ji,TgZ:()=>am,Tol:()=>za,Udp:()=>ov,VKq:()=>Xv,VLi:()=>hT,W1O:()=>zm,X6Q:()=>rE,XFs:()=>pt,Xpm:()=>dt,Y36:()=>Rf,YKP:()=>Wv,YNc:()=>nm,Yjl:()=>ha,Yz7:()=>Wt,ZZ4:()=>Pl,_Bn:()=>rp,_UZ:()=>z_,_Vd:()=>km,_c5:()=>IT,_uU:()=>Zw,aQg:()=>hy,c2e:()=>_h,cJS:()=>Zt,cg1:()=>Iv,dDg:()=>v0,deG:()=>Zh,dqk:()=>Lt,eBb:()=>Hy,eFA:()=>wh,ekj:()=>yr,g9A:()=>GC,h0i:()=>bl,hGG:()=>fE,iGM:()=>NC,ifc:()=>$t,ip1:()=>Or,kL8:()=>Dv,kcU:()=>ag,lG2:()=>uu,mCW:()=>Bs,n5z:()=>Aa,oAB:()=>Cr,oxw:()=>bD,pB0:()=>$y,q3G:()=>Sn,q4F:()=>sa,qLn:()=>Kc,qOj:()=>Wu,qZA:()=>Ff,qzn:()=>Ra,s9C:()=>J_,sBO:()=>zt,sIi:()=>xf,s_b:()=>$m,soG:()=>ty,tBr:()=>$r,tb:()=>ZC,tp0:()=>Wo,uIk:()=>Pf,vHH:()=>Pe,vpe:()=>Ke,wAp:()=>yt,xp6:()=>bb,yhl:()=>wd,z2F:()=>sy,z3N:()=>gs,zSh:()=>Qg,zs3:()=>qa});var c=k(7579),X=k(727),R=k(8306),ce=k(6451),ne=k(3099);function ge(s){for(let o in s)if(s[o]===ge)return o;throw Error("Could not find renamed property on target object.")}function ue(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function oe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(oe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function he(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const H=ge({__forward_ref__:ge});function B(s){return s.__forward_ref__=B,s.toString=function(){return oe(this())},s}function te(s){return qe(s)?s():s}function qe(s){return"function"==typeof s&&s.hasOwnProperty(H)&&s.__forward_ref__===B}class Pe extends Error{constructor(o,a){super(function Ue(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function pe(s){return"string"==typeof s?s:null==s?"":String(s)}function Ce(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():pe(s)}function _e(s,o){const a=o?` in ${o}`:"";throw new Pe(-201,`No provider for ${Ce(s)} found${a}`)}function Ft(s,o){null==s&&function ze(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function Wt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Zt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Rt(s){return rs(s,Ni)||rs(s,Xr)}function rs(s,o){return s.hasOwnProperty(o)?s[o]:null}function wr(s){return s&&(s.hasOwnProperty(Ts)||s.hasOwnProperty(Ei))?s[Ts]:null}const Ni=ge({\u0275prov:ge}),Ts=ge({\u0275inj:ge}),Xr=ge({ngInjectableDef:ge}),Ei=ge({ngInjectorDef:ge});var pt=(()=>((pt=pt||{})[pt.Default=0]="Default",pt[pt.Host=1]="Host",pt[pt.Self=2]="Self",pt[pt.SkipSelf=4]="SkipSelf",pt[pt.Optional=8]="Optional",pt))();let ei;function En(s){const o=ei;return ei=s,o}function Ks(s,o,a){const l=Rt(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&pt.Optional?null:void 0!==o?o:void _e(oe(s),"Injector")}function Wn(s){return{toString:s}.toString()}var Pn=(()=>((Pn=Pn||{})[Pn.OnPush=0]="OnPush",Pn[Pn.Default=1]="Default",Pn))(),$t=(()=>{return(s=$t||($t={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",$t;var s})();const it="undefined"!=typeof globalThis&&globalThis,vt="undefined"!=typeof window&&window,ur="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Lt=it||"undefined"!=typeof global&&global||vt||ur,lr={},L=[],G=ge({\u0275cmp:ge}),Z=ge({\u0275dir:ge}),Ee=ge({\u0275pipe:ge}),$=ge({\u0275mod:ge}),Q=ge({\u0275fac:ge}),xe=ge({__NG_ELEMENT_ID__:ge});let Ye=0;function dt(s){return Wn(()=>{const a={},l={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Pn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||L,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||$t.Emulated,id:"c",styles:s.styles||L,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,p=s.features,_=s.pipes;return l.id+=Ye++,l.inputs=da(s.inputs,a),l.outputs=da(s.outputs),p&&p.forEach(w=>w(l)),l.directiveDefs=h?()=>("function"==typeof h?h():h).map(cn):null,l.pipeDefs=_?()=>("function"==typeof _?_():_).map(wt):null,l})}function cn(s){return Vn(s)||function Er(s){return s[Z]||null}(s)}function wt(s){return function is(s){return s[Ee]||null}(s)}const Un={};function Cr(s){return Wn(()=>{const o={type:s.type,bootstrap:s.bootstrap||L,declarations:s.declarations||L,imports:s.imports||L,exports:s.exports||L,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Un[s.id]=s.type),o})}function da(s,o){if(null==s)return lr;const a={};for(const l in s)if(s.hasOwnProperty(l)){let h=s[l],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=l,o&&(o[h]=p)}return a}const uu=dt;function ha(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Vn(s){return s[G]||null}function Bn(s,o){const a=s[$]||null;if(!a&&!0===o)throw new Error(`Type ${oe(s)} does not have '\u0275mod' property.`);return a}function Vr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ui(s){return Array.isArray(s)&&!0===s[1]}function du(s){return 0!=(8&s.flags)}function jl(s){return 2==(2&s.flags)}function Vi(s){return 1==(1&s.flags)}function Bi(s){return null!==s.template}function ga(s){return 0!=(512&s[2])}function hr(s,o){return s.hasOwnProperty(Q)?s[Q]:null}class Xs{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function ji(){return Po}function Po(s){return s.type.prototype.ngOnChanges&&(s.setInput=Hh),Kl}function Kl(){const s=eo(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===lr)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function Hh(s,o,a,l){const h=eo(s)||function ko(s,o){return s[fu]=o}(s,{previous:lr,current:null}),p=h.current||(h.current={}),_=h.previous,w=this.declaredInputs[a],C=_[w];p[w]=new Xs(C&&C.currentValue,o,_===lr),s[l]=o}ji.ngInherit=!0;const fu="__ngSimpleChanges__";function eo(s){return s[fu]||null}let No;function yc(s){No=s}function en(s){return!!s.listen}const ya={createRenderer:(s,o)=>function Hi(){return void 0!==No?No:"undefined"!=typeof document?document:void 0}()};function Kt(s){for(;Array.isArray(s);)s=s[0];return s}function Ps(s,o){return Kt(o[s])}function er(s,o){return Kt(o[s.index])}function gn(s,o){return s.data[o]}function tr(s,o){const a=o[s];return Vr(a)?a:a[0]}function no(s){return 4==(4&s[2])}function as(s){return 128==(128&s[2])}function Ti(s,o){return null==o?null:s[o]}function qi(s){s[18]=0}function Fo(s,o){s[5]+=o;let a=s,l=s[3];for(;null!==l&&(1===o&&1===a[5]||-1===o&&0===a[5]);)l[5]+=o,a=l,l=l[3]}const gt={lFrame:Vo(null),bindingsEnabled:!0};function mu(){return gt.bindingsEnabled}function De(){return gt.lFrame.lView}function Nt(){return gt.lFrame.tView}function Uo(s){return gt.lFrame.contextLView=s,s[8]}function dn(){let s=yu();for(;null!==s&&64===s.type;)s=s.parent;return s}function yu(){return gt.lFrame.currentTNode}function ii(s,o){const a=gt.lFrame;a.currentTNode=s,a.isParent=o}function Cc(){return gt.lFrame.isParent}function Ec(){gt.lFrame.isParent=!1}function fr(){const s=gt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Rs(){return gt.lFrame.bindingIndex++}function Ai(s){const o=gt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function bu(s,o){const a=gt.lFrame;a.bindingIndex=a.bindingRootIndex=s,wa(o)}function wa(s){gt.lFrame.currentDirectiveIndex=s}function Cu(){return gt.lFrame.currentQueryIndex}function Xl(s){gt.lFrame.currentQueryIndex=s}function ed(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Eu(s,o,a){if(a&pt.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||a&pt.Host||(h=ed(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const l=gt.lFrame=td();return l.currentTNode=o,l.lView=s,!0}function io(s){const o=td(),a=s[1];gt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function td(){const s=gt.lFrame,o=null===s?null:s.child;return null===o?Vo(s):o}function Vo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function nd(){const s=gt.lFrame;return gt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Iu=nd;function Br(){const s=nd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Kn(){return gt.lFrame.selectedIndex}function so(s){gt.lFrame.selectedIndex=s}function Rn(){const s=gt.lFrame;return gn(s.tView,s.selectedIndex)}function rd(){gt.lFrame.currentNamespace="svg"}function ag(){!function id(){gt.lFrame.currentNamespace=null}()}function Ca(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:C,ngAfterViewChecked:A,ngOnDestroy:x}=p;_&&(s.contentHooks||(s.contentHooks=[])).push(-a,_),w&&((s.contentHooks||(s.contentHooks=[])).push(a,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,w)),C&&(s.viewHooks||(s.viewHooks=[])).push(-a,C),A&&((s.viewHooks||(s.viewHooks=[])).push(a,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,A)),null!=x&&(s.destroyHooks||(s.destroyHooks=[])).push(a,x)}}function cs(s,o,a){sd(s,o,3,a)}function oo(s,o,a,l){(3&s[2])===a&&sd(s,o,a,l)}function jn(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function sd(s,o,a,l){const p=null!=l?l:-1,_=o.length-1;let w=0;for(let C=void 0!==l?65535&s[18]:0;C<_;C++)if("number"==typeof o[C+1]){if(w=o[C],null!=l&&w>=l)break}else o[C]<0&&(s[18]+=65536),(w<p||-1==p)&&(cg(s,a,o,C),s[18]=(4294901760&s[18])+C+2),C++}function cg(s,o,a,l){const h=a[l]<0,p=a[l+1],w=s[h?-a[l]:a[l]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class Bo{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function uo(s,o,a){const l=en(s);let h=0;for(;h<a.length;){const p=a[h];if("number"==typeof p){if(0!==p)break;h++;const _=a[h++],w=a[h++],C=a[h++];l?s.setAttribute(o,w,C,_):o.setAttributeNS(_,w,C)}else{const _=p,w=a[++h];zi(_)?l&&s.setProperty(o,_,w):l?s.setAttribute(o,_,w):o.setAttribute(_,w),h++}}return h}function Gh(s){return 3===s||4===s||6===s}function zi(s){return 64===s.charCodeAt(0)}function jo(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const h=o[l];"number"==typeof h?a=h:0===a||ad(s,a,h,null,-1===a||2===a?o[++l]:null)}}return s}function ad(s,o,a,l,h){let p=0,_=s.length;if(-1===o)_=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){_=-1;break}if(w>o){_=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===a){if(null===l)return void(null!==h&&(s[p+1]=h));if(l===s[p+1])return void(s[p+2]=h)}p++,null!==l&&p++,null!==h&&p++}-1!==_&&(s.splice(_,0,o),p=_+1),s.splice(p++,0,a),null!==l&&s.splice(p++,0,l),null!==h&&s.splice(p++,0,h)}function ls(s){return-1!==s}function jr(s){return 32767&s}function mt(s,o){let a=function Ut(s){return s>>16}(s),l=o;for(;a>0;)l=l[15],a--;return l}let Ho=!0;function $o(s){const o=Ho;return Ho=s,o}let Mc=0;function Yn(s,o){const a=Ns(s,o);if(-1!==a)return a;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,qo(l.data,s),qo(o,null),qo(l.blueprint,null));const h=pr(s,o),p=s.injectorIndex;if(ls(h)){const _=jr(h),w=mt(h,o),C=w[1].data;for(let A=0;A<8;A++)o[p+A]=w[_+A]|C[_+A]}return o[p+8]=h,p}function qo(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Ns(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function pr(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,h=o;for(;null!==h;){const p=h[1],_=p.type;if(l=2===_?p.declTNode:1===_?h[6]:null,null===l)return-1;if(a++,h=h[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Ia(s,o,a){!function ds(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(xe)&&(l=a[xe]),null==l&&(l=a[xe]=Mc++);const h=255&l;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function Tr(s,o,a){if(a&pt.Optional)return s;_e(o,"NodeInjector")}function oi(s,o,a,l){if(a&pt.Optional&&void 0===l&&(l=null),0==(a&(pt.Self|pt.Host))){const h=s[9],p=En(void 0);try{return h?h.get(o,l,a&pt.Optional):Ks(o,l,a&pt.Optional)}finally{En(p)}}return Tr(l,o,a)}function Au(s,o,a,l=pt.Default,h){if(null!==s){const p=function co(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(xe)?s[xe]:void 0;return"number"==typeof o?o>=0?255&o:xi:o}(a);if("function"==typeof p){if(!Eu(o,s,l))return l&pt.Host?Tr(h,a,l):oi(o,a,l,h);try{const _=p(l);if(null!=_||l&pt.Optional)return _;_e(a)}finally{Iu()}}else if("number"==typeof p){let _=null,w=Ns(s,o),C=-1,A=l&pt.Host?o[16][6]:null;for((-1===w||l&pt.SkipSelf)&&(C=-1===w?pr(s,o):o[w+8],-1!==C&&Oc(l,!1)?(_=o[1],w=jr(C),o=mt(C,o)):w=-1);-1!==w;){const x=o[1];if(Ta(p,w,x.data)){const N=dg(w,o,a,_,l,A);if(N!==hn)return N}C=o[w+8],-1!==C&&Oc(l,o[1].data[w+8]===A)&&Ta(p,w,o)?(_=x,w=jr(C),o=mt(C,o)):w=-1}}}return oi(o,a,l,h)}const hn={};function xi(){return new hs(dn(),De())}function dg(s,o,a,l,h,p){const _=o[1],w=_.data[s+8],x=Pt(w,_,a,null==l?jl(w)&&Ho:l!=_&&0!=(3&w.type),h&pt.Host&&p===w);return null!==x?Da(o,_,x,w):hn}function Pt(s,o,a,l,h){const p=s.providerIndexes,_=o.data,w=1048575&p,C=s.directiveStart,x=p>>20,V=h?w+x:s.directiveEnd;for(let J=l?w:w+x;J<V;J++){const ye=_[J];if(J<C&&a===ye||J>=C&&ye.type===a)return J}if(h){const J=_[C];if(J&&Bi(J)&&J.type===a)return C}return null}function Da(s,o,a,l){let h=s[a];const p=o.data;if(function Du(s){return s instanceof Bo}(h)){const _=h;_.resolving&&function Ge(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Pe(-200,`Circular dependency in DI detected for ${s}${a}`)}(Ce(p[a]));const w=$o(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?En(_.injectImpl):null;Eu(s,l,pt.Default);try{h=s[a]=_.factory(void 0,p,s,l),o.firstCreatePass&&a>=l.directiveStart&&function Uy(s,o,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(l){const _=Po(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,_)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==C&&En(C),$o(w),_.resolving=!1,Iu()}}return h}function Ta(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Oc(s,o){return!(s&pt.Self||s&pt.Host&&o)}class hs{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return Au(this._tNode,this._lView,o,l,a)}}function Aa(s){return Wn(()=>{const o=s.prototype.constructor,a=o[Q]||Go(o),l=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==l;){const p=h[Q]||Go(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Go(s){return qe(s)?()=>{const o=Go(te(s));return o&&o()}:hr(s)}function Sa(s){return function Tu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const p=a[h];if(Gh(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(dn(),s)}const lo="__parameters__";function Zo(s,o,a){return Wn(()=>{const l=function Su(s){return function(...a){if(s){const l=s(...a);for(const h in l)this[h]=l[h]}}}(o);function h(...p){if(this instanceof h)return l.apply(this,p),this;const _=new h(...p);return w.annotation=_,w;function w(C,A,x){const N=C.hasOwnProperty(lo)?C[lo]:Object.defineProperty(C,lo,{value:[]})[lo];for(;N.length<=x;)N.push(null);return(N[x]=N[x]||[]).push(_),C}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class fn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Wt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Zh=new fn("AnalyzeForEntryComponents");function Ar(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let l=s[a];Array.isArray(l)?(o===s&&(o=s.slice(0,a)),Ar(l,o)):o!==s&&o.push(l)}return o}function Nn(s,o){s.forEach(a=>Array.isArray(a)?Nn(a,o):o(a))}function Fs(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Ls(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Hr(s,o,a){let l=Oa(s,o);return l>=0?s[1|l]=a:(l=~l,function Ma(s,o,a,l){let h=s.length;if(h==o)s.push(a,l);else if(1===h)s.push(l,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=l}}(s,l,o,a)),l}function dd(s,o){const a=Oa(s,o);if(a>=0)return s[1|a]}function Oa(s,o){return function Wi(s,o,a){let l=0,h=s.length>>a;for(;h!==l;){const p=l+(h-l>>1),_=s[p<<a];if(o===_)return p<<a;_>o?h=p:l=p+1}return~(h<<a)}(s,o,1)}const Yi={},Pa="__NG_DI_FLAG__",ka="ngTempTokenPath",D=/\n/gm,F="__source",Y=ge({provide:String,useValue:ge});let ie;function Oe(s){const o=ie;return ie=s,o}function Xe(s,o=pt.Default){if(void 0===ie)throw new Pe(203,"");return null===ie?Ks(s,void 0,o):ie.get(s,o&pt.Optional?null:void 0,o)}function et(s,o=pt.Default){return(function mn(){return ei}()||Xe)(te(s),o)}const Vt=et;function Et(s){const o=[];for(let a=0;a<s.length;a++){const l=te(s[a]);if(Array.isArray(l)){if(0===l.length)throw new Pe(900,"");let h,p=pt.Default;for(let _=0;_<l.length;_++){const w=l[_],C=nr(w);"number"==typeof C?-1===C?h=w.token:p|=C:h=w}o.push(et(h,p))}else o.push(et(l))}return o}function An(s,o){return s[Pa]=o,s.prototype[Pa]=o,s}function nr(s){return s[Pa]}const $r=An(Zo("Inject",s=>({token:s})),-1),Jn=An(Zo("Optional"),8),Wo=An(Zo("SkipSelf"),4);let Ru;function $c(s){var o;return(null===(o=function vd(){if(void 0===Ru&&(Ru=null,Lt.trustedTypes))try{Ru=Lt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Ru}())||void 0===o?void 0:o.createHTML(s))||s}class ps{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class mg extends ps{getTypeName(){return"HTML"}}class ef extends ps{getTypeName(){return"Style"}}class jy extends ps{getTypeName(){return"Script"}}class ob extends ps{getTypeName(){return"URL"}}class yg extends ps{getTypeName(){return"ResourceURL"}}function gs(s){return s instanceof ps?s.changingThisBreaksApplicationSecurity:s}function Ra(s,o){const a=wd(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function wd(s){return s instanceof ps&&s.getTypeName()||null}function _g(s){return new mg(s)}function Cd(s){return new ef(s)}function Hy(s){return new jy(s)}function Ed(s){return new ob(s)}function $y(s){return new yg(s)}class vg{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString($c(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class tf{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=$c(o),a;const l=this.inertDocument.createElement("body");return l.innerHTML=$c(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const _=a.item(h).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let l=o.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const nf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Na=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Bs(s){return(s=String(s)).match(nf)||s.match(Na)?s:"unsafe:"+s}function Pi(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function Gc(...s){const o={};for(const a of s)for(const l in a)a.hasOwnProperty(l)&&(o[l]=!0);return o}const Fa=Pi("area,br,col,hr,img,wbr"),rf=Pi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wg=Pi("rp,rt"),La=Gc(Fa,Gc(rf,Pi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gc(wg,Pi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gc(wg,rf)),Id=Pi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Dd=Pi("srcset"),Ko=Gc(Id,Dd,Pi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Cg=Pi("script,style,template");class Td{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!La.hasOwnProperty(a))return this.sanitizedSomething=!0,!Cg.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=o.attributes;for(let h=0;h<l.length;h++){const p=l.item(h),_=p.name,w=_.toLowerCase();if(!Ko.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let C=p.value;Id[w]&&(C=Bs(C)),Dd[w]&&(s=C,C=(s=String(s)).split(",").map(o=>Bs(o.trim())).join(", ")),this.buf.push(" ",_,'="',Ad(C),'"')}var s;return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();La.hasOwnProperty(a)&&!Fa.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(Ad(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const Zy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Eg=/([^\#-~ |!])/g;function Ad(s){return s.replace(/&/g,"&amp;").replace(Zy,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Eg,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fu;function Zc(s,o){let a=null;try{Fu=Fu||function fo(s){const o=new tf(s);return function qy(){try{return!!(new window.DOMParser).parseFromString($c(""),"text/html")}catch(s){return!1}}()?new vg(o):o}(s);let l=o?String(o):"";a=Fu.getInertBodyElement(l);let h=5,p=l;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,l=p,p=a.innerHTML,a=Fu.getInertBodyElement(l)}while(l!==p);return $c((new Td).sanitizeChildren(Sd(a)||a))}finally{if(a){const l=Sd(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Sd(s){return"content"in s&&function xd(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Sn=(()=>((Sn=Sn||{})[Sn.NONE=0]="NONE",Sn[Sn.HTML=1]="HTML",Sn[Sn.STYLE=2]="STYLE",Sn[Sn.SCRIPT=3]="SCRIPT",Sn[Sn.URL=4]="URL",Sn[Sn.RESOURCE_URL=5]="RESOURCE_URL",Sn))();function Md(s){const o=function zc(){const s=De();return s&&s[12]}();return o?o.sanitize(Sn.URL,s)||"":Ra(s,"URL")?gs(s):Bs(pe(s))}const ht="__ngContext__";function un(s,o){s[ht]=o}function Ua(s){const o=function $n(s){return s[ht]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function go(s){return s.ngOriginalError}function fi(s,...o){s.error(...o)}class Kc{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),l=function Sg(s){return s&&s.ngErrorLogger||fi}(o);l(this._console,"ERROR",o),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&go(o);for(;a&&go(a);)a=go(a);return a||null}}const Jc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Lt))();function y(s){return s instanceof Function?s():s}var P=(()=>((P=P||{})[P.Important=1]="Important",P[P.DashCase=2]="DashCase",P))();function fe(s,o){return undefined(s,o)}function lt(s){const o=s[3];return Ui(o)?o[3]:o}function gi(s){return df(s[13])}function Ba(s){return df(s[4])}function df(s){for(;null!==s&&!Ui(s);)s=s[4];return s}function ja(s,o,a,l,h){if(null!=l){let p,_=!1;Ui(l)?p=l:Vr(l)&&(_=!0,l=l[0]);const w=Kt(l);0===s&&null!==a?null==h?e_(o,a,w):Xc(o,a,w,h||null,!0):1===s&&null!==a?Xc(o,a,w,h||null,!0):2===s?function s_(s,o,a){const l=gf(s,o);l&&function cI(s,o,a,l){en(s)?s.removeChild(o,a,l):o.removeChild(a)}(s,l,o,a)}(o,w,_):3===s&&o.destroyNode(w),null!=p&&function pb(s,o,a,l,h){const p=a[7];p!==Kt(a)&&ja(o,s,l,p,h);for(let w=10;w<a.length;w++){const C=a[w];yf(C[1],C,s,o,l,p)}}(o,s,p,a,h)}}function Ld(s,o,a){if(en(s))return s.createElement(o,a);{const l=null!==a?function mc(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?s.createElement(o):s.createElementNS(l,o)}}function yo(s,o){const a=s[9],l=a.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Fo(h,-1)),a.splice(l,1)}function kg(s,o){if(s.length<=10)return;const a=10+o,l=s[a];if(l){const h=l[17];null!==h&&h!==s&&yo(h,l),o>0&&(s[a-1][4]=l[4]);const p=Ls(s,10+o);!function Yo(s,o){yf(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const _=p[19];null!==_&&_.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Xy(s,o){if(!(256&o[2])){const a=o[11];en(a)&&a.destroyNode&&yf(s,o,a,3,null,null),function pf(s){let o=s[13];if(!o)return Rg(s[1],s);for(;o;){let a=null;if(Vr(o))a=o[13];else{const l=o[10];l&&(a=l)}if(!a){for(;o&&!o[4]&&o!==s;)Vr(o)&&Rg(o[1],o),o=o[3];null===o&&(o=s),Vr(o)&&Rg(o[1],o),a=o&&o[4]}o=a}}(o)}}function Rg(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Gr(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const h=o[a[l]];if(!(h instanceof Bo)){const p=a[l+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const w=h[p[_]],C=p[_+1];try{C.call(w)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function ZS(s,o){const a=s.cleanup,l=o[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+1],w="function"==typeof _?_(o):Kt(o[_]),C=l[h=a[p+2]],A=a[p+3];"boolean"==typeof A?w.removeEventListener(a[p],C,A):A>=0?l[h=A]():l[h=-A].unsubscribe(),p+=2}else{const _=l[h=a[p+1]];a[p].call(_)}if(null!==l){for(let p=h+1;p<l.length;p++)l[p]();o[7]=null}}(s,o),1===o[1].type&&en(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&Ui(o[3])){a!==o[3]&&yo(a,o);const l=o[19];null!==l&&l.detachView(s)}}}function _o(s,o,a){return function fb(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[0];if(2&l.flags){const h=s.data[l.directiveStart].encapsulation;if(h===$t.None||h===$t.Emulated)return null}return er(l,a)}(s,o.parent,a)}function Xc(s,o,a,l,h){en(s)?s.insertBefore(o,a,l,h):o.insertBefore(a,l,h)}function e_(s,o,a){en(s)?s.appendChild(o,a):o.appendChild(a)}function t_(s,o,a,l,h){null!==l?Xc(s,o,a,l,h):e_(s,o,a)}function gf(s,o){return en(s)?s.parentNode(o):o.parentNode}let mf=function r_(s,o,a){return 40&s.type?er(s,a):null};function ju(s,o,a,l){const h=_o(s,l,o),p=o[11],w=function n_(s,o,a){return mf(s,o,a)}(l.parent||o[6],l,o);if(null!=h)if(Array.isArray(a))for(let C=0;C<a.length;C++)t_(p,h,a[C],w,!1);else t_(p,h,a,w,!1)}function Ng(s,o){if(null!==o){const a=o.type;if(3&a)return er(o,s);if(4&a)return i_(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return Ng(s,l);{const h=s[o.index];return Ui(h)?i_(-1,h):Kt(h)}}if(32&a)return fe(o,s)()||Kt(s[o.index]);{const l=Hu(s,o);return null!==l?Array.isArray(l)?l[0]:Ng(lt(s[16]),l):Ng(s,o.next)}}return null}function Hu(s,o){return null!==o?s[16][6].projection[o.projection]:null}function i_(s,o){const a=10+s+1;if(a<o.length){const l=o[a],h=l[1].firstChild;if(null!==h)return Ng(l,h)}return o[7]}function Fg(s,o,a,l,h,p,_){for(;null!=a;){const w=l[a.index],C=a.type;if(_&&0===o&&(w&&un(Kt(w),l),a.flags|=4),64!=(64&a.flags))if(8&C)Fg(s,o,a.child,l,h,p,!1),ja(o,s,h,w,p);else if(32&C){const A=fe(a,l);let x;for(;x=A();)ja(o,s,h,x,p);ja(o,s,h,w,p)}else 16&C?Ud(s,o,l,a,h,p):ja(o,s,h,w,p);a=_?a.projectionNext:a.next}}function yf(s,o,a,l,h,p){Fg(a,l,s.firstChild,o,h,p,!1)}function Ud(s,o,a,l,h,p){const _=a[16],C=_[6].projection[l.projection];if(Array.isArray(C))for(let A=0;A<C.length;A++)ja(o,s,h,C[A],p);else Fg(s,o,C,_[3],h,p,!0)}function gb(s,o,a){en(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function _f(s,o,a){en(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function vf(s,o,a){let l=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===l||s.charCodeAt(h+p)<=32)return h}a=h+1}}const o_="ng-template";function hI(s,o,a){let l=0;for(;l<s.length;){let h=s[l++];if(a&&"class"===h){if(h=s[l],-1!==vf(h.toLowerCase(),o,0))return!0}else if(1===h){for(;l<s.length&&"string"==typeof(h=s[l++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function mb(s){return 4===s.type&&s.value!==o_}function fI(s,o,a){return o===(4!==s.type||a?s.value:o_)}function Vg(s,o,a){let l=4;const h=s.attrs||[],p=function mI(s){for(let o=0;o<s.length;o++)if(Gh(s[o]))return o;return s.length}(h);let _=!1;for(let w=0;w<o.length;w++){const C=o[w];if("number"!=typeof C){if(!_)if(4&l){if(l=2|1&l,""!==C&&!fI(s,C,a)||""===C&&1===o.length){if(vo(l))return!1;_=!0}}else{const A=8&l?C:o[++w];if(8&l&&null!==s.attrs){if(!hI(s.attrs,A,a)){if(vo(l))return!1;_=!0}continue}const N=pI(8&l?"class":C,h,mb(s),a);if(-1===N){if(vo(l))return!1;_=!0;continue}if(""!==A){let V;V=N>p?"":h[N+1].toLowerCase();const J=8&l?V:null;if(J&&-1!==vf(J,A,0)||2&l&&A!==V){if(vo(l))return!1;_=!0}}}}else{if(!_&&!vo(l)&&!vo(C))return!1;if(_&&vo(C))continue;_=!1,l=C|1&l}}return vo(l)||_}function vo(s){return 0==(1&s)}function pI(s,o,a,l){if(null===o)return-1;let h=0;if(l||!a){let p=!1;for(;h<o.length;){const _=o[h];if(_===s)return h;if(3===_||6===_)p=!0;else{if(1===_||2===_){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=p?1:2}return-1}return function _b(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function yb(s,o,a=!1){for(let l=0;l<o.length;l++)if(Vg(s,o[l],a))return!0;return!1}function Bg(s,o){return s?":not("+o.trim()+")":o}function $a(s){let o=s[0],a=1,l=2,h="",p=!1;for(;a<s.length;){let _=s[a];if("string"==typeof _)if(2&l){const w=s[++a];h+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?h+="."+_:4&l&&(h+=" "+_);else""!==h&&!vo(_)&&(o+=Bg(p,h),h=""),l=_,p=p||!vo(l);a++}return""!==h&&(o+=Bg(p,h)),o}const xt={};function bb(s){Jo(Nt(),De(),Kn()+s,!1)}function Jo(s,o,a,l){if(!l)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&cs(o,p,a)}else{const p=s.preOrderHooks;null!==p&&oo(o,p,0,a)}so(a)}function jg(s,o){return s<<17|o<<2}function Qi(s){return s>>17&32767}function Hg(s){return 2|s}function bo(s){return(131068&s)>>2}function bf(s,o){return-131069&s|o<<2}function el(s){return 1|s}function y_(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const h=a[l],p=a[l+1];if(-1!==p){const _=s.data[p];Xl(h),_.contentQueries(2,o[p],p)}}}function Cf(s,o,a,l,h,p,_,w,C,A){const x=o.blueprint.slice();return x[0]=h,x[2]=140|l,qi(x),x[3]=x[15]=s,x[8]=a,x[10]=_||s&&s[10],x[11]=w||s&&s[11],x[12]=C||s&&s[12]||null,x[9]=A||s&&s[9]||null,x[6]=p,x[16]=2==o.type?s[16]:x,x}function Hd(s,o,a,l,h){let p=s.data[o];if(null===p)p=function __(s,o,a,l,h){const p=yu(),_=Cc(),C=s.data[o]=function Nb(s,o,a,l,h,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,o,l,h);return null===s.firstChild&&(s.firstChild=C),null!==p&&(_?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}(s,o,a,l,h),function Dc(){return gt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=l,p.attrs=h;const _=function ro(){const s=gt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return ii(p,!0),p}function $d(s,o,a,l){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(l),s.blueprint.push(l),s.data.push(null);return h}function Gu(s,o,a){io(o);try{const l=s.viewQuery;null!==l&&A_(1,l,a);const h=s.template;null!==h&&Ef(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&y_(s,o),s.staticViewQueries&&A_(2,s.viewQuery,a);const p=s.components;null!==p&&function zg(s,o){for(let a=0;a<o.length;a++)$b(s,o[a])}(o,p)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,Br()}}function sl(s,o,a,l){const h=o[2];if(256!=(256&h)){io(o);try{qi(o),function _u(s){return gt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&Ef(s,o,a,2,l);const _=3==(3&h);if(_){const A=s.preOrderCheckHooks;null!==A&&cs(o,A,null)}else{const A=s.preOrderHooks;null!==A&&oo(o,A,0,null),jn(o,0)}if(function FI(s){for(let o=gi(s);null!==o;o=Ba(o)){if(!o[2])continue;const a=o[9];for(let l=0;l<a.length;l++){const h=a[l],p=h[3];0==(1024&h[2])&&Fo(p,1),h[2]|=1024}}}(o),function NI(s){for(let o=gi(s);null!==o;o=Ba(o))for(let a=10;a<o.length;a++){const l=o[a],h=l[1];as(l)&&sl(h,l,h.template,l[8])}}(o),null!==s.contentQueries&&y_(s,o),_){const A=s.contentCheckHooks;null!==A&&cs(o,A)}else{const A=s.contentHooks;null!==A&&oo(o,A,1),jn(o,1)}!function Mb(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)so(~h);else{const p=h,_=a[++l],w=a[++l];bu(_,p),w(2,o[p])}}}finally{so(-1)}}(s,o);const w=s.components;null!==w&&function Zg(s,o){for(let a=0;a<o.length;a++)LI(s,o[a])}(o,w);const C=s.viewQuery;if(null!==C&&A_(2,C,l),_){const A=s.viewCheckHooks;null!==A&&cs(o,A)}else{const A=s.viewHooks;null!==A&&oo(o,A,2),jn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-73,1024&o[2]&&(o[2]&=-1025,Fo(o[3],-1))}finally{Br()}}}function Ob(s,o,a,l){const h=o[10],_=no(o);try{!_&&h.begin&&h.begin(),_&&Gu(s,o,l),sl(s,o,a,l)}finally{!_&&h.end&&h.end()}}function Ef(s,o,a,l,h){const p=Kn(),_=2&l;try{so(-1),_&&o.length>20&&Jo(s,o,20,!1),a(l,h)}finally{so(p)}}function v_(s,o,a){if(du(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const _=s.data[p];_.contentQueries&&_.contentQueries(1,a[p],p)}}}function ol(s,o,a){!mu()||(function SI(s,o,a,l){const h=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||Yn(a,o),un(l,o);const _=a.initialInputs;for(let w=h;w<p;w++){const C=s.data[w],A=Bi(C);A&&kI(o,a,C);const x=Da(o,s,w,a);un(x,o),null!==_&&jb(0,w-h,x,C,0,_),A&&(tr(a.index,o)[8]=x)}}(s,o,a,er(a,o)),128==(128&a.flags)&&function xI(s,o,a){const l=a.directiveStart,h=a.directiveEnd,_=a.index,w=function Tc(){return gt.lFrame.currentDirectiveIndex}();try{so(_);for(let C=l;C<h;C++){const A=s.data[C],x=o[C];wa(C),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Lb(A,x)}}finally{so(-1),wa(w)}}(s,o,a))}function Wg(s,o,a=er){const l=o.localNames;if(null!==l){let h=o.index+1;for(let p=0;p<l.length;p+=2){const _=l[p+1],w=-1===_?a(o,s):s[_];s[h++]=w}}}function Pb(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Kg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Kg(s,o,a,l,h,p,_,w,C,A){const x=20+l,N=x+h,V=function CI(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:xt);return a}(x,N),J="function"==typeof A?A():A;return V[1]={type:s,blueprint:V,template:a,queries:null,viewQuery:w,declTNode:o,data:V.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:C,consts:J,incompleteFirstPass:!1}}function Rb(s,o,a,l){const h=Gb(o);null===a?h.push(l):(h.push(a),s.firstCreatePass&&Zb(s).push(l,h.length-1))}function If(s,o,a){for(let l in s)if(s.hasOwnProperty(l)){const h=s[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(o,h):a[l]=[o,h]}return a}function mi(s,o,a,l,h,p,_,w){const C=er(o,a);let x,A=o.inputs;!w&&null!=A&&(x=A[l])?(S_(s,a,x,l,h),jl(o)&&function DI(s,o){const a=tr(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(l=function II(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),h=null!=_?_(h,o.value||"",l):h,en(p)?p.setProperty(C,l,h):zi(l)||(C.setProperty?C.setProperty(l,h):C[l]=h))}function b_(s,o,a,l){let h=!1;if(mu()){const p=function MI(s,o,a){const l=s.directiveRegistry;let h=null;if(l)for(let p=0;p<l.length;p++){const _=l[p];yb(a,_.selectors,!1)&&(h||(h=[]),Ia(Yn(a,o),s,_.type),Bi(_)?(w_(s,a),h.unshift(_)):h.push(_))}return h}(s,o,a),_=null===l?null:{"":-1};if(null!==p){h=!0,Ub(a,s.data.length,p.length);for(let x=0;x<p.length;x++){const N=p[x];N.providersResolver&&N.providersResolver(N)}let w=!1,C=!1,A=$d(s,o,p.length,null);for(let x=0;x<p.length;x++){const N=p[x];a.mergedAttrs=jo(a.mergedAttrs,N.hostAttrs),Vb(s,a,o,A,N),PI(A,N,_),null!==N.contentQueries&&(a.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(a.flags|=128);const V=N.type.prototype;!w&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),w=!0),!C&&(V.ngOnChanges||V.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),C=!0),A++}!function EI(s,o){const l=o.directiveEnd,h=s.data,p=o.attrs,_=[];let w=null,C=null;for(let A=o.directiveStart;A<l;A++){const x=h[A],N=x.inputs,V=null===p||mb(o)?null:Hb(N,p);_.push(V),w=If(N,A,w),C=If(x.outputs,A,C)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=w,o.outputs=C}(s,a)}_&&function OI(s,o,a){if(o){const l=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new Pe(-301,!1);l.push(o[h],p)}}}(a,l,_)}return a.mergedAttrs=jo(a.mergedAttrs,a.attrs),h}function Fb(s,o,a,l,h,p){const _=p.hostBindings;if(_){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const C=~o.index;(function AI(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(w)!=C&&w.push(C),w.push(l,h,_)}}function Lb(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function w_(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function PI(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;Bi(o)&&(a[""]=s)}}function Ub(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function Vb(s,o,a,l,h){s.data[l]=h;const p=h.factory||(h.factory=hr(h.type)),_=new Bo(p,Bi(h),null);s.blueprint[l]=_,a[l]=_,Fb(s,o,0,l,$d(s,a,h.hostVars,xt),h)}function kI(s,o,a){const l=er(o,s),h=Pb(a),p=s[10],_=Gd(s,Cf(s,h,null,a.onPush?64:16,l,o,p,p.createRenderer(l,a),null,null));s[o.index]=_}function wo(s,o,a,l,h,p){const _=er(s,o);!function Bb(s,o,a,l,h,p,_){if(null==p)en(s)?s.removeAttribute(o,h,a):o.removeAttribute(h);else{const w=null==_?pe(p):_(p,l||"",h);en(s)?s.setAttribute(o,h,w,a):a?o.setAttributeNS(a,h,w):o.setAttribute(h,w)}}(o[11],_,p,s.value,a,l,h)}function jb(s,o,a,l,h,p){const _=p[o];if(null!==_){const w=l.setInput;for(let C=0;C<_.length;){const A=_[C++],x=_[C++],N=_[C++];null!==w?l.setInput(a,N,A,x):a[x]=N}}}function Hb(s,o){let a=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[l+1])),l+=2}else l+=2;else l+=4}return a}function C_(s,o,a,l){return new Array(s,!0,!1,o,null,0,l,a,null,null)}function LI(s,o){const a=tr(o,s);if(as(a)){const l=a[1];80&a[2]?sl(l,a,l.template,a[8]):a[5]>0&&E_(a)}}function E_(s){for(let l=gi(s);null!==l;l=Ba(l))for(let h=10;h<l.length;h++){const p=l[h];if(1024&p[2]){const _=p[1];sl(_,p,_.template,p[8])}else p[5]>0&&E_(p)}const a=s[1].components;if(null!==a)for(let l=0;l<a.length;l++){const h=tr(a[l],s);as(h)&&h[5]>0&&E_(h)}}function $b(s,o){const a=tr(o,s),l=a[1];(function UI(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),Gu(l,a,a[8])}function Gd(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function I_(s){for(;s;){s[2]|=64;const o=lt(s);if(ga(s)&&!o)return s;s=o}return null}function T_(s){!function D_(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],l=Ua(a),h=l[1];Ob(h,l,h.template,a)}}(s[8])}function A_(s,o,a){Xl(0),o(s,a)}const qb=(()=>Promise.resolve(null))();function Gb(s){return s[7]||(s[7]=[])}function Zb(s){return s.cleanup||(s.cleanup=[])}function zb(s,o){const a=s[9],l=a?a.get(Kc,null):null;l&&l.handleError(o)}function S_(s,o,a,l,h){for(let p=0;p<a.length;){const _=a[p++],w=a[p++],C=o[_],A=s.data[_];null!==A.setInput?A.setInput(C,h,l,w):C[w]=h}}function Hs(s,o,a){const l=Ps(o,s);!function Qc(s,o,a){en(s)?s.setValue(o,a):o.textContent=a}(s[11],l,a)}function al(s,o,a){let l=a?s.styles:null,h=a?s.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const w=o[_];"number"==typeof w?p=w:1==p?h=he(h,w):2==p&&(l=he(l,w+": "+o[++_]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=h:s.classesWithoutHost=h}const Jg=new fn("INJECTOR",-1);class Wb{get(o,a=Yi){if(a===Yi){const l=new Error(`NullInjectorError: No provider for ${oe(o)}!`);throw l.name="NullInjectorError",l}return a}}const Qg=new fn("Set Injector scope."),zd={},x_={};let Kb;function Zu(){return void 0===Kb&&(Kb=new Wb),Kb}function M_(s,o=null,a=null,l){const h=Yb(s,o,a,l);return h._resolveInjectorDefTypes(),h}function Yb(s,o=null,a=null,l){return new jI(s,a,o||Zu(),l)}class jI{constructor(o,a,l,h=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&Nn(a,w=>this.processProvider(w,o,a)),Nn([o],w=>this.processInjectorType(w,[],p)),this.records.set(Jg,ul(void 0,this));const _=this.records.get(Qg);this.scope=null!=_?_.value:null,this.source=h||("object"==typeof o?null:oe(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=Yi,l=pt.Default){this.assertNotDestroyed();const h=Oe(this),p=En(void 0);try{if(!(l&pt.SkipSelf)){let w=this.records.get(o);if(void 0===w){const C=function WI(s){return"function"==typeof s||"object"==typeof s&&s instanceof fn}(o)&&Rt(o);w=C&&this.injectableDefInScope(C)?ul(Xg(o),zd):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(l&pt.Self?Zu():this.parent).get(o,a=l&pt.Optional&&a===Yi?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[ka]=_[ka]||[]).unshift(oe(o)),h)throw _;return function Vs(s,o,a,l){const h=s[ka];throw o[F]&&h.unshift(o[F]),s.message=function Ji(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=oe(o);if(Array.isArray(o))h=o.map(oe).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let w=o[_];p.push(_+":"+("string"==typeof w?JSON.stringify(w):oe(w)))}h=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${s.replace(D,"\n  ")}`}("\n"+s.message,h,a,l),s.ngTokenPath=h,s[ka]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{En(p),Oe(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((l,h)=>o.push(oe(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pe(205,!1)}processInjectorType(o,a,l){if(!(o=te(o)))return!1;let h=wr(o);const p=null==h&&o.ngModule||void 0,_=void 0===p?o:p,w=-1!==l.indexOf(_);if(void 0!==p&&(h=wr(p)),null==h)return!1;if(null!=h.imports&&!w){let x;l.push(_);try{Nn(h.imports,N=>{this.processInjectorType(N,a,l)&&(void 0===x&&(x=[]),x.push(N))})}finally{}if(void 0!==x)for(let N=0;N<x.length;N++){const{ngModule:V,providers:J}=x[N];Nn(J,ye=>this.processProvider(ye,V,J||L))}}this.injectorDefTypes.add(_);const C=hr(_)||(()=>new _);this.records.set(_,ul(C,zd));const A=h.providers;if(null!=A&&!w){const x=o;Nn(A,N=>this.processProvider(N,x,A))}return void 0!==p&&void 0!==o.providers}processProvider(o,a,l){let h=zu(o=te(o))?o:te(o&&o.provide);const p=function $I(s,o,a){return Qb(s)?ul(void 0,s.useValue):ul(Jb(s),zd)}(o);if(zu(o)||!0!==o.multi)this.records.get(h);else{let _=this.records.get(h);_||(_=ul(void 0,zd,!0),_.factory=()=>Et(_.multi),this.records.set(h,_)),h=o,_.multi.push(o)}this.records.set(h,p)}hydrate(o,a){return a.value===zd&&(a.value=x_,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Xb(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=te(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Xg(s){const o=Rt(s),a=null!==o?o.factory:hr(s);if(null!==a)return a;if(s instanceof fn)throw new Pe(204,!1);if(s instanceof Function)return function HI(s){const o=s.length;if(o>0)throw function ci(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}(o,"?"),new Pe(204,!1);const a=function Qr(s){const o=s&&(s[Ni]||s[Xr]);if(o){const a=function ar(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Pe(204,!1)}function Jb(s,o,a){let l;if(zu(s)){const h=te(s);return hr(h)||Xg(h)}if(Qb(s))l=()=>te(s.useValue);else if(function GI(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...Et(s.deps||[]));else if(function qI(s){return!(!s||!s.useExisting)}(s))l=()=>et(te(s.useExisting));else{const h=te(s&&(s.useClass||s.provide));if(!function zI(s){return!!s.deps}(s))return hr(h)||Xg(h);l=()=>new h(...Et(s.deps))}return l}function ul(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Qb(s){return null!==s&&"object"==typeof s&&Y in s}function zu(s){return"function"==typeof s}let qa=(()=>{class s{static create(a,l){var h;if(Array.isArray(a))return M_({name:""},l,a,"");{const p=null!==(h=a.name)&&void 0!==h?h:"";return M_({name:p},a.parent,a.providers,p)}}}return s.THROW_IF_NOT_FOUND=Yi,s.NULL=new Wb,s.\u0275prov=Wt({token:s,providedIn:"any",factory:()=>et(Jg)}),s.__NG_ELEMENT_ID__=-1,s})();function p1(s,o){Ca(Ua(s)[1],dn())}function Wu(s){let o=function $s(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const l=[s];for(;o;){let h;if(Bi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Pe(903,"");h=o.\u0275dir}if(h){if(a){l.push(h);const _=s;_.inputs=Xo(s.inputs),_.declaredInputs=Xo(s.declaredInputs),_.outputs=Xo(s.outputs);const w=h.hostBindings;w&&tD(s,w);const C=h.viewQuery,A=h.contentQueries;if(C&&cw(s,C),A&&eD(s,A),ue(s.inputs,h.inputs),ue(s.declaredInputs,h.declaredInputs),ue(s.outputs,h.outputs),Bi(h)&&h.data.animation){const x=s.data;x.animation=(x.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let _=0;_<p.length;_++){const w=p[_];w&&w.ngInherit&&w(s),w===Wu&&(a=!1)}}o=Object.getPrototypeOf(o)}!function Dt(s){let o=0,a=null;for(let l=s.length-1;l>=0;l--){const h=s[l];h.hostVars=o+=h.hostVars,h.hostAttrs=jo(h.hostAttrs,a=jo(a,h.hostAttrs))}}(l)}function Xo(s){return s===lr?{}:s===L?[]:s}function cw(s,o){const a=s.viewQuery;s.viewQuery=a?(l,h)=>{o(l,h),a(l,h)}:o}function eD(s,o){const a=s.contentQueries;s.contentQueries=a?(l,h,p)=>{o(l,h,p),a(l,h,p)}:o}function tD(s,o){const a=s.hostBindings;s.hostBindings=a?(l,h)=>{o(l,h),a(l,h)}:o}let Wd=null;function Kd(){if(!Wd){const s=Lt.Symbol;if(s&&s.iterator)Wd=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Wd=l)}}}return Wd}function xf(s){return!!k_(s)&&(Array.isArray(s)||!(s instanceof Map)&&Kd()in s)}function k_(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ea(s,o,a){return s[o]=a}function sn(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function ta(s,o,a,l){const h=sn(s,o,a);return sn(s,o+1,l)||h}function Pf(s,o,a,l){const h=De();return sn(h,Rs(),o)&&(Nt(),wo(Rn(),h,s,o,a,l)),Pf}function Ku(s,o,a,l){return sn(s,Rs(),a)?o+pe(a)+l:xt}function Jd(s,o,a,l,h,p,_,w,C,A){const N=function qs(s,o,a,l,h,p){const _=ta(s,o,a,l);return ta(s,o+2,h,p)||_}(s,function si(){return gt.lFrame.bindingIndex}(),a,h,_,C);return Ai(4),N?o+pe(a)+l+pe(h)+p+pe(_)+w+pe(C)+A:xt}function nm(s,o,a,l,h,p,_,w){const C=De(),A=Nt(),x=s+20,N=A.firstCreatePass?function gw(s,o,a,l,h,p,_,w,C){const A=o.consts,x=Hd(o,s,4,_||null,Ti(A,w));b_(o,a,x,Ti(A,C)),Ca(o,x);const N=x.tViews=Kg(2,x,l,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,x),N.queries=o.queries.embeddedTView(x)),x}(x,A,C,o,a,l,h,p,_):A.data[x];ii(N,!1);const V=C[11].createComment("");ju(A,C,V,N),un(V,C),Gd(C,C[x]=C_(V,C,V,N)),Vi(N)&&ol(A,C,N),null!=_&&Wg(C,N,w)}function th(s){return function $i(s,o){return s[o]}(function Ql(){return gt.lFrame.contextLView}(),20+s)}function Rf(s,o=pt.Default){const a=De();return null===a?et(s,o):Au(dn(),a,te(s),o)}function pD(){throw new Error("invalid")}function Ow(s,o,a){const l=De();return sn(l,Rs(),o)&&mi(Nt(),Rn(),l,s,o,l[11],a,!1),Ow}function Nf(s,o,a,l,h){const _=h?"class":"style";S_(s,a,o.inputs[_],_,l)}function am(s,o,a,l){const h=De(),p=Nt(),_=20+s,w=h[11],C=h[_]=Ld(w,o,function ug(){return gt.lFrame.currentNamespace}()),A=p.firstCreatePass?function m1(s,o,a,l,h,p,_){const w=o.consts,A=Hd(o,s,2,h,Ti(w,p));return b_(o,a,A,Ti(w,_)),null!==A.attrs&&al(A,A.attrs,!1),null!==A.mergedAttrs&&al(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(_,p,h,0,o,a,l):p.data[_];ii(A,!0);const x=A.mergedAttrs;null!==x&&uo(w,C,x);const N=A.classes;null!==N&&_f(w,C,N);const V=A.styles;return null!==V&&gb(w,C,V),64!=(64&A.flags)&&ju(p,h,C,A),0===function ba(){return gt.lFrame.elementDepthCount}()&&un(C,h),function bc(){gt.lFrame.elementDepthCount++}(),Vi(A)&&(ol(p,h,A),v_(p,A,h)),null!==l&&Wg(h,A),am}function Ff(){let s=dn();Cc()?Ec():(s=s.parent,ii(s,!1));const o=s;!function gu(){gt.lFrame.elementDepthCount--}();const a=Nt();return a.firstCreatePass&&(Ca(a,s),du(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function lg(s){return 0!=(16&s.flags)}(o)&&Nf(a,o,De(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function rn(s){return 0!=(32&s.flags)}(o)&&Nf(a,o,De(),o.stylesWithoutHost,!1),Ff}function z_(s,o,a,l){return am(s,o,a,l),Ff(),z_}function ih(s,o,a){const l=De(),h=Nt(),p=s+20,_=h.firstCreatePass?function W_(s,o,a,l,h){const p=o.consts,_=Ti(p,l),w=Hd(o,s,8,"ng-container",_);return null!==_&&al(w,_,!0),b_(o,a,w,Ti(p,h)),null!==o.queries&&o.queries.elementStart(o,w),w}(p,h,l,o,a):h.data[p];ii(_,!0);const w=l[p]=l[11].createComment("");return ju(h,l,w,_),un(w,l),Vi(_)&&(ol(h,l,_),v_(h,_,l)),null!=a&&Wg(l,_),ih}function Pw(){let s=dn();const o=Nt();return Cc()?Ec():(s=s.parent,ii(s,!1)),o.firstCreatePass&&(Ca(o,s),du(s)&&o.queries.elementEnd(s)),Pw}function Lf(s,o,a){return ih(s,o,a),Pw(),Lf}function mD(){return De()}function K_(s){return!!s&&"function"==typeof s.then}function yD(s){return!!s&&"function"==typeof s.subscribe}const kw=yD;function Y_(s,o,a,l){const h=De(),p=Nt(),_=dn();return function Rw(s,o,a,l,h,p,_,w){const C=Vi(l),x=s.firstCreatePass&&Zb(s),N=o[8],V=Gb(o);let J=!0;if(3&l.type||w){const He=er(l,o),nt=w?w(He):He,Te=V.length,ft=w?jt=>w(Kt(jt[l.index])):l.index;if(en(a)){let jt=null;if(!w&&C&&(jt=function y1(s,o,a,l){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const _=h[p];if(_===a&&h[p+1]===l){const w=o[7],C=h[p+2];return w.length>C?w[C]:null}"string"==typeof _&&(p+=2)}return null}(s,o,h,l.index)),null!==jt)(jt.__ngLastListenerFn__||jt).__ngNextListenerFn__=p,jt.__ngLastListenerFn__=p,J=!1;else{p=Nw(l,o,N,p,!1);const an=a.listen(nt,h,p);V.push(p,an),x&&x.push(h,ft,Te,Te+1)}}else p=Nw(l,o,N,p,!0),nt.addEventListener(h,p,_),V.push(p),x&&x.push(h,ft,Te,_)}else p=Nw(l,o,N,p,!1);const ye=l.outputs;let Ne;if(J&&null!==ye&&(Ne=ye[h])){const He=Ne.length;if(He)for(let nt=0;nt<He;nt+=2){const bs=o[Ne[nt]][Ne[nt+1]].subscribe(p),kl=V.length;V.push(p,bs),x&&x.push(h,l.index,kl,-(kl+1))}}}(p,h,h[11],_,s,o,!!a,l),Y_}function vD(s,o,a,l){try{return!1!==a(l)}catch(h){return zb(s,h),!1}}function Nw(s,o,a,l,h){return function p(_){if(_===Function)return l;const w=2&s.flags?tr(s.index,o):o;0==(32&o[2])&&I_(w);let C=vD(o,0,l,_),A=p.__ngNextListenerFn__;for(;A;)C=vD(o,0,A,_)&&C,A=A.__ngNextListenerFn__;return h&&!1===C&&(_.preventDefault(),_.returnValue=!1),C}}function bD(s=1){return function qh(s){return(gt.lFrame.contextLView=function Ac(s,o){for(;s>0;)o=o[15],s--;return o}(s,gt.lFrame.contextLView))[8]}(s)}function J_(s,o,a){return um(s,"",o,"",a),J_}function um(s,o,a,l,h){const p=De(),_=Ku(p,o,a,l);return _!==xt&&mi(Nt(),Rn(),p,s,_,p[11],h,!1),um}function cm(s,o,a,l,h){const p=s[a+1],_=null===o;let w=l?Qi(p):bo(p),C=!1;for(;0!==w&&(!1===C||_);){const x=s[w+1];wD(s[w],o)&&(C=!0,s[w+1]=l?el(x):Hg(x)),w=l?Qi(x):bo(x)}C&&(s[a+1]=l?Hg(p):el(p))}function wD(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Oa(s,o)>=0}const mr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function CD(s){return s.substring(mr.key,mr.keyEnd)}function ra(s,o){const a=mr.textEnd;return a===o?-1:(o=mr.keyEnd=function iv(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,mr.key=o,a),Za(s,o,a))}function Za(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function ov(s,o,a){return Eo(s,o,a,!1),ov}function yr(s,o){return Eo(s,o,null,!0),yr}function za(s){!function Gs(s,o,a,l){const h=Nt(),p=Ai(2);h.firstUpdatePass&&jw(h,null,p,l);const _=De();if(a!==xt&&sn(_,p,a)){const w=h.data[Kn()];if(fm(w,l)&&!av(h,p)){let C=l?w.classesWithoutHost:w.stylesWithoutHost;null!==C&&(a=he(C,a||"")),Nf(h,w,_,a,l)}else!function qw(s,o,a,l,h,p,_,w){h===xt&&(h=L);let C=0,A=0,x=0<h.length?h[0]:null,N=0<p.length?p[0]:null;for(;null!==x||null!==N;){const V=C<h.length?h[C+1]:void 0,J=A<p.length?p[A+1]:void 0;let Ne,ye=null;x===N?(C+=2,A+=2,V!==J&&(ye=N,Ne=J)):null===N||null!==x&&x<N?(C+=2,ye=x):(A+=2,ye=N,Ne=J),null!==ye&&hm(s,o,a,l,ye,Ne,_,w),x=C<h.length?h[C]:null,N=A<p.length?p[A]:null}}(h,w,_,_[11],_[p+1],_[p+1]=function ki(s,o,a){if(null==a||""===a)return L;const l=[],h=gs(a);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(l,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(l,p,h[p]);else"string"==typeof h&&o(l,h);return l}(s,o,a),l,p)}}(Hr,ia,s,!0)}function ia(s,o){for(let a=function ED(s){return function St(s){mr.key=0,mr.keyEnd=0,mr.value=0,mr.valueEnd=0,mr.textEnd=s.length}(s),ra(s,Za(s,0,mr.textEnd))}(o);a>=0;a=ra(o,a))Hr(s,CD(o),!0)}function Eo(s,o,a,l){const h=De(),p=Nt(),_=Ai(2);p.firstUpdatePass&&jw(p,s,_,l),o!==xt&&sn(h,_,o)&&hm(p,p.data[Kn()],h,h[11],s,h[_+1]=function Gw(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=oe(gs(s)))),s}(o,a),l,_)}function av(s,o){return o>=s.expandoStartIndex}function jw(s,o,a,l){const h=s.data;if(null===h[a+1]){const p=h[Kn()],_=av(s,a);fm(p,l)&&null===o&&!_&&(o=!1),o=function Hw(s,o,a,l){const h=function wu(s){const o=gt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=l?o.residualClasses:o.residualStyles;if(null===h)0===(l?o.classBindings:o.styleBindings)&&(a=dl(a=zr(null,s,o,a,l),o.attrs,l),p=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==h)if(a=zr(h,s,o,a,l),null===p){let C=function uv(s,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==bo(l))return s[Qi(l)]}(s,o,l);void 0!==C&&Array.isArray(C)&&(C=zr(null,s,o,C[1],l),C=dl(C,o.attrs,l),function dm(s,o,a,l){s[Qi(a?o.classBindings:o.styleBindings)]=l}(s,o,l,C))}else p=function $w(s,o,a){let l;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)l=dl(l,s[p].hostAttrs,a);return dl(l,o.attrs,a)}(s,o,l)}return void 0!==p&&(l?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,l),function ms(s,o,a,l,h,p){let _=p?o.classBindings:o.styleBindings,w=Qi(_),C=bo(_);s[l]=a;let x,A=!1;if(Array.isArray(a)){const N=a;x=N[1],(null===x||Oa(N,x)>0)&&(A=!0)}else x=a;if(h)if(0!==C){const V=Qi(s[w+1]);s[l+1]=jg(V,w),0!==V&&(s[V+1]=bf(s[V+1],l)),s[w+1]=function l_(s,o){return 131071&s|o<<17}(s[w+1],l)}else s[l+1]=jg(w,0),0!==w&&(s[w+1]=bf(s[w+1],l)),w=l;else s[l+1]=jg(C,0),0===w?w=l:s[C+1]=bf(s[C+1],l),C=l;A&&(s[l+1]=Hg(s[l+1])),cm(s,x,l,!0),cm(s,x,l,!1),function Lw(s,o,a,l,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Oa(p,o)>=0&&(a[l+1]=el(a[l+1]))}(o,x,s,l,p),_=jg(w,C),p?o.classBindings=_:o.styleBindings=_}(h,p,o,a,_,l)}}function zr(s,o,a,l,h){let p=null;const _=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<_&&(p=o[w],l=dl(l,p.hostAttrs,h),p!==s);)w++;return null!==s&&(a.directiveStylingLast=w),l}function dl(s,o,a){const l=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const _=o[p];"number"==typeof _?h=_:h===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Hr(s,_,!!a||o[++p]))}return void 0===s?null:s}function hm(s,o,a,l,h,p,_,w){if(!(3&o.type))return;const C=s.data,A=C[w+1];Vf(function wb(s){return 1==(1&s)}(A)?lv(C,o,a,h,bo(A),_):void 0)||(Vf(p)||function c_(s){return 2==(2&s)}(A)&&(p=lv(C,null,a,h,w,_)),function Ug(s,o,a,l,h){const p=en(s);if(o)h?p?s.addClass(a,l):a.classList.add(l):p?s.removeClass(a,l):a.classList.remove(l);else{let _=-1===l.indexOf("-")?void 0:P.DashCase;if(null==h)p?s.removeStyle(a,l,_):a.style.removeProperty(l);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),_|=P.Important),p?s.setStyle(a,l,h,_):a.style.setProperty(l,h,w?"important":"")}}}(l,_,Ps(Kn(),a),h,p))}function lv(s,o,a,l,h,p){const _=null===o;let w;for(;h>0;){const C=s[h],A=Array.isArray(C),x=A?C[1]:C,N=null===x;let V=a[h+1];V===xt&&(V=N?L:void 0);let J=N?dd(V,l):x===l?V:void 0;if(A&&!Vf(J)&&(J=dd(C,l)),Vf(J)&&(w=J,_))return w;const ye=s[h+1];h=_?Qi(ye):bo(ye)}if(null!==o){let C=p?o.residualClasses:o.residualStyles;null!=C&&(w=dd(C,l))}return w}function Vf(s){return void 0!==s}function fm(s,o){return 0!=(s.flags&(o?16:32))}function Zw(s,o=""){const a=De(),l=Nt(),h=s+20,p=l.firstCreatePass?Hd(l,h,1,o,null):l.data[h],_=a[h]=function Fd(s,o){return en(s)?s.createText(o):s.createTextNode(o)}(a[11],o);ju(l,a,_,p),ii(p,!1)}function dv(s){return Ju("",s,""),dv}function Ju(s,o,a){const l=De(),h=Ku(l,s,o,a);return h!==xt&&Hs(l,Kn(),h),Ju}function gm(s,o,a,l,h,p,_,w,C){const A=De(),x=Jd(A,s,o,a,l,h,p,_,w,C);return x!==xt&&Hs(A,Kn(),x),gm}const Wa=void 0;var Wr=["en",[["a","p"],["AM","PM"],Wa],[["AM","PM"],Wa,Wa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wa,"{1} 'at' {0}",Wa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xr(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Ka={};function Iv(s){const o=function Tv(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=Qw(o);if(a)return a;const l=o.split("-")[0];if(a=Qw(l),a)return a;if("en"===l)return Wr;throw new Error(`Missing locale data for the locale "${s}".`)}function Dv(s){return Iv(s)[yt.PluralCase]}function Qw(s){return s in Ka||(Ka[s]=Lt.ng&&Lt.ng.common&&Lt.ng.common.locales&&Lt.ng.common.locales[s]),Ka[s]}var yt=(()=>((yt=yt||{})[yt.LocaleId=0]="LocaleId",yt[yt.DayPeriodsFormat=1]="DayPeriodsFormat",yt[yt.DayPeriodsStandalone=2]="DayPeriodsStandalone",yt[yt.DaysFormat=3]="DaysFormat",yt[yt.DaysStandalone=4]="DaysStandalone",yt[yt.MonthsFormat=5]="MonthsFormat",yt[yt.MonthsStandalone=6]="MonthsStandalone",yt[yt.Eras=7]="Eras",yt[yt.FirstDayOfWeek=8]="FirstDayOfWeek",yt[yt.WeekendRange=9]="WeekendRange",yt[yt.DateFormat=10]="DateFormat",yt[yt.TimeFormat=11]="TimeFormat",yt[yt.DateTimeFormat=12]="DateTimeFormat",yt[yt.NumberSymbols=13]="NumberSymbols",yt[yt.NumberFormats=14]="NumberFormats",yt[yt.CurrencyCode=15]="CurrencyCode",yt[yt.CurrencySymbol=16]="CurrencySymbol",yt[yt.CurrencyName=17]="CurrencyName",yt[yt.Currencies=18]="Currencies",yt[yt.Directionality=19]="Directionality",yt[yt.PluralCase=20]="PluralCase",yt[yt.ExtraData=21]="ExtraData",yt))();const $f="en-US";let Xw=$f;function tp(s,o,a,l,h){if(s=te(s),Array.isArray(s))for(let p=0;p<s.length;p++)tp(s[p],o,a,l,h);else{const p=Nt(),_=De();let w=zu(s)?s:te(s.provide),C=Jb(s);const A=dn(),x=1048575&A.providerIndexes,N=A.directiveStart,V=A.providerIndexes>>20;if(zu(s)||!s.multi){const J=new Bo(C,h,Rf),ye=Om(w,o,h?x:x+V,N);-1===ye?(Ia(Yn(A,_),p,w),np(p,s,o.length),o.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),a.push(J),_.push(J)):(a[ye]=J,_[ye]=J)}else{const J=Om(w,o,x+V,N),ye=Om(w,o,x,x+V),Ne=J>=0&&a[J],He=ye>=0&&a[ye];if(h&&!He||!h&&!Ne){Ia(Yn(A,_),p,w);const nt=function KD(s,o,a,l,h){const p=new Bo(s,a,Rf);return p.multi=[],p.index=o,p.componentProviders=0,jv(p,h,l&&!a),p}(h?WD:Hv,a.length,h,l,C);!h&&He&&(a[ye].providerFactory=nt),np(p,s,o.length,0),o.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),a.push(nt),_.push(nt)}else np(p,s,J>-1?J:ye,jv(a[h?ye:J],C,!h&&l));!h&&l&&He&&a[ye].componentProviders++}}}function np(s,o,a,l){const h=zu(o),p=function ZI(s){return!!s.useClass}(o);if(h||p){const C=(p?te(o.useClass):o).prototype.ngOnDestroy;if(C){const A=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const x=A.indexOf(a);-1===x?A.push(a,[l,C]):A[x+1].push(l,C)}else A.push(a,C)}}}function jv(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Om(s,o,a,l){for(let h=a;h<l;h++)if(o[h]===s)return h;return-1}function Hv(s,o,a,l){return $v(this.multi,[])}function WD(s,o,a,l){const h=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=Da(a,a[1],this.providerFactory.index,l);p=w.slice(0,_),$v(h,p);for(let C=_;C<w.length;C++)p.push(w[C])}else p=[],$v(h,p);return p}function $v(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function rp(s,o=[]){return a=>{a.providersResolver=(l,h)=>function mC(s,o,a){const l=Nt();if(l.firstCreatePass){const h=Bi(s);tp(a,l.data,l.blueprint,h,!0),tp(o,l.data,l.blueprint,h,!1)}}(l,h?h(s):s,o)}}class sp{}class op{resolveComponentFactory(o){throw function qv(s){const o=Error(`No component factory found for ${oe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let km=(()=>{class s{}return s.NULL=new op,s})();function ir(){return _l(dn(),De())}function _l(s,o){return new ap(er(s,o))}let ap=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=ir,s})();function YD(s){return s instanceof ap?s.nativeElement:s}class yC{}let _C=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function bC(){const s=De(),a=tr(dn().index,s);return function vC(s){return s[11]}(Vr(a)?a:s)}(),s})(),Rm=(()=>{class s{}return s.\u0275prov=Wt({token:s,providedIn:"root",factory:()=>null}),s})();class Zv{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const sa=new Zv("13.3.11"),Nm={};function Fm(s,o,a,l,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&l.push(Kt(p)),Ui(p))for(let w=10;w<p.length;w++){const C=p[w],A=C[1].firstChild;null!==A&&Fm(C[1],C,A,l)}const _=a.type;if(8&_)Fm(s,o,a.child,l);else if(32&_){const w=fe(a,o);let C;for(;C=w();)l.push(C)}else if(16&_){const w=Hu(o,a);if(Array.isArray(w))l.push(...w);else{const C=lt(o[16]);Fm(C[1],C,w,l,!0)}}a=h?a.projectionNext:a.next}return l}class vl{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Fm(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Ui(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(kg(o,l),Ls(a,l))}this._attachedToViewContainer=!1}Xy(this._lView[1],this._lView)}onDestroy(o){Rb(this._lView[1],this._lView,null,o)}markForCheck(){I_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Tf(s,o,a){const l=o[10];l.begin&&l.begin();try{sl(s,o,s.template,a)}catch(h){throw zb(o,h),h}finally{l.end&&l.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Pe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ff(s,o){yf(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Pe(902,"");this._appRef=o}}class up extends vl{constructor(o){super(o),this._view=o}detectChanges(){T_(this._view)}checkNoChanges(){}get context(){return null}}class zv extends km{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Vn(o);return new cp(a,this.ngModule)}}function Lm(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class cp extends sp{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Vd(s){return s.map($a).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Lm(this.componentDef.inputs)}get outputs(){return Lm(this.componentDef.outputs)}create(o,a,l,h){const p=(h=h||this.ngModule)?function wC(s,o){return{get:(a,l,h)=>{const p=s.get(a,Nm,h);return p!==Nm||l===Nm?p:o.get(a,l,h)}}}(o,h.injector):o,_=p.get(yC,ya),w=p.get(Rm,null),C=_.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",x=l?function Yg(s,o,a){if(en(s))return s.selectRootElement(o,a===$t.ShadowDom);let l="string"==typeof o?s.querySelector(o):o;return l.textContent="",l}(C,l,this.componentDef.encapsulation):Ld(_.createRenderer(null,this.componentDef),A,function Um(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(A)),N=this.componentDef.onPush?576:528,V=function XI(s,o){return{components:[],scheduler:s||Jc,clean:qb,playerHandler:o||null,flags:0}}(),J=Kg(0,null,null,1,0,null,null,null,null,null),ye=Cf(null,J,V,N,null,null,_,C,w,p);let Ne,He;io(ye);try{const nt=function JI(s,o,a,l,h,p){const _=a[1];a[20]=s;const C=Hd(_,20,2,"#host",null),A=C.mergedAttrs=o.hostAttrs;null!==A&&(al(C,A,!0),null!==s&&(uo(h,s,A),null!==C.classes&&_f(h,s,C.classes),null!==C.styles&&gb(h,s,C.styles)));const x=l.createRenderer(s,o),N=Cf(a,Pb(o),null,o.onPush?64:16,a[20],C,l,x,p||null,null);return _.firstCreatePass&&(Ia(Yn(C,a),_,o.type),w_(_,C),Ub(C,a.length,1)),Gd(a,N),a[20]=N}(x,this.componentDef,ye,_,C);if(x)if(l)uo(C,x,["ng-version",sa.full]);else{const{attrs:Te,classes:ft}=function vb(s){const o=[],a=[];let l=1,h=2;for(;l<s.length;){let p=s[l];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++l]):8===h&&a.push(p);else{if(!vo(h))break;h=p}l++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Te&&uo(C,x,Te),ft&&ft.length>0&&_f(C,x,ft.join(" "))}if(He=gn(J,20),void 0!==a){const Te=He.projection=[];for(let ft=0;ft<this.ngContentSelectors.length;ft++){const jt=a[ft];Te.push(null!=jt?Array.from(jt):null)}}Ne=function QI(s,o,a,l,h){const p=a[1],_=function TI(s,o,a){const l=dn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Vb(s,l,o,$d(s,o,1,null),a));const h=Da(o,s,l.directiveStart,l);un(h,o);const p=er(l,o);return p&&un(p,o),h}(p,a,o);if(l.components.push(_),s[8]=_,h&&h.forEach(C=>C(_,o)),o.contentQueries){const C=dn();o.contentQueries(1,_,C.directiveStart)}const w=dn();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(so(w.index),Fb(a[1],w,0,w.directiveStart,w.directiveEnd,o),Lb(o,_)),_}(nt,this.componentDef,ye,V,[p1]),Gu(J,ye,null)}finally{Br()}return new CC(this.componentType,Ne,_l(He,ye),ye,He)}}class CC extends class ip{}{constructor(o,a,l,h,p){super(),this.location=l,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new up(h),this.componentType=o}get injector(){return new hs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class bl{}class Wv{}const nc=new Map;class Jv extends bl{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new zv(this);const l=Bn(o);this._bootstrapComponents=y(l.bootstrap),this._r3Injector=Yb(o,a,[{provide:bl,useValue:this},{provide:km,useValue:this.componentFactoryResolver}],oe(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=qa.THROW_IF_NOT_FOUND,l=pt.Default){return o===qa||o===bl||o===Jg?this:this._r3Injector.get(o,a,l)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class jm extends Wv{constructor(o){super(),this.moduleType=o,null!==Bn(o)&&function Bm(s){const o=new Set;!function a(l){const h=Bn(l,!0),p=h.id;null!==p&&(function Kv(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${oe(o)} vs ${oe(o.name)}`)}(p,nc.get(p),l),nc.set(p,l));const _=y(h.imports);for(const w of _)o.has(w)||(o.add(w),a(w))}(s)}(o)}create(o){return new Jv(this.moduleType,o)}}function Qv(s,o,a){const l=fr()+s,h=De();return h[l]===xt?ea(h,l,a?o.call(a):o()):function Mf(s,o){return s[o]}(h,l)}function Xv(s,o,a,l){return function TC(s,o,a,l,h,p){const _=o+a;return sn(s,_,h)?ea(s,_+1,p?l.call(p,h):l(h)):function dp(s,o){const a=s[o];return a===xt?void 0:a}(s,_+1)}(De(),fr(),s,o,a,l)}function pp(s){return o=>{setTimeout(s,void 0,o)}}const Ke=class fp extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){var h,p,_;let w=o,C=a||(()=>null),A=l;if(o&&"object"==typeof o){const N=o;w=null===(h=N.next)||void 0===h?void 0:h.bind(N),C=null===(p=N.error)||void 0===p?void 0:p.bind(N),A=null===(_=N.complete)||void 0===_?void 0:_.bind(N)}this.__isAsync&&(C=pp(C),w&&(w=pp(w)),A&&(A=pp(A)));const x=super.subscribe({next:w,error:C,complete:A});return o instanceof X.w0&&o.add(x),x}};function Tt(){return this._results[Kd()]()}class r0{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Kd(),l=r0.prototype;l[a]||(l[a]=Tt)}get changes(){return this._changes||(this._changes=new Ke)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const h=Ar(o);(this._changesDetected=!function hg(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let h=s[l],p=o[l];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let $e=(()=>{class s{}return s.__NG_ELEMENT_ID__=Mr,s})();const le=$e,Me=class extends le{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o){const a=this._declarationTContainer.tViews,l=Cf(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(l[19]=p.createEmbeddedView(a)),Gu(a,l,o),new vl(l)}};function Mr(){return gp(dn(),De())}function gp(s,o){return 4&s.type?new Me(o,s,_l(s,o)):null}let $m=(()=>{class s{}return s.__NG_ELEMENT_ID__=tT,s})();function tT(){return PC(dn(),De())}const nT=$m,MC=class extends nT{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return _l(this._hostTNode,this._hostLView)}get injector(){return new hs(this._hostTNode,this._hostLView)}get parentInjector(){const o=pr(this._hostTNode,this._hostLView);if(ls(o)){const a=mt(o,this._hostLView),l=jr(o);return new hs(a[1].data[l+8],a)}return new hs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=OC(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,l){const h=o.createEmbeddedView(a||{});return this.insert(h,l),h}createComponent(o,a,l,h,p){const _=o&&!function Hn(s){return"function"==typeof s}(o);let w;if(_)w=a;else{const N=a||{};w=N.index,l=N.injector,h=N.projectableNodes,p=N.ngModuleRef}const C=_?o:new cp(Vn(o)),A=l||this.parentInjector;if(!p&&null==C.ngModule){const V=(_?A:this.parentInjector).get(bl,null);V&&(p=V)}const x=C.create(A,h,void 0,p);return this.insert(x.hostView,w),x}insert(o,a){const l=o._lView,h=l[1];if(function va(s){return Ui(s[3])}(l)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const N=l[3],V=new MC(N,N[6],N[3]);V.detach(V.indexOf(o))}}const p=this._adjustIndex(a),_=this._lContainer;!function Qy(s,o,a,l){const h=10+l,p=a.length;l>0&&(a[h-1][4]=o),l<p-10?(o[4]=a[h],Fs(a,10+l,o)):(a.push(o),o[4]=null),o[3]=a;const _=o[17];null!==_&&a!==_&&function uI(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(_,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=128}(h,l,_,p);const w=i_(p,_),C=l[11],A=gf(C,_[7]);return null!==A&&function hf(s,o,a,l,h,p){l[0]=h,l[6]=o,yf(s,l,a,1,h,p)}(h,_[6],C,l,A,w),o.attachToViewContainerRef(),Fs(qm(_),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=OC(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=kg(this._lContainer,a);l&&(Ls(qm(this._lContainer),a),Xy(l[1],l))}detach(o){const a=this._adjustIndex(o,-1),l=kg(this._lContainer,a);return l&&null!=Ls(qm(this._lContainer),a)?new vl(l):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function OC(s){return s[8]}function qm(s){return s[8]||(s[8]=[])}function PC(s,o){let a;const l=o[s.index];if(Ui(l))a=l;else{let h;if(8&s.type)h=Kt(l);else{const p=o[11];h=p.createComment("");const _=er(s,o);Xc(p,gf(p,_),h,function lI(s,o){return en(s)?s.nextSibling(o):o.nextSibling}(p,_),!1)}o[s.index]=a=C_(l,o,h,s),Gd(o,a)}return new MC(a,s,o)}class Gm{constructor(o){this.queryList=o,this.matches=null}clone(){return new Gm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mt{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<l;p++){const _=a.getByIndex(p);h.push(this.queries[_.indexInDeclarationView].clone())}return new Mt(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==ic(o,a).matches&&this.queries[a].setDirty()}}class wl{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class Zm{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(o,h);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new Zm(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Fn{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Fn(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const p=l[h];this.matchTNodeWithReadOption(o,a,It(a,p)),this.matchTNodeWithReadOption(o,a,Pt(a,o,p,!1,!1))}else l===$e?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Pt(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===ap||h===$m||h===$e&&4&a.type)this.addMatch(a.index,-2);else{const p=Pt(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function It(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function Cl(s,o,a,l){return-1===a?function kC(s,o){return 11&s.type?_l(s,o):4&s.type?gp(s,o):null}(o,s):-2===a?function RC(s,o,a){return a===ap?_l(o,s):a===$e?gp(o,s):a===$m?PC(o,s):void 0}(s,o,l):Da(s,s[1],a,o)}function ph(s,o,a,l){const h=o[19].queries[l];if(null===h.matches){const p=s.data,_=a.matches,w=[];for(let C=0;C<_.length;C+=2){const A=_[C];w.push(A<0?null:Cl(o,p[A],_[C+1],a.metadata.read))}h.matches=w}return h.matches}function qt(s,o,a,l){const h=s.queries.getByIndex(a),p=h.matches;if(null!==p){const _=ph(s,o,h,a);for(let w=0;w<p.length;w+=2){const C=p[w];if(C>0)l.push(_[w/2]);else{const A=p[w+1],x=o[-C];for(let N=10;N<x.length;N++){const V=x[N];V[17]===V[3]&&qt(V[1],V,A,l)}if(null!==x[9]){const N=x[9];for(let V=0;V<N.length;V++){const J=N[V];qt(J[1],J,A,l)}}}}}return l}function NC(s){const o=De(),a=Nt(),l=Cu();Xl(l+1);const h=ic(a,l);if(s.dirty&&no(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?qt(a,o,l,[]):ph(a,o,h,l);s.reset(p,YD),s.notifyOnChanges()}return!0}return!1}function sr(s,o,a){const l=Nt();l.firstCreatePass&&(Xa(l,new wl(s,o,a),-1),2==(2&o)&&(l.staticViewQueries=!0)),LC(l,De(),o)}function El(s,o,a,l){const h=Nt();if(h.firstCreatePass){const p=dn();Xa(h,new wl(o,a,l),p.index),function Gn(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}LC(h,De(),a)}function FC(){return function _r(s,o){return s[19].queries[o].queryList}(De(),Cu())}function LC(s,o,a){const l=new r0(4==(4&a));Rb(s,o,l,l.destroy),null===o[19]&&(o[19]=new Mt),o[19].queries.push(new Gm(l))}function Xa(s,o,a){null===s.queries&&(s.queries=new Zm),s.queries.track(new Fn(o,a))}function ic(s,o){return s.queries.getByIndex(o)}function zm(s,o){return gp(s,o)}function Ip(...s){}const Or=new fn("Application Initializer");let f0=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Ip,this.reject=Ip,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(K_(p))a.push(p);else if(kw(p)){const _=new Promise((w,C)=>{p.subscribe({complete:w,error:C})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(et(Or,8))},s.\u0275prov=Wt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const $C=new fn("AppId",{providedIn:"root",factory:function qC(){return`${p0()}${p0()}${p0()}`}});function p0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const GC=new fn("Platform Initializer"),aT=new fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ZC=new fn("appBootstrapListener");let _h=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Wt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const ty=new fn("LocaleId",{providedIn:"root",factory:()=>Vt(ty,pt.Optional|pt.SkipSelf)||function uT(){return"undefined"!=typeof $localize&&$localize.locale||$f}()}),zC=new fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class lT{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let g0=(()=>{class s{compileModuleSync(a){return new jm(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=y(Bn(a).declarations).reduce((_,w)=>{const C=Vn(w);return C&&_.push(new cp(C)),_},[]);return new lT(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Wt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const vh=(()=>Promise.resolve(0))();function es(s){"undefined"==typeof Zone?vh.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ri{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ke(!1),this.onMicrotaskEmpty=new Ke(!1),this.onStable=new Ke(!1),this.onError=new Ke(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function KC(){let s=Lt.requestAnimationFrame,o=Lt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function JC(s){const o=()=>{!function y0(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Lt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,ny(s),s.isCheckStableRunning=!0,Tp(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),ny(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,p,_,w)=>{try{return QC(s),a.invokeTask(h,p,_,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),_0(s)}},onInvoke:(a,l,h,p,_,w,C)=>{try{return QC(s),a.invoke(h,p,_,w,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),_0(s)}},onHasTask:(a,l,h,p)=>{a.hasTask(h,p),l===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,ny(s),Tp(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,h,p)=>(a.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ri.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ri.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,h){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+h,o,YC,Ip,Ip);try{return p.runTask(_,a,l)}finally{p.cancelTask(_)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const YC={};function Tp(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function ny(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function QC(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function _0(s){s._nesting--,Tp(s)}class XC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ke,this.onMicrotaskEmpty=new Ke,this.onStable=new Ke,this.onError=new Ke}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,h){return o.apply(a,l)}}let v0=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ri.assertNotInAngularZone(),es(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())es(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(et(Ri))},s.\u0275prov=Wt({token:s,factory:s.\u0275fac}),s})(),ry=(()=>{class s{constructor(){this._applications=new Map,iy.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return iy.findTestabilityInTree(this,a,l)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Wt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class dT{addToWindow(o){}findTestabilityInTree(o,a,l){return null}}function hT(s){iy=s}let iy=new dT,zs=null;const ac=new fn("AllowMultipleToken"),b0=new fn("PlatformOnDestroy");class eE{constructor(o,a){this.name=o,this.token=a}}function wh(s,o,a=[]){const l=`Platform: ${o}`,h=new fn(l);return(p=[])=>{let _=Ch();if(!_||_.injector.get(ac,!1)){const w=[...a,...p,{provide:h,useValue:!0}];s?s(w):function tE(s){if(zs&&!zs.get(ac,!1))throw new Pe(400,"");zs=s;const o=s.get(Ap),a=s.get(GC,null);a&&a.forEach(l=>l())}(function gT(s=[],o){return qa.create({name:o,providers:[{provide:Qg,useValue:"platform"},{provide:b0,useValue:()=>zs=null},...s]})}(w,l))}return function pT(s){const o=Ch();if(!o)throw new Pe(401,"");return o}()}}function Ch(){var s;return null!==(s=null==zs?void 0:zs.get(Ap))&&void 0!==s?s:null}let Ap=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const w=function mT(s,o){let a;return a="noop"===s?new XC:("zone.js"===s?void 0:s)||new Ri({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),C=[{provide:Ri,useValue:w}];return w.run(()=>{const A=qa.create({providers:C,parent:this.injector,name:a.moduleType.name}),x=a.create(A),N=x.injector.get(Kc,null);if(!N)throw new Pe(402,"");return w.runOutsideAngular(()=>{const V=w.onError.subscribe({next:J=>{N.handleError(J)}});x.onDestroy(()=>{oy(this._modules,x),V.unsubscribe()})}),function w0(s,o,a){try{const l=a();return K_(l)?l.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(N,w,()=>{const V=x.injector.get(f0);return V.runInitializers(),V.donePromise.then(()=>(function qf(s){Ft(s,"Expected localeId to be defined"),"string"==typeof s&&(Xw=s.toLowerCase().replace(/_/g,"-"))}(x.injector.get(ty,$f)||$f),this._moduleDoBootstrap(x),x))})})}bootstrapModule(a,l=[]){const h=nE({},l);return function Sl(s,o,a){const l=new jm(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const l=a.injector.get(sy);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Pe(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pe(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(b0,null);null==a||a(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(et(qa))},s.\u0275prov=Wt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function nE(s,o){return Array.isArray(o)?o.reduce(nE,s):Object.assign(Object.assign({},s),o)}let sy=(()=>{class s{constructor(a,l,h,p){this._zone=a,this._injector=l,this._exceptionHandler=h,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new R.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),w=new R.y(C=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{Ri.assertNotInAngularZone(),es(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{Ri.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{A.unsubscribe(),x.unsubscribe()}});this.isStable=(0,ce.T)(_,w.pipe((0,ne.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Pe(405,"");let h;h=a instanceof sp?a:this._injector.get(km).resolveComponentFactory(a),this.componentTypes.push(h.componentType);const p=function bh(s){return s.isBoundToModule}(h)?void 0:this._injector.get(bl),w=h.create(qa.NULL,[],l||h.selector,p),C=w.location.nativeElement,A=w.injector.get(v0,null),x=A&&w.injector.get(ry);return A&&x&&x.registerApplication(C,A),w.onDestroy(()=>{this.detachView(w.hostView),oy(this.components,w),x&&x.unregisterApplication(C)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Pe(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;oy(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(ZC,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(et(Ri),et(qa),et(Kc),et(f0))},s.\u0275prov=Wt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function oy(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let C0=!0,E0=!1;function rE(){return E0=!0,C0}function Sp(){if(E0)throw new Error("Cannot enable prod mode after platform setup.");C0=!1}let zt=(()=>{class s{}return s.__NG_ELEMENT_ID__=sE,s})();function sE(s){return function oE(s,o,a){if(jl(s)&&!a){const l=tr(s.index,o);return new vl(l,l)}return 47&s.type?new vl(o[16],o):null}(dn(),De(),16==(16&s))}class lE{constructor(){}supports(o){return xf(o)}create(o){return new dE(o)}}const Mp=(s,o)=>o;class dE{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Mp}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,h=0,p=null;for(;a||l;){const _=!l||a&&a.currentIndex<I0(l,h,p)?a:l,w=I0(_,h,p),C=_.currentIndex;if(_===l)h--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)h++;else{p||(p=[]);const A=w-h,x=C-h;if(A!=x){for(let V=0;V<A;V++){const J=V<p.length?p[V]:p[V]=0,ye=J+V;x<=ye&&ye<A&&(p[V]=J+1)}p[_.previousIndex]=x-A}}w!==C&&o(_,w,C)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!xf(o))throw new Pe(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,_,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],_=this._trackByFn(w,p),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,p,_,w)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,w),l=!0),a=a._next}else h=0,function rD(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Kd()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,w=>{_=this._trackByFn(h,w),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,w,_,h)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,_,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new bT(a,l),p,h),o}_verifyReinsertion(o,a,l,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new dy),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dy),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class bT{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Pr{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class dy{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new Pr,this.map.set(a,l)),l.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function I0(s,o,a){const l=s.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+o+h}class Th{constructor(){}supports(o){return o instanceof Map||k_(o)}create(){return new ca}}class ca{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||k_(o)))throw new Pe(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,_=h._next;return p&&(p._next=_),_&&(_._prev=p),h._next=null,h._prev=null,h}const l=new D0(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class D0{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function T0(){return new Pl([new lE])}let Pl=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||T0()),deps:[[s,new Wo,new Jn]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new Pe(901,"")}}return s.\u0275prov=Wt({token:s,providedIn:"root",factory:T0}),s})();function A0(){return new hy([new Th])}let hy=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||A0()),deps:[[s,new Wo,new Jn]]}}find(a){const l=this.factories.find(p=>p.supports(a));if(l)return l;throw new Pe(901,"")}}return s.\u0275prov=Wt({token:s,providedIn:"root",factory:A0}),s})();const IT=wh(null,"core",[]);let fE=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(et(sy))},s.\u0275mod=Cr({type:s}),s.\u0275inj=Zt({}),s})()},3942:(Qe,be,k)=>{k.d(be,{Z:()=>Pe});var c=k(2090),X=k(4859),R=k(9681),ce=k(1877);class ne{constructor(pe,Ce){this._delegate=pe,this.firebase=Ce,(0,R._addComponent)(pe,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(pe,Ce=R._DEFAULT_ENTRY_NAME){var Ge;this._delegate.checkDestroyed();const We=this._delegate.container.getProvider(pe);return!We.isInitialized()&&"EXPLICIT"===(null===(Ge=We.getComponent())||void 0===Ge?void 0:Ge.instantiationMode)&&We.initialize(),We.getImmediate({identifier:Ce})}_removeServiceInstance(pe,Ce=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(Ce)}_addComponent(pe){(0,R._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,R._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function he(){const Ue=function oe(Ue){const pe={},Ce={__esModule:!0,initializeApp:function Ie(Ve,j={}){const ve=R.initializeApp(Ve,j);if((0,c.r3)(pe,ve.name))return pe[ve.name];const W=new Ue(ve,Ce);return pe[ve.name]=W,W},app:We,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function we(Ve){const j=Ve.name,ve=j.replace("-compat","");if(R._registerComponent(Ve)&&"PUBLIC"===Ve.type){const W=(re=We())=>{if("function"!=typeof re[ve])throw ue.create("invalid-app-argument",{appName:j});return re[ve]()};void 0!==Ve.serviceProps&&(0,c.ZB)(W,Ve.serviceProps),Ce[ve]=W,Ue.prototype[ve]=function(...re){return this._getService.bind(this,j).apply(this,Ve.multipleInstances?re:[])}}return"PUBLIC"===Ve.type?Ce[ve]:null},removeApp:function Ge(Ve){delete pe[Ve]},useAsService:function Be(Ve,j){return"serverAuth"===j?null:j},modularAPIs:R}};function We(Ve){if(!(0,c.r3)(pe,Ve=Ve||R._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:Ve});return pe[Ve]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function _e(){return Object.keys(pe).map(Ve=>pe[Ve])}}),We.App=Ue,Ce}(ne);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function pe(Ce){(0,c.ZB)(Ue,Ce)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ue}(),B=new ce.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pe=H;!function Ae(Ue){(0,R.registerVersion)("@firebase/app-compat","0.1.26",Ue)}()},9681:(Qe,be,k)=>{k.r(be),k.d(be,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Ni,_DEFAULT_ENTRY_NAME:()=>Ft,_addComponent:()=>tn,_addOrOverwriteComponent:()=>Wt,_apps:()=>Jt,_clearComponents:()=>rs,_components:()=>Cn,_getProvider:()=>Zt,_registerComponent:()=>br,_removeServiceInstance:()=>Rt,deleteApp:()=>pt,getApp:()=>Xr,getApps:()=>Ei,initializeApp:()=>Ts,onLog:()=>En,registerVersion:()=>mn,setLogLevel:()=>Ks});var c=k(5861),X=k(4859),R=k(1877),ce=k(2090),ne=k(8766);class ge{constructor(Q){this.container=Q}getPlatformInfoString(){return this.container.getProviders().map(xe=>{if(function ue($){const Q=$.getComponent();return"VERSION"===(null==Q?void 0:Q.type)}(xe)){const Ye=xe.getImmediate();return`${Ye.library}/${Ye.version}`}return null}).filter(xe=>xe).join(" ")}}const oe="@firebase/app",H=new R.Yd("@firebase/app"),Ft="[DEFAULT]",ze={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Jt=new Map,Cn=new Map;function tn($,Q){try{$.container.addComponent(Q)}catch(xe){H.debug(`Component ${Q.name} failed to register with FirebaseApp ${$.name}`,xe)}}function Wt($,Q){$.container.addOrOverwriteComponent(Q)}function br($){const Q=$.name;if(Cn.has(Q))return H.debug(`There were multiple attempts to register component ${Q}.`),!1;Cn.set(Q,$);for(const xe of Jt.values())tn(xe,$);return!0}function Zt($,Q){const xe=$.container.getProvider("heartbeat").getImmediate({optional:!0});return xe&&xe.triggerHeartbeat(),$.container.getProvider(Q)}function Rt($,Q,xe=Ft){Zt($,Q).clearInstance(xe)}function rs(){Cn.clear()}const ar=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class wr{constructor(Q,xe,Ye){this._isDeleted=!1,this._options=Object.assign({},Q),this._config=Object.assign({},xe),this._name=xe.name,this._automaticDataCollectionEnabled=xe.automaticDataCollectionEnabled,this._container=Ye,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Q){this.checkDestroyed(),this._automaticDataCollectionEnabled=Q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Q){this._isDeleted=Q}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const Ni="9.8.2";function Ts($,Q={}){"object"!=typeof Q&&(Q={name:Q});const xe=Object.assign({name:Ft,automaticDataCollectionEnabled:!1},Q),Ye=xe.name;if("string"!=typeof Ye||!Ye)throw ar.create("bad-app-name",{appName:String(Ye)});const dt=Jt.get(Ye);if(dt){if((0,ce.vZ)($,dt.options)&&(0,ce.vZ)(xe,dt.config))return dt;throw ar.create("duplicate-app",{appName:Ye})}const Ct=new X.H0(Ye);for(const wt of Cn.values())Ct.addComponent(wt);const cn=new wr($,xe,Ct);return Jt.set(Ye,cn),cn}function Xr($=Ft){const Q=Jt.get($);if(!Q)throw ar.create("no-app",{appName:$});return Q}function Ei(){return Array.from(Jt.values())}function pt($){return ei.apply(this,arguments)}function ei(){return(ei=(0,c.Z)(function*($){const Q=$.name;Jt.has(Q)&&(Jt.delete(Q),yield Promise.all($.container.getProviders().map(xe=>xe.delete())),$.isDeleted=!0)})).apply(this,arguments)}function mn($,Q,xe){var Ye;let dt=null!==(Ye=ze[$])&&void 0!==Ye?Ye:$;xe&&(dt+=`-${xe}`);const Ct=dt.match(/\s|\//),cn=Q.match(/\s|\//);if(Ct||cn){const wt=[`Unable to register library "${dt}" with version "${Q}":`];return Ct&&wt.push(`library name "${dt}" contains illegal characters (whitespace or "/")`),Ct&&cn&&wt.push("and"),cn&&wt.push(`version name "${Q}" contains illegal characters (whitespace or "/")`),void H.warn(wt.join(" "))}br(new X.wA(`${dt}-version`,()=>({library:dt,version:Q}),"VERSION"))}function En($,Q){if(null!==$&&"function"!=typeof $)throw ar.create("invalid-log-argument");(0,R.Am)($,Q)}function Ks($){(0,R.Ub)($)}const Pn="firebase-heartbeat-store";let Ii=null;function So(){return Ii||(Ii=(0,ne.X3)("firebase-heartbeat-database",1,{upgrade:($,Q)=>{0===Q&&$.createObjectStore(Pn)}}).catch($=>{throw ar.create("storage-open",{originalErrorMessage:$.message})})),Ii}function it(){return(it=(0,c.Z)(function*($){try{return(yield So()).transaction(Pn).objectStore(Pn).get(ni($))}catch(Q){throw ar.create("storage-get",{originalErrorMessage:Q.message})}})).apply(this,arguments)}function vt($,Q){return ur.apply(this,arguments)}function ur(){return(ur=(0,c.Z)(function*($,Q){try{const Ye=(yield So()).transaction(Pn,"readwrite");return yield Ye.objectStore(Pn).put(Q,ni($)),Ye.done}catch(xe){throw ar.create("storage-set",{originalErrorMessage:xe.message})}})).apply(this,arguments)}function ni($){return`${$.name}!${$.options.appId}`}class cr{constructor(Q){this.container=Q,this._heartbeatsCache=null;const xe=this.container.getProvider("app").getImmediate();this._storage=new G(xe),this._heartbeatsCachePromise=this._storage.read().then(Ye=>(this._heartbeatsCache=Ye,Ye))}triggerHeartbeat(){var Q=this;return(0,c.Z)(function*(){const Ye=Q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dt=lr();if(null===Q._heartbeatsCache&&(Q._heartbeatsCache=yield Q._heartbeatsCachePromise),Q._heartbeatsCache.lastSentHeartbeatDate!==dt&&!Q._heartbeatsCache.heartbeats.some(Ct=>Ct.date===dt))return Q._heartbeatsCache.heartbeats.push({date:dt,agent:Ye}),Q._heartbeatsCache.heartbeats=Q._heartbeatsCache.heartbeats.filter(Ct=>{const cn=new Date(Ct.date).valueOf();return Date.now()-cn<=2592e6}),Q._storage.overwrite(Q._heartbeatsCache)})()}getHeartbeatsHeader(){var Q=this;return(0,c.Z)(function*(){if(null===Q._heartbeatsCache&&(yield Q._heartbeatsCachePromise),null===Q._heartbeatsCache||0===Q._heartbeatsCache.heartbeats.length)return"";const xe=lr(),{heartbeatsToSend:Ye,unsentEntries:dt}=function L($,Q=1024){const xe=[];let Ye=$.slice();for(const dt of $){const Ct=xe.find(cn=>cn.agent===dt.agent);if(Ct){if(Ct.dates.push(dt.date),Z(xe)>Q){Ct.dates.pop();break}}else if(xe.push({agent:dt.agent,dates:[dt.date]}),Z(xe)>Q){xe.pop();break}Ye=Ye.slice(1)}return{heartbeatsToSend:xe,unsentEntries:Ye}}(Q._heartbeatsCache.heartbeats),Ct=(0,ce.L)(JSON.stringify({version:2,heartbeats:Ye}));return Q._heartbeatsCache.lastSentHeartbeatDate=xe,dt.length>0?(Q._heartbeatsCache.heartbeats=dt,yield Q._storage.overwrite(Q._heartbeatsCache)):(Q._heartbeatsCache.heartbeats=[],Q._storage.overwrite(Q._heartbeatsCache)),Ct})()}}function lr(){return(new Date).toISOString().substring(0,10)}class G{constructor(Q){this.app=Q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Q=this;return(0,c.Z)(function*(){return(yield Q._canUseIndexedDBPromise)&&(yield function $t($){return it.apply(this,arguments)}(Q.app))||{heartbeats:[]}})()}overwrite(Q){var xe=this;return(0,c.Z)(function*(){var Ye;if(yield xe._canUseIndexedDBPromise){const Ct=yield xe.read();return vt(xe.app,{lastSentHeartbeatDate:null!==(Ye=Q.lastSentHeartbeatDate)&&void 0!==Ye?Ye:Ct.lastSentHeartbeatDate,heartbeats:Q.heartbeats})}})()}add(Q){var xe=this;return(0,c.Z)(function*(){var Ye;if(yield xe._canUseIndexedDBPromise){const Ct=yield xe.read();return vt(xe.app,{lastSentHeartbeatDate:null!==(Ye=Q.lastSentHeartbeatDate)&&void 0!==Ye?Ye:Ct.lastSentHeartbeatDate,heartbeats:[...Ct.heartbeats,...Q.heartbeats]})}})()}}function Z($){return(0,ce.L)(JSON.stringify({version:2,heartbeats:$})).length}!function Ee($){br(new X.wA("platform-logger",Q=>new ge(Q),"PRIVATE")),br(new X.wA("heartbeat",Q=>new cr(Q),"PRIVATE")),mn(oe,"0.7.25",$),mn(oe,"0.7.25","esm2017"),mn("fire-js","")}("")},4859:(Qe,be,k)=>{k.d(be,{H0:()=>oe,wA:()=>R});var c=k(5861),X=k(2090);class R{constructor(H,B,te){this.name=H,this.instanceFactory=B,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const ce="[DEFAULT]";class ne{constructor(H,B){this.name=H,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const B=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(B)){const te=new X.BH;if(this.instancesDeferred.set(B,te),this.isInitialized(B)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:B});qe&&te.resolve(qe)}catch(qe){}}return this.instancesDeferred.get(B).promise}getImmediate(H){var B;const te=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),qe=null!==(B=null==H?void 0:H.optional)&&void 0!==B&&B;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Ae){if(qe)return null;throw Ae}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function ue(he){return"EAGER"===he.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:ce})}catch(B){}for(const[B,te]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(B);try{const Ae=this.getOrInitializeService({instanceIdentifier:qe});te.resolve(Ae)}catch(Ae){}}}}clearInstance(H=ce){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,c.Z)(function*(){const B=Array.from(H.instances.values());yield Promise.all([...B.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...B.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=ce){return this.instances.has(H)}getOptions(H=ce){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:B={}}=H,te=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:te,options:B});for(const[Ae,Pe]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Ae)&&Pe.resolve(qe);return qe}onInit(H,B){var te;const qe=this.normalizeInstanceIdentifier(B),Ae=null!==(te=this.onInitCallbacks.get(qe))&&void 0!==te?te:new Set;Ae.add(H),this.onInitCallbacks.set(qe,Ae);const Pe=this.instances.get(qe);return Pe&&H(Pe,qe),()=>{Ae.delete(H)}}invokeOnInitCallbacks(H,B){const te=this.onInitCallbacks.get(B);if(te)for(const qe of te)try{qe(H,B)}catch(Ae){}}getOrInitializeService({instanceIdentifier:H,options:B={}}){let te=this.instances.get(H);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(he=H,he===ce?void 0:he),options:B}),this.instances.set(H,te),this.instancesOptions.set(H,B),this.invokeOnInitCallbacks(te,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,te)}catch(qe){}var he;return te||null}normalizeInstanceIdentifier(H=ce){return this.component?this.component.multipleInstances?H:ce:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oe{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const B=this.getProvider(H.name);if(B.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);B.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const B=new ne(H,this);return this.providers.set(H,B),B}getProviders(){return Array.from(this.providers.values())}}},1877:(Qe,be,k)=>{k.d(be,{Am:()=>he,Ub:()=>oe,Yd:()=>ue,in:()=>X});const c=[];var X=(()=>{return(H=X||(X={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",X;var H})();const R={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ce=X.INFO,ne={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ge=(H,B,...te)=>{if(B<H.logLevel)return;const qe=(new Date).toISOString(),Ae=ne[B];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[Ae](`[${qe}]  ${H.name}:`,...te)};class ue{constructor(B){this.name=B,this._logLevel=ce,this._logHandler=ge,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in X))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?R[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...B),this._logHandler(this,X.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...B),this._logHandler(this,X.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,X.INFO,...B),this._logHandler(this,X.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,X.WARN,...B),this._logHandler(this,X.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...B),this._logHandler(this,X.ERROR,...B)}}function oe(H){c.forEach(B=>{B.setLogLevel(H)})}function he(H,B){for(const te of c){let qe=null;B&&B.level&&(qe=R[B.level]),te.userLogHandler=null===H?null:(Ae,Pe,...Ue)=>{const pe=Ue.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch(Ge){return null}}).filter(Ce=>Ce).join(" ");Pe>=(null!=qe?qe:Ae.logLevel)&&H({level:X[Pe].toLowerCase(),message:pe,args:Ue,type:Ae.name})}}}},8766:(Qe,be,k)=>{k.d(be,{Lj:()=>Ie,X3:()=>We});var c=k(5861);let R,ce;const ue=new WeakMap,oe=new WeakMap,he=new WeakMap,H=new WeakMap,B=new WeakMap;let Ae={get(j,ve,W){if(j instanceof IDBTransaction){if("done"===ve)return oe.get(j);if("objectStoreNames"===ve)return j.objectStoreNames||he.get(j);if("store"===ve)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return Ce(j[ve])},set:(j,ve,W)=>(j[ve]=W,!0),has:(j,ve)=>j instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in j};function pe(j){return"function"==typeof j?function Ue(j){return j!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(j)?function(...ve){return j.apply(Ge(this),ve),Ce(ue.get(this))}:function(...ve){return Ce(j.apply(Ge(this),ve))}:function(ve,...W){const re=j.call(Ge(this),ve,...W);return he.set(re,ve.sort?ve.sort():[ve]),Ce(re)}}(j):(j instanceof IDBTransaction&&function qe(j){if(oe.has(j))return;const ve=new Promise((W,re)=>{const ee=()=>{j.removeEventListener("complete",me),j.removeEventListener("error",ae),j.removeEventListener("abort",ae)},me=()=>{W(),ee()},ae=()=>{re(j.error||new DOMException("AbortError","AbortError")),ee()};j.addEventListener("complete",me),j.addEventListener("error",ae),j.addEventListener("abort",ae)});oe.set(j,ve)}(j),((j,ve)=>ve.some(W=>j instanceof W))(j,function ne(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(j,Ae):j)}function Ce(j){if(j instanceof IDBRequest)return function te(j){const ve=new Promise((W,re)=>{const ee=()=>{j.removeEventListener("success",me),j.removeEventListener("error",ae)},me=()=>{W(Ce(j.result)),ee()},ae=()=>{re(j.error),ee()};j.addEventListener("success",me),j.addEventListener("error",ae)});return ve.then(W=>{W instanceof IDBCursor&&ue.set(W,j)}).catch(()=>{}),B.set(ve,j),ve}(j);if(H.has(j))return H.get(j);const ve=pe(j);return ve!==j&&(H.set(j,ve),B.set(ve,j)),ve}const Ge=j=>B.get(j);function We(j,ve,{blocked:W,upgrade:re,blocking:ee,terminated:me}={}){const ae=indexedDB.open(j,ve),ke=Ce(ae);return re&&ae.addEventListener("upgradeneeded",at=>{re(Ce(ae.result),at.oldVersion,at.newVersion,Ce(ae.transaction))}),W&&ae.addEventListener("blocked",()=>W()),ke.then(at=>{me&&at.addEventListener("close",()=>me()),ee&&at.addEventListener("versionchange",()=>ee())}).catch(()=>{}),ke}function Ie(j,{blocked:ve}={}){const W=indexedDB.deleteDatabase(j);return ve&&W.addEventListener("blocked",()=>ve()),Ce(W).then(()=>{})}const _e=["get","getKey","getAll","getAllKeys","count"],we=["put","add","delete","clear"],Be=new Map;function Ve(j,ve){if(!(j instanceof IDBDatabase)||ve in j||"string"!=typeof ve)return;if(Be.get(ve))return Be.get(ve);const W=ve.replace(/FromIndex$/,""),re=ve!==W,ee=we.includes(W);if(!(W in(re?IDBIndex:IDBObjectStore).prototype)||!ee&&!_e.includes(W))return;const me=function(){var ae=(0,c.Z)(function*(ke,...at){const Ht=this.transaction(ke,ee?"readwrite":"readonly");let Ft=Ht.store;return re&&(Ft=Ft.index(at.shift())),(yield Promise.all([Ft[W](...at),ee&&Ht.done]))[0]});return function(at){return ae.apply(this,arguments)}}();return Be.set(ve,me),me}!function Pe(j){Ae=j(Ae)}(j=>lP(cP({},j),{get:(ve,W,re)=>Ve(ve,W)||j.get(ve,W,re),has:(ve,W)=>!!Ve(ve,W)||j.has(ve,W)}))},5861:(Qe,be,k)=>{function c(R,ce,ne,ge,ue,oe,he){try{var H=R[oe](he),B=H.value}catch(te){return void ne(te)}H.done?ce(B):Promise.resolve(B).then(ge,ue)}function X(R){return function(){var ce=this,ne=arguments;return new Promise(function(ge,ue){var oe=R.apply(ce,ne);function he(B){c(oe,ge,ue,he,H,"next",B)}function H(B){c(oe,ge,ue,he,H,"throw",B)}he(void 0)})}}k.d(be,{Z:()=>X})}},Qe=>{Qe(Qe.s=2304)}]);